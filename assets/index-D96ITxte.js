function bz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Xs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lx={exports:{}},Cf={};var bj;function xz(){if(bj)return Cf;bj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Cf.Fragment=e,Cf.jsx=n,Cf.jsxs=n,Cf}var xj;function _z(){return xj||(xj=1,lx.exports=xz()),lx.exports}var f=_z(),cx={exports:{}},Qe={};var _j;function wz(){if(_j)return Qe;_j=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function j(H,q,K){this.props=H,this.context=q,this.refs=S,this.updater=K||E}j.prototype.isReactComponent={},j.prototype.setState=function(H,q){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,q,"setState")},j.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=j.prototype;function P(H,q,K){this.props=H,this.context=q,this.refs=S,this.updater=K||E}var U=P.prototype=new R;U.constructor=P,A(U,j.prototype),U.isPureReactComponent=!0;var V=Array.isArray;function $(){}var O={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function D(H,q,K){var J=K.ref;return{$$typeof:t,type:H,key:q,ref:J!==void 0?J:null,props:K}}function z(H,q){return D(H.type,q,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function B(H){var q={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(K){return q[K]})}var k=/\/+/g;function he(H,q){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):q.toString(36)}function Ae(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(q){H.status==="pending"&&(H.status="fulfilled",H.value=q)},function(q){H.status==="pending"&&(H.status="rejected",H.reason=q)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function X(H,q,K,J,fe){var xe=typeof H;(xe==="undefined"||xe==="boolean")&&(H=null);var we=!1;if(H===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(H.$$typeof){case t:case e:we=!0;break;case p:return we=H._init,X(we(H._payload),q,K,J,fe)}}if(we)return fe=fe(H),we=J===""?"."+he(H,0):J,V(fe)?(K="",we!=null&&(K=we.replace(k,"$&/")+"/"),X(fe,q,K,"",function(Re){return Re})):fe!=null&&(M(fe)&&(fe=z(fe,K+(fe.key==null||H&&H.key===fe.key?"":(""+fe.key).replace(k,"$&/")+"/")+we)),q.push(fe)),1;we=0;var Te=J===""?".":J+":";if(V(H))for(var te=0;te<H.length;te++)J=H[te],xe=Te+he(J,te),we+=X(J,q,K,xe,fe);else if(te=_(H),typeof te=="function")for(H=te.call(H),te=0;!(J=H.next()).done;)J=J.value,xe=Te+he(J,te++),we+=X(J,q,K,xe,fe);else if(xe==="object"){if(typeof H.then=="function")return X(Ae(H),q,K,J,fe);throw q=String(H),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return we}function oe(H,q,K){if(H==null)return H;var J=[],fe=0;return X(H,J,"","",function(xe){return q.call(K,xe,fe++)}),J}function _e(H){if(H._status===-1){var q=H._result;q=q(),q.then(function(K){(H._status===0||H._status===-1)&&(H._status=1,H._result=K)},function(K){(H._status===0||H._status===-1)&&(H._status=2,H._result=K)}),H._status===-1&&(H._status=0,H._result=q)}if(H._status===1)return H._result.default;throw H._result}var Z=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Se={map:oe,forEach:function(H,q,K){oe(H,function(){q.apply(this,arguments)},K)},count:function(H){var q=0;return oe(H,function(){q++}),q},toArray:function(H){return oe(H,function(q){return q})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Qe.Activity=g,Qe.Children=Se,Qe.Component=j,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=P,Qe.StrictMode=r,Qe.Suspense=d,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},Qe.cache=function(H){return function(){return H.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(H,q,K){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var J=A({},H.props),fe=H.key;if(q!=null)for(xe in q.key!==void 0&&(fe=""+q.key),q)!I.call(q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&q.ref===void 0||(J[xe]=q[xe]);var xe=arguments.length-2;if(xe===1)J.children=K;else if(1<xe){for(var we=Array(xe),Te=0;Te<xe;Te++)we[Te]=arguments[Te+2];J.children=we}return D(H.type,fe,J)},Qe.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Qe.createElement=function(H,q,K){var J,fe={},xe=null;if(q!=null)for(J in q.key!==void 0&&(xe=""+q.key),q)I.call(q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(fe[J]=q[J]);var we=arguments.length-2;if(we===1)fe.children=K;else if(1<we){for(var Te=Array(we),te=0;te<we;te++)Te[te]=arguments[te+2];fe.children=Te}if(H&&H.defaultProps)for(J in we=H.defaultProps,we)fe[J]===void 0&&(fe[J]=we[J]);return D(H,xe,fe)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(H){return{$$typeof:u,render:H}},Qe.isValidElement=M,Qe.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:_e}},Qe.memo=function(H,q){return{$$typeof:h,type:H,compare:q===void 0?null:q}},Qe.startTransition=function(H){var q=O.T,K={};O.T=K;try{var J=H(),fe=O.S;fe!==null&&fe(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then($,Z)}catch(xe){Z(xe)}finally{q!==null&&K.types!==null&&(q.types=K.types),O.T=q}},Qe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Qe.use=function(H){return O.H.use(H)},Qe.useActionState=function(H,q,K){return O.H.useActionState(H,q,K)},Qe.useCallback=function(H,q){return O.H.useCallback(H,q)},Qe.useContext=function(H){return O.H.useContext(H)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(H,q){return O.H.useDeferredValue(H,q)},Qe.useEffect=function(H,q){return O.H.useEffect(H,q)},Qe.useEffectEvent=function(H){return O.H.useEffectEvent(H)},Qe.useId=function(){return O.H.useId()},Qe.useImperativeHandle=function(H,q,K){return O.H.useImperativeHandle(H,q,K)},Qe.useInsertionEffect=function(H,q){return O.H.useInsertionEffect(H,q)},Qe.useLayoutEffect=function(H,q){return O.H.useLayoutEffect(H,q)},Qe.useMemo=function(H,q){return O.H.useMemo(H,q)},Qe.useOptimistic=function(H,q){return O.H.useOptimistic(H,q)},Qe.useReducer=function(H,q,K){return O.H.useReducer(H,q,K)},Qe.useRef=function(H){return O.H.useRef(H)},Qe.useState=function(H){return O.H.useState(H)},Qe.useSyncExternalStore=function(H,q,K){return O.H.useSyncExternalStore(H,q,K)},Qe.useTransition=function(){return O.H.useTransition()},Qe.version="19.2.3",Qe}var wj;function sd(){return wj||(wj=1,cx.exports=wz()),cx.exports}var w=sd();const Ez=Xs(w),Az=bz({__proto__:null,default:Ez},[w]);var ux={exports:{}},Of={},dx={exports:{}},fx={};var Ej;function Sz(){return Ej||(Ej=1,(function(t){function e(X,oe){var _e=X.length;X.push(oe);e:for(;0<_e;){var Z=_e-1>>>1,Se=X[Z];if(0<i(Se,oe))X[Z]=oe,X[_e]=Se,_e=Z;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var oe=X[0],_e=X.pop();if(_e!==oe){X[0]=_e;e:for(var Z=0,Se=X.length,H=Se>>>1;Z<H;){var q=2*(Z+1)-1,K=X[q],J=q+1,fe=X[J];if(0>i(K,_e))J<Se&&0>i(fe,K)?(X[Z]=fe,X[J]=_e,Z=J):(X[Z]=K,X[q]=_e,Z=q);else if(J<Se&&0>i(fe,_e))X[Z]=fe,X[J]=_e,Z=J;else break e}}return oe}function i(X,oe){var _e=X.sortIndex-oe.sortIndex;return _e!==0?_e:X.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,b=3,_=!1,E=!1,A=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function U(X){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=X)r(h),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(h)}}function V(X){if(A=!1,U(X),!E)if(n(d)!==null)E=!0,$||($=!0,B());else{var oe=n(h);oe!==null&&Ae(V,oe.startTime-X)}}var $=!1,O=-1,I=5,D=-1;function z(){return S?!0:!(t.unstable_now()-D<I)}function M(){if(S=!1,$){var X=t.unstable_now();D=X;var oe=!0;try{e:{E=!1,A&&(A=!1,R(O),O=-1),_=!0;var _e=b;try{t:{for(U(X),g=n(d);g!==null&&!(g.expirationTime>X&&z());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,b=g.priorityLevel;var Se=Z(g.expirationTime<=X);if(X=t.unstable_now(),typeof Se=="function"){g.callback=Se,U(X),oe=!0;break t}g===n(d)&&r(d),U(X)}else r(d);g=n(d)}if(g!==null)oe=!0;else{var H=n(h);H!==null&&Ae(V,H.startTime-X),oe=!1}}break e}finally{g=null,b=_e,_=!1}oe=void 0}}finally{oe?B():$=!1}}}var B;if(typeof P=="function")B=function(){P(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,he=k.port2;k.port1.onmessage=M,B=function(){he.postMessage(null)}}else B=function(){j(M,0)};function Ae(X,oe){O=j(function(){X(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(X){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var _e=b;b=oe;try{return X()}finally{b=_e}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=b;b=X;try{return oe()}finally{b=_e}},t.unstable_scheduleCallback=function(X,oe,_e){var Z=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Z+_e:Z):_e=Z,X){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=_e+Se,X={id:p++,callback:oe,priorityLevel:X,startTime:_e,expirationTime:Se,sortIndex:-1},_e>Z?(X.sortIndex=_e,e(h,X),n(d)===null&&X===n(h)&&(A?(R(O),O=-1):A=!0,Ae(V,_e-Z))):(X.sortIndex=Se,e(d,X),E||_||(E=!0,$||($=!0,B()))),X},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(X){var oe=b;return function(){var _e=b;b=oe;try{return X.apply(this,arguments)}finally{b=_e}}}})(fx)),fx}var Aj;function Tz(){return Aj||(Aj=1,dx.exports=Sz()),dx.exports}var hx={exports:{}},vr={};var Sj;function Nz(){if(Sj)return vr;Sj=1;var t=sd();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vr.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,p)},vr.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},vr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},vr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},vr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},vr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},vr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},vr.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},vr.requestFormReset=function(d){r.d.r(d)},vr.unstable_batchedUpdates=function(d,h){return d(h)},vr.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},vr.useFormStatus=function(){return l.H.useHostTransitionStatus()},vr.version="19.2.3",vr}var Tj;function CD(){if(Tj)return hx.exports;Tj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hx.exports=Nz(),hx.exports}var Nj;function jz(){if(Nj)return Of;Nj=1;var t=Tz(),e=sd(),n=CD();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return d(v),a;if(x===m)return d(v),o;x=x.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=x;else{for(var N=!1,L=v.child;L;){if(L===c){N=!0,c=v,m=x;break}if(L===m){N=!0,m=v,c=x;break}L=L.sibling}if(!N){for(L=x.child;L;){if(L===c){N=!0,c=x,m=v;break}if(L===m){N=!0,m=x,c=v;break}L=L.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var k=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===k?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case V:return"Suspense";case $:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case P:return a.displayName||"Context";case R:return(a._context.displayName||"Context")+".Consumer";case U:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:he(a.type)||"Memo";case I:o=a._payload,a=a._init;try{return he(a(o))}catch{}}return null}var Ae=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Z=[],Se=-1;function H(a){return{current:a}}function q(a){0>Se||(a.current=Z[Se],Z[Se]=null,Se--)}function K(a,o){Se++,Z[Se]=a.current,a.current=o}var J=H(null),fe=H(null),xe=H(null),we=H(null);function Te(a,o){switch(K(xe,o),K(fe,a),K(J,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?F2(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=F2(o),a=$2(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}q(J),K(J,a)}function te(){q(J),q(fe),q(xe)}function Re(a){a.memoizedState!==null&&K(we,a);var o=J.current,c=$2(o,a.type);o!==c&&(K(fe,a),K(J,c))}function je(a){fe.current===a&&(q(J),q(fe)),we.current===a&&(q(we),Sf._currentValue=_e)}var ge,Ie;function Oe(a){if(ge===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",Ie=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+a+Ie}var dt=!1;function W(a,o){if(!a||dt)return"";dt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ce){var se=ce}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(ce){se=ce}a.call(ye.prototype)}}else{try{throw Error()}catch(ce){se=ce}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ce){if(ce&&se&&typeof ce.stack=="string")return[ce.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),N=x[0],L=x[1];if(N&&L){var G=N.split(`
`),ae=L.split(`
`);for(v=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;v<ae.length&&!ae[v].includes("DetermineComponentFrameRoot");)v++;if(m===G.length||v===ae.length)for(m=G.length-1,v=ae.length-1;1<=m&&0<=v&&G[m]!==ae[v];)v--;for(;1<=m&&0<=v;m--,v--)if(G[m]!==ae[v]){if(m!==1||v!==1)do if(m--,v--,0>v||G[m]!==ae[v]){var de=`
`+G[m].replace(" at new "," at ");return a.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",a.displayName)),de}while(1<=m&&0<=v);break}}}finally{dt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Oe(c):""}function Ee(a,o){switch(a.tag){case 26:case 27:case 5:return Oe(a.type);case 16:return Oe("Lazy");case 13:return a.child!==o&&o!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return W(a.type,!1);case 11:return W(a.type.render,!1);case 1:return W(a.type,!0);case 31:return Oe("Activity");default:return""}}function be(a){try{var o="",c=null;do o+=Ee(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ue=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,Fe=t.unstable_cancelCallback,sn=t.unstable_shouldYield,tn=t.unstable_requestPaint,Yt=t.unstable_now,lr=t.unstable_getCurrentPriorityLevel,ts=t.unstable_ImmediatePriority,Rt=t.unstable_UserBlockingPriority,mt=t.unstable_NormalPriority,Lr=t.unstable_LowPriority,Cr=t.unstable_IdlePriority,yr=t.log,qi=t.unstable_setDisableYieldValue,Ln=null,ne=null;function De(a){if(typeof yr=="function"&&qi(a),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(Ln,a)}catch{}}var Ye=Math.clz32?Math.clz32:so,kt=Math.log,Vr=Math.LN2;function so(a){return a>>>=0,a===0?32:31-(kt(a)/Vr|0)|0}var Gn=256,yi=262144,nn=4194304;function We(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Dt(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var v=0,x=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var L=m&134217727;return L!==0?(m=L&~x,m!==0?v=We(m):(N&=L,N!==0?v=We(N):c||(c=L&~a,c!==0&&(v=We(c))))):(L=m&~x,L!==0?v=We(L):N!==0?v=We(N):c||(c=m&~a,c!==0&&(v=We(c)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:v}function Vn(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function _n(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(){var a=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),a}function Yn(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Tl(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function h0(a,o,c,m,v,x){var N=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var L=a.entanglements,G=a.expirationTimes,ae=a.hiddenUpdates;for(c=N&~c;0<c;){var de=31-Ye(c),ye=1<<de;L[de]=0,G[de]=-1;var se=ae[de];if(se!==null)for(ae[de]=null,de=0;de<se.length;de++){var ce=se[de];ce!==null&&(ce.lane&=-536870913)}c&=~ye}m!==0&&Nl(a,m,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(N&~o))}function Nl(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-Ye(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function Cd(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-Ye(c),v=1<<m;v&o|a[m]&o&&(a[m]|=o),c&=~v}}function Od(a,o){var c=o&-o;return c=(c&42)!==0?1:jl(c),(c&(a.suspendedLanes|o))!==0?0:c}function jl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ns(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function vm(){var a=oe.p;return a!==0?a:(a=window.event,a===void 0?32:fj(a.type))}function Hi(a,o){var c=oe.p;try{return oe.p=a,o()}finally{oe.p=c}}var Ki=Math.random().toString(36).slice(2),wn="__reactFiber$"+Ki,Wn="__reactProps$"+Ki,pa="__reactContainer$"+Ki,Bc="__reactEvents$"+Ki,m0="__reactListeners$"+Ki,bm="__reactHandles$"+Ki,xm="__reactResources$"+Ki,ga="__reactMarker$"+Ki;function Fc(a){delete a[wn],delete a[Wn],delete a[Bc],delete a[m0],delete a[bm]}function ya(a){var o=a[wn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[pa]||c[wn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=X2(a);a!==null;){if(c=a[wn])return c;a=X2(a)}return o}a=c,c=a.parentNode}return null}function vi(a){if(a=a[wn]||a[pa]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Qr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function va(a){var o=a[xm];return o||(o=a[xm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function En(a){a[ga]=!0}var Id=new Set,Pd={};function ba(a,o){xa(a,o),xa(a+"Capture",o)}function xa(a,o){for(Pd[a]=o,a=0;a<o.length;a++)Id.add(o[a])}var Rd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kd={},Dd={};function _m(a){return ue.call(Dd,a)?!0:ue.call(kd,a)?!1:Rd.test(a)?Dd[a]=!0:(kd[a]=!0,!1)}function $c(a,o,c){if(_m(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Jr(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function An(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function Xn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function oo(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Md(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,x=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(N){c=""+N,x.call(this,N)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Et(a){if(!a._valueTracker){var o=oo(a)?"checked":"value";a._valueTracker=Md(a,o,""+a[o])}}function Cl(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=oo(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function _a(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ol=/[\n"\\]/g;function Ur(a){return a.replace(Ol,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function qc(a,o,c,m,v,x,N,L){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Xn(o)):a.value!==""+Xn(o)&&(a.value=""+Xn(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?Ld(a,N,Xn(o)):c!=null?Ld(a,N,Xn(c)):m!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+Xn(L):a.removeAttribute("name")}function wm(a,o,c,m,v,x,N,L){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Et(a);return}c=c!=null?""+Xn(c):"",o=o!=null?""+Xn(o):c,L||o===a.value||(a.value=o),a.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=L?a.checked:!!m,a.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),Et(a)}function Ld(a,o,c){o==="number"&&_a(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function lo(a,o,c,m){if(a=a.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=o.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&m&&(a[c].defaultSelected=!0)}else{for(c=""+Xn(c),o=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function Em(a,o,c){if(o!=null&&(o=""+Xn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Xn(c):""}function co(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(Ae(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=Xn(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),Et(a)}function zr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var Am=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vd(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||Am.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Ud(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&c[v]!==m&&Vd(a,v,m)}else for(var x in o)o.hasOwnProperty(x)&&Vd(a,x,o[x])}function Hc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kc(a){return uo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Gi(){}var zd=null;function bi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fo=null,wa=null;function Il(a){var o=vi(a);if(o&&(a=o.stateNode)){var c=a[Wn]||null;e:switch(a=o.stateNode,o.type){case"input":if(qc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ur(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var v=m[Wn]||null;if(!v)throw Error(r(90));qc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&Cl(m)}break e;case"textarea":Em(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&lo(a,!!c.multiple,o,!1)}}}var Gc=!1;function ho(a,o,c){if(Gc)return a(o,c);Gc=!0;try{var m=a(o);return m}finally{if(Gc=!1,(fo!==null||wa!==null)&&(vp(),fo&&(o=fo,a=wa,wa=fo=null,Il(o),a)))for(o=0;o<a.length;o++)Il(a[o])}}function Yi(a,o){var c=a.stateNode;if(c===null)return null;var m=c[Wn]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=!1;if(xi)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{Pl=!1}var Ea=null,Bd=null,Rl=null;function Fd(){if(Rl)return Rl;var a,o=Bd,c=o.length,m,v="value"in Ea?Ea.value:Ea.textContent,x=v.length;for(a=0;a<c&&o[a]===v[a];a++);var N=c-a;for(m=1;m<=N&&o[c-m]===v[x-m];m++);return Rl=v.slice(a,1<m?1-m:void 0)}function kl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function rs(){return!0}function Wi(){return!1}function cr(a){function o(c,m,v,x,N){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(c=a[L],this[L]=c?c(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?rs:Wi,this.isPropagationStopped=Wi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),o}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=cr(is),mo=g({},is,{view:0,detail:0}),$d=cr(mo),po,Yc,Sa,Wc=g({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Sa&&(Sa&&a.type==="mousemove"?(po=a.screenX-Sa.screenX,Yc=a.screenY-Sa.screenY):Yc=po=0,Sa=a),po)},movementY:function(a){return"movementY"in a?a.movementY:Yc}}),qd=cr(Wc),Dl=g({},Wc,{dataTransfer:0}),Tm=cr(Dl),Nm=g({},mo,{relatedTarget:0}),Ml=cr(Nm),Hd=g({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),jm=cr(Hd),Xc=g({},is,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cm=cr(Xc),Om=g({},is,{data:0}),Ta=cr(Om),Im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function km(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Rm[a])?!!o[a]:!1}function go(){return km}var Or=g({},mo,{key:function(a){if(a.key){var o=Im[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=kl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Pm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(a){return a.type==="keypress"?kl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?kl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Dm=cr(Or),Mm=g({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=cr(Mm),y=g({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),T=cr(y),C=g({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=cr(C),ee=g({},Wc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=cr(ee),Ne=g({},is,{newState:0,oldState:0}),Ze=cr(Ne),pn=[9,13,27,32],vt=xi&&"CompositionEvent"in window,Wt=null;xi&&"documentMode"in document&&(Wt=document.documentMode);var _i=xi&&"TextEvent"in window&&!Wt,Na=xi&&(!vt||Wt&&8<Wt&&11>=Wt),Xi=" ",Qi=!1;function Ll(a,o){switch(a){case"keyup":return pn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Jc=!1;function $U(a,o){switch(a){case"compositionend":return Qc(o);case"keypress":return o.which!==32?null:(Qi=!0,Xi);case"textInput":return a=o.data,a===Xi&&Qi?null:a;default:return null}}function qU(a,o){if(Jc)return a==="compositionend"||!vt&&Ll(a,o)?(a=Fd(),Rl=Bd=Ea=null,Jc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Na&&o.locale!=="ko"?null:o.data;default:return null}}var HU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZS(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!HU[a.type]:o==="textarea"}function eT(a,o,c,m){fo?wa?wa.push(m):wa=[m]:fo=m,o=Sp(o,"onChange"),0<o.length&&(c=new Aa("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var Kd=null,Gd=null;function KU(a){M2(a,0)}function Lm(a){var o=Qr(a);if(Cl(o))return a}function tT(a,o){if(a==="change")return o}var nT=!1;if(xi){var p0;if(xi){var g0="oninput"in document;if(!g0){var rT=document.createElement("div");rT.setAttribute("oninput","return;"),g0=typeof rT.oninput=="function"}p0=g0}else p0=!1;nT=p0&&(!document.documentMode||9<document.documentMode)}function iT(){Kd&&(Kd.detachEvent("onpropertychange",aT),Gd=Kd=null)}function aT(a){if(a.propertyName==="value"&&Lm(Gd)){var o=[];eT(o,Gd,a,bi(a)),ho(KU,o)}}function GU(a,o,c){a==="focusin"?(iT(),Kd=o,Gd=c,Kd.attachEvent("onpropertychange",aT)):a==="focusout"&&iT()}function YU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lm(Gd)}function WU(a,o){if(a==="click")return Lm(o)}function XU(a,o){if(a==="input"||a==="change")return Lm(o)}function QU(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Zr=typeof Object.is=="function"?Object.is:QU;function Yd(a,o){if(Zr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!ue.call(o,v)||!Zr(a[v],o[v]))return!1}return!0}function sT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function oT(a,o){var c=sT(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=sT(c)}}function lT(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?lT(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function cT(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=_a(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=_a(a.document)}return o}function y0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var JU=xi&&"documentMode"in document&&11>=document.documentMode,Zc=null,v0=null,Wd=null,b0=!1;function uT(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;b0||Zc==null||Zc!==_a(m)||(m=Zc,"selectionStart"in m&&y0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Wd&&Yd(Wd,m)||(Wd=m,m=Sp(v0,"onSelect"),0<m.length&&(o=new Aa("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=Zc)))}function Vl(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var eu={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},x0={},dT={};xi&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function Ul(a){if(x0[a])return x0[a];if(!eu[a])return a;var o=eu[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in dT)return x0[a]=o[c];return a}var fT=Ul("animationend"),hT=Ul("animationiteration"),mT=Ul("animationstart"),ZU=Ul("transitionrun"),e9=Ul("transitionstart"),t9=Ul("transitioncancel"),pT=Ul("transitionend"),gT=new Map,_0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_0.push("scrollEnd");function Ji(a,o){gT.set(a,o),ba(o,[a])}var Vm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},wi=[],tu=0,w0=0;function Um(){for(var a=tu,o=w0=tu=0;o<a;){var c=wi[o];wi[o++]=null;var m=wi[o];wi[o++]=null;var v=wi[o];wi[o++]=null;var x=wi[o];if(wi[o++]=null,m!==null&&v!==null){var N=m.pending;N===null?v.next=v:(v.next=N.next,N.next=v),m.pending=v}x!==0&&yT(c,v,x)}}function zm(a,o,c,m){wi[tu++]=a,wi[tu++]=o,wi[tu++]=c,wi[tu++]=m,w0|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function E0(a,o,c,m){return zm(a,o,c,m),Bm(a)}function zl(a,o){return zm(a,null,null,o),Bm(a)}function yT(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var v=!1,x=a.return;x!==null;)x.childLanes|=c,m=x.alternate,m!==null&&(m.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&o!==null&&(v=31-Ye(c),a=x.hiddenUpdates,m=a[v],m===null?a[v]=[o]:m.push(o),o.lane=c|536870912),x):null}function Bm(a){if(50<vf)throw vf=0,Pb=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var nu={};function n9(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(a,o,c,m){return new n9(a,o,c,m)}function A0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ss(a,o){var c=a.alternate;return c===null?(c=ei(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function vT(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Fm(a,o,c,m,v,x){var N=0;if(m=a,typeof a=="function")A0(a)&&(N=1);else if(typeof a=="string")N=oz(a,c,J.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=ei(31,c,o,v),a.elementType=D,a.lanes=x,a;case A:return Bl(c.children,v,x,o);case S:N=8,v|=24;break;case j:return a=ei(12,c,o,v|2),a.elementType=j,a.lanes=x,a;case V:return a=ei(13,c,o,v),a.elementType=V,a.lanes=x,a;case $:return a=ei(19,c,o,v),a.elementType=$,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case P:N=10;break e;case R:N=9;break e;case U:N=11;break e;case O:N=14;break e;case I:N=16,m=null;break e}N=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=ei(N,c,o,v),o.elementType=a,o.type=m,o.lanes=x,o}function Bl(a,o,c,m){return a=ei(7,a,m,o),a.lanes=c,a}function S0(a,o,c){return a=ei(6,a,null,o),a.lanes=c,a}function bT(a){var o=ei(18,null,null,0);return o.stateNode=a,o}function T0(a,o,c){return o=ei(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var xT=new WeakMap;function Ei(a,o){if(typeof a=="object"&&a!==null){var c=xT.get(a);return c!==void 0?c:(o={value:a,source:o,stack:be(o)},xT.set(a,o),o)}return{value:a,source:o,stack:be(o)}}var ru=[],iu=0,$m=null,Xd=0,Ai=[],Si=0,yo=null,ja=1,Ca="";function os(a,o){ru[iu++]=Xd,ru[iu++]=$m,$m=a,Xd=o}function _T(a,o,c){Ai[Si++]=ja,Ai[Si++]=Ca,Ai[Si++]=yo,yo=a;var m=ja;a=Ca;var v=32-Ye(m)-1;m&=~(1<<v),c+=1;var x=32-Ye(o)+v;if(30<x){var N=v-v%5;x=(m&(1<<N)-1).toString(32),m>>=N,v-=N,ja=1<<32-Ye(o)+v|c<<v|m,Ca=x+a}else ja=1<<x|c<<v|m,Ca=a}function N0(a){a.return!==null&&(os(a,1),_T(a,1,0))}function j0(a){for(;a===$m;)$m=ru[--iu],ru[iu]=null,Xd=ru[--iu],ru[iu]=null;for(;a===yo;)yo=Ai[--Si],Ai[Si]=null,Ca=Ai[--Si],Ai[Si]=null,ja=Ai[--Si],Ai[Si]=null}function wT(a,o){Ai[Si++]=ja,Ai[Si++]=Ca,Ai[Si++]=yo,ja=o.id,Ca=o.overflow,yo=a}var ur=null,$t=null,ut=!1,vo=null,Ti=!1,C0=Error(r(519));function bo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qd(Ei(o,a)),C0}function ET(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[wn]=a,o[Wn]=m,c){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(c=0;c<xf.length;c++)rt(xf[c],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),wm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),co(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||z2(o.textContent,c)?(m.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),m.onScroll!=null&&rt("scroll",o),m.onScrollEnd!=null&&rt("scrollend",o),m.onClick!=null&&(o.onclick=Gi),o=!0):o=!1,o||bo(a,!0)}function AT(a){for(ur=a.return;ur;)switch(ur.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:ur=ur.return}}function au(a){if(a!==ur)return!1;if(!ut)return AT(a),ut=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Gb(a.type,a.memoizedProps)),c=!c),c&&$t&&bo(a),AT(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=W2(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=W2(a)}else o===27?(o=$t,Ro(a.type)?(a=Jb,Jb=null,$t=a):$t=o):$t=ur?ji(a.stateNode.nextSibling):null;return!0}function Fl(){$t=ur=null,ut=!1}function O0(){var a=vo;return a!==null&&(qr===null?qr=a:qr.push.apply(qr,a),vo=null),a}function Qd(a){vo===null?vo=[a]:vo.push(a)}var I0=H(null),$l=null,ls=null;function xo(a,o,c){K(I0,o._currentValue),o._currentValue=c}function cs(a){a._currentValue=I0.current,q(I0)}function P0(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function R0(a,o,c,m){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var N=v.child;x=x.firstContext;e:for(;x!==null;){var L=x;x=v;for(var G=0;G<o.length;G++)if(L.context===o[G]){x.lanes|=c,L=x.alternate,L!==null&&(L.lanes|=c),P0(x.return,c,a),m||(N=null);break e}x=L.next}}else if(v.tag===18){if(N=v.return,N===null)throw Error(r(341));N.lanes|=c,x=N.alternate,x!==null&&(x.lanes|=c),P0(N,c,a),N=null}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===a){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}}function su(a,o,c,m){a=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var N=v.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var L=v.type;Zr(v.pendingProps.value,N.value)||(a!==null?a.push(L):a=[L])}}else if(v===we.current){if(N=v.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Sf):a=[Sf])}v=v.return}a!==null&&R0(o,a,c,m),o.flags|=262144}function qm(a){for(a=a.firstContext;a!==null;){if(!Zr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ql(a){$l=a,ls=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function dr(a){return ST($l,a)}function Hm(a,o){return $l===null&&ql(a),ST(a,o)}function ST(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ls===null){if(a===null)throw Error(r(308));ls=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ls=ls.next=o;return c}var r9=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},i9=t.unstable_scheduleCallback,a9=t.unstable_NormalPriority,Sn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function k0(){return{controller:new r9,data:new Map,refCount:0}}function Jd(a){a.refCount--,a.refCount===0&&i9(a9,function(){a.controller.abort()})}var Zd=null,D0=0,ou=0,lu=null;function s9(a,o){if(Zd===null){var c=Zd=[];D0=0,ou=Vb(),lu={status:"pending",value:void 0,then:function(m){c.push(m)}}}return D0++,o.then(TT,TT),o}function TT(){if(--D0===0&&Zd!==null){lu!==null&&(lu.status="fulfilled");var a=Zd;Zd=null,ou=0,lu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function o9(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var NT=X.S;X.S=function(a,o){u2=Yt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&s9(a,o),NT!==null&&NT(a,o)};var Hl=H(null);function M0(){var a=Hl.current;return a!==null?a:Mt.pooledCache}function Km(a,o){o===null?K(Hl,Hl.current):K(Hl,o.pool)}function jT(){var a=M0();return a===null?null:{parent:Sn._currentValue,pool:a}}var cu=Error(r(460)),L0=Error(r(474)),Gm=Error(r(542)),Ym={then:function(){}};function CT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function OT(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Gi,Gi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,PT(a),a;default:if(typeof o.status=="string")o.then(Gi,Gi);else{if(a=Mt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,PT(a),a}throw Gl=o,cu}}function Kl(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Gl=c,cu):c}}var Gl=null;function IT(){if(Gl===null)throw Error(r(459));var a=Gl;return Gl=null,a}function PT(a){if(a===cu||a===Gm)throw Error(r(483))}var uu=null,ef=0;function Wm(a){var o=ef;return ef+=1,uu===null&&(uu=[]),OT(uu,a,o)}function tf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Xm(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function RT(a){function o(Q,Y){if(a){var ie=Q.deletions;ie===null?(Q.deletions=[Y],Q.flags|=16):ie.push(Y)}}function c(Q,Y){if(!a)return null;for(;Y!==null;)o(Q,Y),Y=Y.sibling;return null}function m(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function v(Q,Y){return Q=ss(Q,Y),Q.index=0,Q.sibling=null,Q}function x(Q,Y,ie){return Q.index=ie,a?(ie=Q.alternate,ie!==null?(ie=ie.index,ie<Y?(Q.flags|=67108866,Y):ie):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function N(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,Y,ie,me){return Y===null||Y.tag!==6?(Y=S0(ie,Q.mode,me),Y.return=Q,Y):(Y=v(Y,ie),Y.return=Q,Y)}function G(Q,Y,ie,me){var $e=ie.type;return $e===A?de(Q,Y,ie.props.children,me,ie.key):Y!==null&&(Y.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===I&&Kl($e)===Y.type)?(Y=v(Y,ie.props),tf(Y,ie),Y.return=Q,Y):(Y=Fm(ie.type,ie.key,ie.props,null,Q.mode,me),tf(Y,ie),Y.return=Q,Y)}function ae(Q,Y,ie,me){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ie.containerInfo||Y.stateNode.implementation!==ie.implementation?(Y=T0(ie,Q.mode,me),Y.return=Q,Y):(Y=v(Y,ie.children||[]),Y.return=Q,Y)}function de(Q,Y,ie,me,$e){return Y===null||Y.tag!==7?(Y=Bl(ie,Q.mode,me,$e),Y.return=Q,Y):(Y=v(Y,ie),Y.return=Q,Y)}function ye(Q,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=S0(""+Y,Q.mode,ie),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return ie=Fm(Y.type,Y.key,Y.props,null,Q.mode,ie),tf(ie,Y),ie.return=Q,ie;case E:return Y=T0(Y,Q.mode,ie),Y.return=Q,Y;case I:return Y=Kl(Y),ye(Q,Y,ie)}if(Ae(Y)||B(Y))return Y=Bl(Y,Q.mode,ie,null),Y.return=Q,Y;if(typeof Y.then=="function")return ye(Q,Wm(Y),ie);if(Y.$$typeof===P)return ye(Q,Hm(Q,Y),ie);Xm(Q,Y)}return null}function se(Q,Y,ie,me){var $e=Y!==null?Y.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $e!==null?null:L(Q,Y,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return ie.key===$e?G(Q,Y,ie,me):null;case E:return ie.key===$e?ae(Q,Y,ie,me):null;case I:return ie=Kl(ie),se(Q,Y,ie,me)}if(Ae(ie)||B(ie))return $e!==null?null:de(Q,Y,ie,me,null);if(typeof ie.then=="function")return se(Q,Y,Wm(ie),me);if(ie.$$typeof===P)return se(Q,Y,Hm(Q,ie),me);Xm(Q,ie)}return null}function ce(Q,Y,ie,me,$e){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Q=Q.get(ie)||null,L(Y,Q,""+me,$e);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case _:return Q=Q.get(me.key===null?ie:me.key)||null,G(Y,Q,me,$e);case E:return Q=Q.get(me.key===null?ie:me.key)||null,ae(Y,Q,me,$e);case I:return me=Kl(me),ce(Q,Y,ie,me,$e)}if(Ae(me)||B(me))return Q=Q.get(ie)||null,de(Y,Q,me,$e,null);if(typeof me.then=="function")return ce(Q,Y,ie,Wm(me),$e);if(me.$$typeof===P)return ce(Q,Y,ie,Hm(Y,me),$e);Xm(Y,me)}return null}function Le(Q,Y,ie,me){for(var $e=null,pt=null,ze=Y,tt=Y=0,st=null;ze!==null&&tt<ie.length;tt++){ze.index>tt?(st=ze,ze=null):st=ze.sibling;var gt=se(Q,ze,ie[tt],me);if(gt===null){ze===null&&(ze=st);break}a&&ze&&gt.alternate===null&&o(Q,ze),Y=x(gt,Y,tt),pt===null?$e=gt:pt.sibling=gt,pt=gt,ze=st}if(tt===ie.length)return c(Q,ze),ut&&os(Q,tt),$e;if(ze===null){for(;tt<ie.length;tt++)ze=ye(Q,ie[tt],me),ze!==null&&(Y=x(ze,Y,tt),pt===null?$e=ze:pt.sibling=ze,pt=ze);return ut&&os(Q,tt),$e}for(ze=m(ze);tt<ie.length;tt++)st=ce(ze,Q,tt,ie[tt],me),st!==null&&(a&&st.alternate!==null&&ze.delete(st.key===null?tt:st.key),Y=x(st,Y,tt),pt===null?$e=st:pt.sibling=st,pt=st);return a&&ze.forEach(function(Vo){return o(Q,Vo)}),ut&&os(Q,tt),$e}function qe(Q,Y,ie,me){if(ie==null)throw Error(r(151));for(var $e=null,pt=null,ze=Y,tt=Y=0,st=null,gt=ie.next();ze!==null&&!gt.done;tt++,gt=ie.next()){ze.index>tt?(st=ze,ze=null):st=ze.sibling;var Vo=se(Q,ze,gt.value,me);if(Vo===null){ze===null&&(ze=st);break}a&&ze&&Vo.alternate===null&&o(Q,ze),Y=x(Vo,Y,tt),pt===null?$e=Vo:pt.sibling=Vo,pt=Vo,ze=st}if(gt.done)return c(Q,ze),ut&&os(Q,tt),$e;if(ze===null){for(;!gt.done;tt++,gt=ie.next())gt=ye(Q,gt.value,me),gt!==null&&(Y=x(gt,Y,tt),pt===null?$e=gt:pt.sibling=gt,pt=gt);return ut&&os(Q,tt),$e}for(ze=m(ze);!gt.done;tt++,gt=ie.next())gt=ce(ze,Q,tt,gt.value,me),gt!==null&&(a&&gt.alternate!==null&&ze.delete(gt.key===null?tt:gt.key),Y=x(gt,Y,tt),pt===null?$e=gt:pt.sibling=gt,pt=gt);return a&&ze.forEach(function(vz){return o(Q,vz)}),ut&&os(Q,tt),$e}function Ot(Q,Y,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===A&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:e:{for(var $e=ie.key;Y!==null;){if(Y.key===$e){if($e=ie.type,$e===A){if(Y.tag===7){c(Q,Y.sibling),me=v(Y,ie.props.children),me.return=Q,Q=me;break e}}else if(Y.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===I&&Kl($e)===Y.type){c(Q,Y.sibling),me=v(Y,ie.props),tf(me,ie),me.return=Q,Q=me;break e}c(Q,Y);break}else o(Q,Y);Y=Y.sibling}ie.type===A?(me=Bl(ie.props.children,Q.mode,me,ie.key),me.return=Q,Q=me):(me=Fm(ie.type,ie.key,ie.props,null,Q.mode,me),tf(me,ie),me.return=Q,Q=me)}return N(Q);case E:e:{for($e=ie.key;Y!==null;){if(Y.key===$e)if(Y.tag===4&&Y.stateNode.containerInfo===ie.containerInfo&&Y.stateNode.implementation===ie.implementation){c(Q,Y.sibling),me=v(Y,ie.children||[]),me.return=Q,Q=me;break e}else{c(Q,Y);break}else o(Q,Y);Y=Y.sibling}me=T0(ie,Q.mode,me),me.return=Q,Q=me}return N(Q);case I:return ie=Kl(ie),Ot(Q,Y,ie,me)}if(Ae(ie))return Le(Q,Y,ie,me);if(B(ie)){if($e=B(ie),typeof $e!="function")throw Error(r(150));return ie=$e.call(ie),qe(Q,Y,ie,me)}if(typeof ie.then=="function")return Ot(Q,Y,Wm(ie),me);if(ie.$$typeof===P)return Ot(Q,Y,Hm(Q,ie),me);Xm(Q,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Y!==null&&Y.tag===6?(c(Q,Y.sibling),me=v(Y,ie),me.return=Q,Q=me):(c(Q,Y),me=S0(ie,Q.mode,me),me.return=Q,Q=me),N(Q)):c(Q,Y)}return function(Q,Y,ie,me){try{ef=0;var $e=Ot(Q,Y,ie,me);return uu=null,$e}catch(ze){if(ze===cu||ze===Gm)throw ze;var pt=ei(29,ze,null,Q.mode);return pt.lanes=me,pt.return=Q,pt}}}var Yl=RT(!0),kT=RT(!1),_o=!1;function V0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function U0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function wo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Eo(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(bt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Bm(a),yT(a,null,c),o}return zm(a,m,o,c),Bm(a)}function nf(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,Cd(a,c)}}function z0(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?v=x=N:x=x.next=N,c=c.next}while(c!==null);x===null?v=x=o:x=x.next=o}else v=x=o;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var B0=!1;function rf(){if(B0){var a=lu;if(a!==null)throw a}}function af(a,o,c,m){B0=!1;var v=a.updateQueue;_o=!1;var x=v.firstBaseUpdate,N=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var G=L,ae=G.next;G.next=null,N===null?x=ae:N.next=ae,N=G;var de=a.alternate;de!==null&&(de=de.updateQueue,L=de.lastBaseUpdate,L!==N&&(L===null?de.firstBaseUpdate=ae:L.next=ae,de.lastBaseUpdate=G))}if(x!==null){var ye=v.baseState;N=0,de=ae=G=null,L=x;do{var se=L.lane&-536870913,ce=se!==L.lane;if(ce?(at&se)===se:(m&se)===se){se!==0&&se===ou&&(B0=!0),de!==null&&(de=de.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Le=a,qe=L;se=o;var Ot=c;switch(qe.tag){case 1:if(Le=qe.payload,typeof Le=="function"){ye=Le.call(Ot,ye,se);break e}ye=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=qe.payload,se=typeof Le=="function"?Le.call(Ot,ye,se):Le,se==null)break e;ye=g({},ye,se);break e;case 2:_o=!0}}se=L.callback,se!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=v.callbacks,ce===null?v.callbacks=[se]:ce.push(se))}else ce={lane:se,tag:L.tag,payload:L.payload,callback:L.callback,next:null},de===null?(ae=de=ce,G=ye):de=de.next=ce,N|=se;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;ce=L,L=ce.next,ce.next=null,v.lastBaseUpdate=ce,v.shared.pending=null}}while(!0);de===null&&(G=ye),v.baseState=G,v.firstBaseUpdate=ae,v.lastBaseUpdate=de,x===null&&(v.shared.lanes=0),jo|=N,a.lanes=N,a.memoizedState=ye}}function DT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function MT(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)DT(c[a],o)}var du=H(null),Qm=H(0);function LT(a,o){a=vs,K(Qm,a),K(du,o),vs=a|o.baseLanes}function F0(){K(Qm,vs),K(du,du.current)}function $0(){vs=Qm.current,q(du),q(Qm)}var ti=H(null),Ni=null;function Ao(a){var o=a.alternate;K(gn,gn.current&1),K(ti,a),Ni===null&&(o===null||du.current!==null||o.memoizedState!==null)&&(Ni=a)}function q0(a){K(gn,gn.current),K(ti,a),Ni===null&&(Ni=a)}function VT(a){a.tag===22?(K(gn,gn.current),K(ti,a),Ni===null&&(Ni=a)):So()}function So(){K(gn,gn.current),K(ti,ti.current)}function ni(a){q(ti),Ni===a&&(Ni=null),q(gn)}var gn=H(0);function Jm(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Xb(c)||Qb(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var us=0,et=null,jt=null,Tn=null,Zm=!1,fu=!1,Wl=!1,ep=0,sf=0,hu=null,l9=0;function on(){throw Error(r(321))}function H0(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Zr(a[c],o[c]))return!1;return!0}function K0(a,o,c,m,v,x){return us=x,et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,X.H=a===null||a.memoizedState===null?_N:ob,Wl=!1,x=c(m,v),Wl=!1,fu&&(x=zT(o,c,m,v)),UT(a),x}function UT(a){X.H=cf;var o=jt!==null&&jt.next!==null;if(us=0,Tn=jt=et=null,Zm=!1,sf=0,hu=null,o)throw Error(r(300));a===null||Nn||(a=a.dependencies,a!==null&&qm(a)&&(Nn=!0))}function zT(a,o,c,m){et=a;var v=0;do{if(fu&&(hu=null),sf=0,fu=!1,25<=v)throw Error(r(301));if(v+=1,Tn=jt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}X.H=wN,x=o(c,m)}while(fu);return x}function c9(){var a=X.H,o=a.useState()[0];return o=typeof o.then=="function"?of(o):o,a=a.useState()[0],(jt!==null?jt.memoizedState:null)!==a&&(et.flags|=1024),o}function G0(){var a=ep!==0;return ep=0,a}function Y0(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function W0(a){if(Zm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Zm=!1}us=0,Tn=jt=et=null,fu=!1,sf=ep=0,hu=null}function Ir(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?et.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function yn(){if(jt===null){var a=et.alternate;a=a!==null?a.memoizedState:null}else a=jt.next;var o=Tn===null?et.memoizedState:Tn.next;if(o!==null)Tn=o,jt=a;else{if(a===null)throw et.alternate===null?Error(r(467)):Error(r(310));jt=a,a={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Tn===null?et.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function of(a){var o=sf;return sf+=1,hu===null&&(hu=[]),a=OT(hu,a,o),o=et,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,X.H=o===null||o.memoizedState===null?_N:ob),a}function np(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return of(a);if(a.$$typeof===P)return dr(a)}throw Error(r(438,String(a)))}function X0(a){var o=null,c=et.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=et.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=tp(),et.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=z;return o.index++,c}function ds(a,o){return typeof o=="function"?o(a):o}function rp(a){var o=yn();return Q0(o,jt,a)}function Q0(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=a.baseQueue,x=m.pending;if(x!==null){if(v!==null){var N=v.next;v.next=x.next,x.next=N}o.baseQueue=v=x,m.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{o=v.next;var L=N=null,G=null,ae=o,de=!1;do{var ye=ae.lane&-536870913;if(ye!==ae.lane?(at&ye)===ye:(us&ye)===ye){var se=ae.revertLane;if(se===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ye===ou&&(de=!0);else if((us&se)===se){ae=ae.next,se===ou&&(de=!0);continue}else ye={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(L=G=ye,N=x):G=G.next=ye,et.lanes|=se,jo|=se;ye=ae.action,Wl&&c(x,ye),x=ae.hasEagerState?ae.eagerState:c(x,ye)}else se={lane:ye,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(L=G=se,N=x):G=G.next=se,et.lanes|=ye,jo|=ye;ae=ae.next}while(ae!==null&&ae!==o);if(G===null?N=x:G.next=L,!Zr(x,a.memoizedState)&&(Nn=!0,de&&(c=lu,c!==null)))throw c;a.memoizedState=x,a.baseState=N,a.baseQueue=G,m.lastRenderedState=x}return v===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function J0(a){var o=yn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,v=c.pending,x=o.memoizedState;if(v!==null){c.pending=null;var N=v=v.next;do x=a(x,N.action),N=N.next;while(N!==v);Zr(x,o.memoizedState)||(Nn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,m]}function BT(a,o,c){var m=et,v=yn(),x=ut;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var N=!Zr((jt||v).memoizedState,c);if(N&&(v.memoizedState=c,Nn=!0),v=v.queue,tb(qT.bind(null,m,v,a),[a]),v.getSnapshot!==o||N||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,mu(9,{destroy:void 0},$T.bind(null,m,v,c,o),null),Mt===null)throw Error(r(349));x||(us&127)!==0||FT(m,o,c)}return c}function FT(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=et.updateQueue,o===null?(o=tp(),et.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function $T(a,o,c,m){o.value=c,o.getSnapshot=m,HT(o)&&KT(a)}function qT(a,o,c){return c(function(){HT(o)&&KT(a)})}function HT(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Zr(a,c)}catch{return!0}}function KT(a){var o=zl(a,2);o!==null&&Hr(o,a,2)}function Z0(a){var o=Ir();if(typeof a=="function"){var c=a;if(a=c(),Wl){De(!0);try{c()}finally{De(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:a},o}function GT(a,o,c,m){return a.baseState=c,Q0(a,jt,typeof m=="function"?m:ds)}function u9(a,o,c,m,v){if(sp(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};X.T!==null?c(!0):x.isTransition=!1,m(x),c=o.pending,c===null?(x.next=o.pending=x,YT(o,x)):(x.next=c.next,o.pending=c.next=x)}}function YT(a,o){var c=o.action,m=o.payload,v=a.state;if(o.isTransition){var x=X.T,N={};X.T=N;try{var L=c(v,m),G=X.S;G!==null&&G(N,L),WT(a,o,L)}catch(ae){eb(a,o,ae)}finally{x!==null&&N.types!==null&&(x.types=N.types),X.T=x}}else try{x=c(v,m),WT(a,o,x)}catch(ae){eb(a,o,ae)}}function WT(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){XT(a,o,m)},function(m){return eb(a,o,m)}):XT(a,o,c)}function XT(a,o,c){o.status="fulfilled",o.value=c,QT(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,YT(a,c)))}function eb(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,QT(o),o=o.next;while(o!==m)}a.action=null}function QT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function JT(a,o){return o}function ZT(a,o){if(ut){var c=Mt.formState;if(c!==null){e:{var m=et;if(ut){if($t){t:{for(var v=$t,x=Ti;v.nodeType!==8;){if(!x){v=null;break t}if(v=ji(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){$t=ji(v.nextSibling),m=v.data==="F!";break e}}bo(m)}m=!1}m&&(o=c[0])}}return c=Ir(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JT,lastRenderedState:o},c.queue=m,c=vN.bind(null,et,m),m.dispatch=c,m=Z0(!1),x=sb.bind(null,et,!1,m.queue),m=Ir(),v={state:o,dispatch:null,action:a,pending:null},m.queue=v,c=u9.bind(null,et,v,x,c),v.dispatch=c,m.memoizedState=a,[o,c,!1]}function eN(a){var o=yn();return tN(o,jt,a)}function tN(a,o,c){if(o=Q0(a,o,JT)[0],a=rp(ds)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=of(o)}catch(N){throw N===cu?Gm:N}else m=o;o=yn();var v=o.queue,x=v.dispatch;return c!==o.memoizedState&&(et.flags|=2048,mu(9,{destroy:void 0},d9.bind(null,v,c),null)),[m,x,a]}function d9(a,o){a.action=o}function nN(a){var o=yn(),c=jt;if(c!==null)return tN(o,c,a);yn(),o=o.memoizedState,c=yn();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function mu(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=et.updateQueue,o===null&&(o=tp(),et.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function rN(){return yn().memoizedState}function ip(a,o,c,m){var v=Ir();et.flags|=a,v.memoizedState=mu(1|o,{destroy:void 0},c,m===void 0?null:m)}function ap(a,o,c,m){var v=yn();m=m===void 0?null:m;var x=v.memoizedState.inst;jt!==null&&m!==null&&H0(m,jt.memoizedState.deps)?v.memoizedState=mu(o,x,c,m):(et.flags|=a,v.memoizedState=mu(1|o,x,c,m))}function iN(a,o){ip(8390656,8,a,o)}function tb(a,o){ap(2048,8,a,o)}function f9(a){et.flags|=4;var o=et.updateQueue;if(o===null)o=tp(),et.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function aN(a){var o=yn().memoizedState;return f9({ref:o,nextImpl:a}),function(){if((bt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function sN(a,o){return ap(4,2,a,o)}function oN(a,o){return ap(4,4,a,o)}function lN(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function cN(a,o,c){c=c!=null?c.concat([a]):null,ap(4,4,lN.bind(null,o,a),c)}function nb(){}function uN(a,o){var c=yn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&H0(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function dN(a,o){var c=yn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&H0(o,m[1]))return m[0];if(m=a(),Wl){De(!0);try{a()}finally{De(!1)}}return c.memoizedState=[m,o],m}function rb(a,o,c){return c===void 0||(us&1073741824)!==0&&(at&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=f2(),et.lanes|=a,jo|=a,c)}function fN(a,o,c,m){return Zr(c,o)?c:du.current!==null?(a=rb(a,c,m),Zr(a,o)||(Nn=!0),a):(us&42)===0||(us&1073741824)!==0&&(at&261930)===0?(Nn=!0,a.memoizedState=c):(a=f2(),et.lanes|=a,jo|=a,o)}function hN(a,o,c,m,v){var x=oe.p;oe.p=x!==0&&8>x?x:8;var N=X.T,L={};X.T=L,sb(a,!1,o,c);try{var G=v(),ae=X.S;if(ae!==null&&ae(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var de=o9(G,m);lf(a,o,de,ai(a))}else lf(a,o,m,ai(a))}catch(ye){lf(a,o,{then:function(){},status:"rejected",reason:ye},ai())}finally{oe.p=x,N!==null&&L.types!==null&&(N.types=L.types),X.T=N}}function h9(){}function ib(a,o,c,m){if(a.tag!==5)throw Error(r(476));var v=mN(a).queue;hN(a,v,o,_e,c===null?h9:function(){return pN(a),c(m)})}function mN(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:_e},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function pN(a){var o=mN(a);o.next===null&&(o=a.alternate.memoizedState),lf(a,o.next.queue,{},ai())}function ab(){return dr(Sf)}function gN(){return yn().memoizedState}function yN(){return yn().memoizedState}function m9(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=ai();a=wo(c);var m=Eo(o,a,c);m!==null&&(Hr(m,o,c),nf(m,o,c)),o={cache:k0()},a.payload=o;return}o=o.return}}function p9(a,o,c){var m=ai();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},sp(a)?bN(o,c):(c=E0(a,o,c,m),c!==null&&(Hr(c,a,m),xN(c,o,m)))}function vN(a,o,c){var m=ai();lf(a,o,c,m)}function lf(a,o,c,m){var v={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(sp(a))bN(o,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var N=o.lastRenderedState,L=x(N,c);if(v.hasEagerState=!0,v.eagerState=L,Zr(L,N))return zm(a,o,v,0),Mt===null&&Um(),!1}catch{}if(c=E0(a,o,v,m),c!==null)return Hr(c,a,m),xN(c,o,m),!0}return!1}function sb(a,o,c,m){if(m={lane:2,revertLane:Vb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},sp(a)){if(o)throw Error(r(479))}else o=E0(a,c,m,2),o!==null&&Hr(o,a,2)}function sp(a){var o=a.alternate;return a===et||o!==null&&o===et}function bN(a,o){fu=Zm=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function xN(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,Cd(a,c)}}var cf={readContext:dr,use:np,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};cf.useEffectEvent=on;var _N={readContext:dr,use:np,useCallback:function(a,o){return Ir().memoizedState=[a,o===void 0?null:o],a},useContext:dr,useEffect:iN,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,ip(4194308,4,lN.bind(null,o,a),c)},useLayoutEffect:function(a,o){return ip(4194308,4,a,o)},useInsertionEffect:function(a,o){ip(4,2,a,o)},useMemo:function(a,o){var c=Ir();o=o===void 0?null:o;var m=a();if(Wl){De(!0);try{a()}finally{De(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=Ir();if(c!==void 0){var v=c(o);if(Wl){De(!0);try{c(o)}finally{De(!1)}}}else v=o;return m.memoizedState=m.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},m.queue=a,a=a.dispatch=p9.bind(null,et,a),[m.memoizedState,a]},useRef:function(a){var o=Ir();return a={current:a},o.memoizedState=a},useState:function(a){a=Z0(a);var o=a.queue,c=vN.bind(null,et,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:nb,useDeferredValue:function(a,o){var c=Ir();return rb(c,a,o)},useTransition:function(){var a=Z0(!1);return a=hN.bind(null,et,a.queue,!0,!1),Ir().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=et,v=Ir();if(ut){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Mt===null)throw Error(r(349));(at&127)!==0||FT(m,o,c)}v.memoizedState=c;var x={value:c,getSnapshot:o};return v.queue=x,iN(qT.bind(null,m,x,a),[a]),m.flags|=2048,mu(9,{destroy:void 0},$T.bind(null,m,x,c,o),null),c},useId:function(){var a=Ir(),o=Mt.identifierPrefix;if(ut){var c=Ca,m=ja;c=(m&~(1<<32-Ye(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=ep++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=l9++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:ab,useFormState:ZT,useActionState:ZT,useOptimistic:function(a){var o=Ir();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=sb.bind(null,et,!0,c),c.dispatch=o,[a,o]},useMemoCache:X0,useCacheRefresh:function(){return Ir().memoizedState=m9.bind(null,et)},useEffectEvent:function(a){var o=Ir(),c={impl:a};return o.memoizedState=c,function(){if((bt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},ob={readContext:dr,use:np,useCallback:uN,useContext:dr,useEffect:tb,useImperativeHandle:cN,useInsertionEffect:sN,useLayoutEffect:oN,useMemo:dN,useReducer:rp,useRef:rN,useState:function(){return rp(ds)},useDebugValue:nb,useDeferredValue:function(a,o){var c=yn();return fN(c,jt.memoizedState,a,o)},useTransition:function(){var a=rp(ds)[0],o=yn().memoizedState;return[typeof a=="boolean"?a:of(a),o]},useSyncExternalStore:BT,useId:gN,useHostTransitionStatus:ab,useFormState:eN,useActionState:eN,useOptimistic:function(a,o){var c=yn();return GT(c,jt,a,o)},useMemoCache:X0,useCacheRefresh:yN};ob.useEffectEvent=aN;var wN={readContext:dr,use:np,useCallback:uN,useContext:dr,useEffect:tb,useImperativeHandle:cN,useInsertionEffect:sN,useLayoutEffect:oN,useMemo:dN,useReducer:J0,useRef:rN,useState:function(){return J0(ds)},useDebugValue:nb,useDeferredValue:function(a,o){var c=yn();return jt===null?rb(c,a,o):fN(c,jt.memoizedState,a,o)},useTransition:function(){var a=J0(ds)[0],o=yn().memoizedState;return[typeof a=="boolean"?a:of(a),o]},useSyncExternalStore:BT,useId:gN,useHostTransitionStatus:ab,useFormState:nN,useActionState:nN,useOptimistic:function(a,o){var c=yn();return jt!==null?GT(c,jt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:X0,useCacheRefresh:yN};wN.useEffectEvent=aN;function lb(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var cb={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=ai(),v=wo(m);v.payload=o,c!=null&&(v.callback=c),o=Eo(a,v,m),o!==null&&(Hr(o,a,m),nf(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=ai(),v=wo(m);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Eo(a,v,m),o!==null&&(Hr(o,a,m),nf(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=ai(),m=wo(c);m.tag=2,o!=null&&(m.callback=o),o=Eo(a,m,c),o!==null&&(Hr(o,a,c),nf(o,a,c))}};function EN(a,o,c,m,v,x,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,N):o.prototype&&o.prototype.isPureReactComponent?!Yd(c,m)||!Yd(v,x):!0}function AN(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&cb.enqueueReplaceState(o,o.state,null)}function Xl(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function SN(a){Vm(a)}function TN(a){console.error(a)}function NN(a){Vm(a)}function op(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function jN(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ub(a,o,c){return c=wo(c),c.tag=3,c.payload={element:null},c.callback=function(){op(a,o)},c}function CN(a){return a=wo(a),a.tag=3,a}function ON(a,o,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=m.value;a.payload=function(){return v(x)},a.callback=function(){jN(o,c,m)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){jN(o,c,m),typeof v!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function g9(a,o,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&su(o,c,v,!0),c=ti.current,c!==null){switch(c.tag){case 31:case 13:return Ni===null?bp():c.alternate===null&&ln===0&&(ln=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===Ym?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Db(a,m,v)),!1;case 22:return c.flags|=65536,m===Ym?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Db(a,m,v)),!1}throw Error(r(435,c.tag))}return Db(a,m,v),bp(),!1}if(ut)return o=ti.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==C0&&(a=Error(r(422),{cause:m}),Qd(Ei(a,c)))):(m!==C0&&(o=Error(r(423),{cause:m}),Qd(Ei(o,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,m=Ei(m,c),v=ub(a.stateNode,m,v),z0(a,v),ln!==4&&(ln=2)),!1;var x=Error(r(520),{cause:m});if(x=Ei(x,c),yf===null?yf=[x]:yf.push(x),ln!==4&&(ln=2),o===null)return!0;m=Ei(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=ub(c.stateNode,m,a),z0(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Co===null||!Co.has(x))))return c.flags|=65536,v&=-v,c.lanes|=v,v=CN(v),ON(v,a,c,m),z0(c,v),!1}c=c.return}while(c!==null);return!1}var db=Error(r(461)),Nn=!1;function fr(a,o,c,m){o.child=a===null?kT(o,null,c,m):Yl(o,a.child,c,m)}function IN(a,o,c,m,v){c=c.render;var x=o.ref;if("ref"in m){var N={};for(var L in m)L!=="ref"&&(N[L]=m[L])}else N=m;return ql(o),m=K0(a,o,c,N,x,v),L=G0(),a!==null&&!Nn?(Y0(a,o,v),fs(a,o,v)):(ut&&L&&N0(o),o.flags|=1,fr(a,o,m,v),o.child)}function PN(a,o,c,m,v){if(a===null){var x=c.type;return typeof x=="function"&&!A0(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,RN(a,o,x,m,v)):(a=Fm(c.type,null,m,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!bb(a,v)){var N=x.memoizedProps;if(c=c.compare,c=c!==null?c:Yd,c(N,m)&&a.ref===o.ref)return fs(a,o,v)}return o.flags|=1,a=ss(x,m),a.ref=o.ref,a.return=o,o.child=a}function RN(a,o,c,m,v){if(a!==null){var x=a.memoizedProps;if(Yd(x,m)&&a.ref===o.ref)if(Nn=!1,o.pendingProps=m=x,bb(a,v))(a.flags&131072)!==0&&(Nn=!0);else return o.lanes=a.lanes,fs(a,o,v)}return fb(a,o,c,m,v)}function kN(a,o,c,m){var v=m.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(m=o.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~x}else m=0,o.child=null;return DN(a,o,x,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Km(o,x!==null?x.cachePool:null),x!==null?LT(o,x):F0(),VT(o);else return m=o.lanes=536870912,DN(a,o,x!==null?x.baseLanes|c:c,c,m)}else x!==null?(Km(o,x.cachePool),LT(o,x),So(),o.memoizedState=null):(a!==null&&Km(o,null),F0(),So());return fr(a,o,v,c),o.child}function uf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function DN(a,o,c,m,v){var x=M0();return x=x===null?null:{parent:Sn._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Km(o,null),F0(),VT(o),a!==null&&su(a,o,m,!0),o.childLanes=v,null}function lp(a,o){return o=up({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function MN(a,o,c){return Yl(o,a.child,null,c),a=lp(o,o.pendingProps),a.flags|=2,ni(o),o.memoizedState=null,a}function y9(a,o,c){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ut){if(m.mode==="hidden")return a=lp(o,m),o.lanes=536870912,uf(null,a);if(q0(o),(a=$t)?(a=Y2(a,Ti),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:yo!==null?{id:ja,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},c=bT(a),c.return=o,o.child=c,ur=o,$t=null)):a=null,a===null)throw bo(o);return o.lanes=536870912,null}return lp(o,m)}var x=a.memoizedState;if(x!==null){var N=x.dehydrated;if(q0(o),v)if(o.flags&256)o.flags&=-257,o=MN(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Nn||su(a,o,c,!1),v=(c&a.childLanes)!==0,Nn||v){if(m=Mt,m!==null&&(N=Od(m,c),N!==0&&N!==x.retryLane))throw x.retryLane=N,zl(a,N),Hr(m,a,N),db;bp(),o=MN(a,o,c)}else a=x.treeContext,$t=ji(N.nextSibling),ur=o,ut=!0,vo=null,Ti=!1,a!==null&&wT(o,a),o=lp(o,m),o.flags|=4096;return o}return a=ss(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function cp(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function fb(a,o,c,m,v){return ql(o),c=K0(a,o,c,m,void 0,v),m=G0(),a!==null&&!Nn?(Y0(a,o,v),fs(a,o,v)):(ut&&m&&N0(o),o.flags|=1,fr(a,o,c,v),o.child)}function LN(a,o,c,m,v,x){return ql(o),o.updateQueue=null,c=zT(o,m,c,v),UT(a),m=G0(),a!==null&&!Nn?(Y0(a,o,x),fs(a,o,x)):(ut&&m&&N0(o),o.flags|=1,fr(a,o,c,x),o.child)}function VN(a,o,c,m,v){if(ql(o),o.stateNode===null){var x=nu,N=c.contextType;typeof N=="object"&&N!==null&&(x=dr(N)),x=new c(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=cb,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},V0(o),N=c.contextType,x.context=typeof N=="object"&&N!==null?dr(N):nu,x.state=o.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(lb(o,c,N,m),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&cb.enqueueReplaceState(x,x.state,null),af(o,m,x,v),rf(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){x=o.stateNode;var L=o.memoizedProps,G=Xl(c,L);x.props=G;var ae=x.context,de=c.contextType;N=nu,typeof de=="object"&&de!==null&&(N=dr(de));var ye=c.getDerivedStateFromProps;de=typeof ye=="function"||typeof x.getSnapshotBeforeUpdate=="function",L=o.pendingProps!==L,de||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L||ae!==N)&&AN(o,x,m,N),_o=!1;var se=o.memoizedState;x.state=se,af(o,m,x,v),rf(),ae=o.memoizedState,L||se!==ae||_o?(typeof ye=="function"&&(lb(o,c,ye,m),ae=o.memoizedState),(G=_o||EN(o,c,G,m,se,ae,N))?(de||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ae),x.props=m,x.state=ae,x.context=N,m=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,U0(a,o),N=o.memoizedProps,de=Xl(c,N),x.props=de,ye=o.pendingProps,se=x.context,ae=c.contextType,G=nu,typeof ae=="object"&&ae!==null&&(G=dr(ae)),L=c.getDerivedStateFromProps,(ae=typeof L=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==ye||se!==G)&&AN(o,x,m,G),_o=!1,se=o.memoizedState,x.state=se,af(o,m,x,v),rf();var ce=o.memoizedState;N!==ye||se!==ce||_o||a!==null&&a.dependencies!==null&&qm(a.dependencies)?(typeof L=="function"&&(lb(o,c,L,m),ce=o.memoizedState),(de=_o||EN(o,c,de,m,se,ce,G)||a!==null&&a.dependencies!==null&&qm(a.dependencies))?(ae||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ce,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ce,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ce),x.props=m,x.state=ce,x.context=G,m=de):(typeof x.componentDidUpdate!="function"||N===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),m=!1)}return x=m,cp(a,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&m?(o.child=Yl(o,a.child,null,v),o.child=Yl(o,null,c,v)):fr(a,o,c,v),o.memoizedState=x.state,a=o.child):a=fs(a,o,v),a}function UN(a,o,c,m){return Fl(),o.flags|=256,fr(a,o,c,m),o.child}var hb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mb(a){return{baseLanes:a,cachePool:jT()}}function pb(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=ii),a}function zN(a,o,c){var m=o.pendingProps,v=!1,x=(o.flags&128)!==0,N;if((N=x)||(N=a!==null&&a.memoizedState===null?!1:(gn.current&2)!==0),N&&(v=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(ut){if(v?Ao(o):So(),(a=$t)?(a=Y2(a,Ti),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:yo!==null?{id:ja,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},c=bT(a),c.return=o,o.child=c,ur=o,$t=null)):a=null,a===null)throw bo(o);return Qb(a)?o.lanes=32:o.lanes=536870912,null}var L=m.children;return m=m.fallback,v?(So(),v=o.mode,L=up({mode:"hidden",children:L},v),m=Bl(m,v,c,null),L.return=o,m.return=o,L.sibling=m,o.child=L,m=o.child,m.memoizedState=mb(c),m.childLanes=pb(a,N,c),o.memoizedState=hb,uf(null,m)):(Ao(o),gb(o,L))}var G=a.memoizedState;if(G!==null&&(L=G.dehydrated,L!==null)){if(x)o.flags&256?(Ao(o),o.flags&=-257,o=yb(a,o,c)):o.memoizedState!==null?(So(),o.child=a.child,o.flags|=128,o=null):(So(),L=m.fallback,v=o.mode,m=up({mode:"visible",children:m.children},v),L=Bl(L,v,c,null),L.flags|=2,m.return=o,L.return=o,m.sibling=L,o.child=m,Yl(o,a.child,null,c),m=o.child,m.memoizedState=mb(c),m.childLanes=pb(a,N,c),o.memoizedState=hb,o=uf(null,m));else if(Ao(o),Qb(L)){if(N=L.nextSibling&&L.nextSibling.dataset,N)var ae=N.dgst;N=ae,m=Error(r(419)),m.stack="",m.digest=N,Qd({value:m,source:null,stack:null}),o=yb(a,o,c)}else if(Nn||su(a,o,c,!1),N=(c&a.childLanes)!==0,Nn||N){if(N=Mt,N!==null&&(m=Od(N,c),m!==0&&m!==G.retryLane))throw G.retryLane=m,zl(a,m),Hr(N,a,m),db;Xb(L)||bp(),o=yb(a,o,c)}else Xb(L)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,$t=ji(L.nextSibling),ur=o,ut=!0,vo=null,Ti=!1,a!==null&&wT(o,a),o=gb(o,m.children),o.flags|=4096);return o}return v?(So(),L=m.fallback,v=o.mode,G=a.child,ae=G.sibling,m=ss(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ae!==null?L=ss(ae,L):(L=Bl(L,v,c,null),L.flags|=2),L.return=o,m.return=o,m.sibling=L,o.child=m,uf(null,m),m=o.child,L=a.child.memoizedState,L===null?L=mb(c):(v=L.cachePool,v!==null?(G=Sn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=jT(),L={baseLanes:L.baseLanes|c,cachePool:v}),m.memoizedState=L,m.childLanes=pb(a,N,c),o.memoizedState=hb,uf(a.child,m)):(Ao(o),c=a.child,a=c.sibling,c=ss(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=c,o.memoizedState=null,c)}function gb(a,o){return o=up({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function up(a,o){return a=ei(22,a,null,o),a.lanes=0,a}function yb(a,o,c){return Yl(o,a.child,null,c),a=gb(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function BN(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),P0(a.return,o,c)}function vb(a,o,c,m,v,x){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v,treeForkCount:x}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=c,N.tailMode=v,N.treeForkCount=x)}function FN(a,o,c){var m=o.pendingProps,v=m.revealOrder,x=m.tail;m=m.children;var N=gn.current,L=(N&2)!==0;if(L?(N=N&1|2,o.flags|=128):N&=1,K(gn,N),fr(a,o,m,c),m=ut?Xd:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&BN(a,c,o);else if(a.tag===19)BN(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)a=c.alternate,a!==null&&Jm(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),vb(o,!1,v,c,x,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Jm(a)===null){o.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}vb(o,!0,c,null,x,m);break;case"together":vb(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function fs(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),jo|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(su(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=ss(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=ss(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function bb(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&qm(a)))}function v9(a,o,c){switch(o.tag){case 3:Te(o,o.stateNode.containerInfo),xo(o,Sn,a.memoizedState.cache),Fl();break;case 27:case 5:Re(o);break;case 4:Te(o,o.stateNode.containerInfo);break;case 10:xo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,q0(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ao(o),o.flags|=128,null):(c&o.child.childLanes)!==0?zN(a,o,c):(Ao(o),a=fs(a,o,c),a!==null?a.sibling:null);Ao(o);break;case 19:var v=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(su(a,o,c,!1),m=(c&o.childLanes)!==0),v){if(m)return FN(a,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(gn,gn.current),m)break;return null;case 22:return o.lanes=0,kN(a,o,c,o.pendingProps);case 24:xo(o,Sn,a.memoizedState.cache)}return fs(a,o,c)}function $N(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Nn=!0;else{if(!bb(a,c)&&(o.flags&128)===0)return Nn=!1,v9(a,o,c);Nn=(a.flags&131072)!==0}else Nn=!1,ut&&(o.flags&1048576)!==0&&_T(o,Xd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=Kl(o.elementType),o.type=a,typeof a=="function")A0(a)?(m=Xl(a,m),o.tag=1,o=VN(null,o,a,m,c)):(o.tag=0,o=fb(null,o,a,m,c));else{if(a!=null){var v=a.$$typeof;if(v===U){o.tag=11,o=IN(null,o,a,m,c);break e}else if(v===O){o.tag=14,o=PN(null,o,a,m,c);break e}}throw o=he(a)||a,Error(r(306,o,""))}}return o;case 0:return fb(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,v=Xl(m,o.pendingProps),VN(a,o,m,v,c);case 3:e:{if(Te(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var x=o.memoizedState;v=x.element,U0(a,o),af(o,m,null,c);var N=o.memoizedState;if(m=N.cache,xo(o,Sn,m),m!==x.cache&&R0(o,[Sn],c,!0),rf(),m=N.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=UN(a,o,m,c);break e}else if(m!==v){v=Ei(Error(r(424)),o),Qd(v),o=UN(a,o,m,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,$t=ji(a.firstChild),ur=o,ut=!0,vo=null,Ti=!0,c=kT(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Fl(),m===v){o=fs(a,o,c);break e}fr(a,o,m,c)}o=o.child}return o;case 26:return cp(a,o),a===null?(c=ej(o.type,null,o.pendingProps,null))?o.memoizedState=c:ut||(c=o.type,a=o.pendingProps,m=Tp(xe.current).createElement(c),m[wn]=o,m[Wn]=a,hr(m,c,a),En(m),o.stateNode=m):o.memoizedState=ej(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Re(o),a===null&&ut&&(m=o.stateNode=Q2(o.type,o.pendingProps,xe.current),ur=o,Ti=!0,v=$t,Ro(o.type)?(Jb=v,$t=ji(m.firstChild)):$t=v),fr(a,o,o.pendingProps.children,c),cp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ut&&((v=m=$t)&&(m=Y9(m,o.type,o.pendingProps,Ti),m!==null?(o.stateNode=m,ur=o,$t=ji(m.firstChild),Ti=!1,v=!0):v=!1),v||bo(o)),Re(o),v=o.type,x=o.pendingProps,N=a!==null?a.memoizedProps:null,m=x.children,Gb(v,x)?m=null:N!==null&&Gb(v,N)&&(o.flags|=32),o.memoizedState!==null&&(v=K0(a,o,c9,null,null,c),Sf._currentValue=v),cp(a,o),fr(a,o,m,c),o.child;case 6:return a===null&&ut&&((a=c=$t)&&(c=W9(c,o.pendingProps,Ti),c!==null?(o.stateNode=c,ur=o,$t=null,a=!0):a=!1),a||bo(o)),null;case 13:return zN(a,o,c);case 4:return Te(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Yl(o,null,m,c):fr(a,o,m,c),o.child;case 11:return IN(a,o,o.type,o.pendingProps,c);case 7:return fr(a,o,o.pendingProps,c),o.child;case 8:return fr(a,o,o.pendingProps.children,c),o.child;case 12:return fr(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,xo(o,o.type,m.value),fr(a,o,m.children,c),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,ql(o),v=dr(v),m=m(v),o.flags|=1,fr(a,o,m,c),o.child;case 14:return PN(a,o,o.type,o.pendingProps,c);case 15:return RN(a,o,o.type,o.pendingProps,c);case 19:return FN(a,o,c);case 31:return y9(a,o,c);case 22:return kN(a,o,c,o.pendingProps);case 24:return ql(o),m=dr(Sn),a===null?(v=M0(),v===null&&(v=Mt,x=k0(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=c),v=x),o.memoizedState={parent:m,cache:v},V0(o),xo(o,Sn,v)):((a.lanes&c)!==0&&(U0(a,o),af(o,null,null,c),rf()),v=a.memoizedState,x=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),xo(o,Sn,m)):(m=x.cache,xo(o,Sn,m),m!==v.cache&&R0(o,[Sn],c,!0))),fr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function hs(a){a.flags|=4}function xb(a,o,c,m,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(g2())a.flags|=8192;else throw Gl=Ym,L0}else a.flags&=-16777217}function qN(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!aj(o))if(g2())a.flags|=8192;else throw Gl=Ym,L0}function dp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Xr():536870912,a.lanes|=o,vu|=o)}function df(a,o){if(!ut)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function qt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function b9(a,o,c){var m=o.pendingProps;switch(j0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return qt(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),cs(Sn),te(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(au(o)?hs(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,O0())),qt(o),null;case 26:var v=o.type,x=o.memoizedState;return a===null?(hs(o),x!==null?(qt(o),qN(o,x)):(qt(o),xb(o,v,null,m,c))):x?x!==a.memoizedState?(hs(o),qt(o),qN(o,x)):(qt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&hs(o),qt(o),xb(o,v,a,m,c)),null;case 27:if(je(o),c=xe.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&hs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return qt(o),null}a=J.current,au(o)?ET(o):(a=Q2(v,m,c),o.stateNode=a,hs(o))}return qt(o),null;case 5:if(je(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&hs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return qt(o),null}if(x=J.current,au(o))ET(o);else{var N=Tp(xe.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?N.createElement(v,{is:m.is}):N.createElement(v)}}x[wn]=o,x[Wn]=m;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=x;e:switch(hr(x,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&hs(o)}}return qt(o),xb(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&hs(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=xe.current,au(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,v=ur,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}a[wn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||z2(a.nodeValue,c)),a||bo(o,!0)}else a=Tp(a).createTextNode(m),a[wn]=o,o.stateNode=a}return qt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=au(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[wn]=o}else Fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),a=!1}else c=O0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ni(o),o):(ni(o),null);if((o.flags&128)!==0)throw Error(r(558))}return qt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=au(o),m!==null&&m.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[wn]=o}else Fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),v=!1}else v=O0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(ni(o),o):(ni(o),null)}return ni(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==v&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),dp(o,o.updateQueue),qt(o),null);case 4:return te(),a===null&&Fb(o.stateNode.containerInfo),qt(o),null;case 10:return cs(o.type),qt(o),null;case 19:if(q(gn),m=o.memoizedState,m===null)return qt(o),null;if(v=(o.flags&128)!==0,x=m.rendering,x===null)if(v)df(m,!1);else{if(ln!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Jm(a),x!==null){for(o.flags|=128,df(m,!1),a=x.updateQueue,o.updateQueue=a,dp(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)vT(c,a),c=c.sibling;return K(gn,gn.current&1|2),ut&&os(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Yt()>gp&&(o.flags|=128,v=!0,df(m,!1),o.lanes=4194304)}else{if(!v)if(a=Jm(x),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,dp(o,a),df(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ut)return qt(o),null}else 2*Yt()-m.renderingStartTime>gp&&c!==536870912&&(o.flags|=128,v=!0,df(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(a=m.last,a!==null?a.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Yt(),a.sibling=null,c=gn.current,K(gn,v?c&1|2:c&1),ut&&os(o,m.treeForkCount),a):(qt(o),null);case 22:case 23:return ni(o),$0(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),c=o.updateQueue,c!==null&&dp(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&q(Hl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),cs(Sn),qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function x9(a,o){switch(j0(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return cs(Sn),te(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return je(o),null;case 31:if(o.memoizedState!==null){if(ni(o),o.alternate===null)throw Error(r(340));Fl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ni(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Fl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return q(gn),null;case 4:return te(),null;case 10:return cs(o.type),null;case 22:case 23:return ni(o),$0(),a!==null&&q(Hl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return cs(Sn),null;case 25:return null;default:return null}}function HN(a,o){switch(j0(o),o.tag){case 3:cs(Sn),te();break;case 26:case 27:case 5:je(o);break;case 4:te();break;case 31:o.memoizedState!==null&&ni(o);break;case 13:ni(o);break;case 19:q(gn);break;case 10:cs(o.type);break;case 22:case 23:ni(o),$0(),a!==null&&q(Hl);break;case 24:cs(Sn)}}function ff(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&a)===a){m=void 0;var x=c.create,N=c.inst;m=x(),N.destroy=m}c=c.next}while(c!==v)}}catch(L){St(o,o.return,L)}}function To(a,o,c){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var x=v.next;m=x;do{if((m.tag&a)===a){var N=m.inst,L=N.destroy;if(L!==void 0){N.destroy=void 0,v=o;var G=c,ae=L;try{ae()}catch(de){St(v,G,de)}}}m=m.next}while(m!==x)}}catch(de){St(o,o.return,de)}}function KN(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{MT(o,c)}catch(m){St(a,a.return,m)}}}function GN(a,o,c){c.props=Xl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){St(a,o,m)}}function hf(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(v){St(a,o,v)}}function Oa(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){St(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){St(a,o,v)}else c.current=null}function YN(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){St(a,a.return,v)}}function _b(a,o,c){try{var m=a.stateNode;F9(m,a.type,c,o),m[Wn]=o}catch(v){St(a,a.return,v)}}function WN(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ro(a.type)||a.tag===4}function wb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||WN(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ro(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Eb(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gi));else if(m!==4&&(m===27&&Ro(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Eb(a,o,c),a=a.sibling;a!==null;)Eb(a,o,c),a=a.sibling}function fp(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&Ro(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(fp(a,o,c),a=a.sibling;a!==null;)fp(a,o,c),a=a.sibling}function XN(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);hr(o,m,c),o[wn]=a,o[Wn]=c}catch(x){St(a,a.return,x)}}var ms=!1,jn=!1,Ab=!1,QN=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function _9(a,o){if(a=a.containerInfo,Hb=Rp,a=cT(a),y0(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var N=0,L=-1,G=-1,ae=0,de=0,ye=a,se=null;t:for(;;){for(var ce;ye!==c||v!==0&&ye.nodeType!==3||(L=N+v),ye!==x||m!==0&&ye.nodeType!==3||(G=N+m),ye.nodeType===3&&(N+=ye.nodeValue.length),(ce=ye.firstChild)!==null;)se=ye,ye=ce;for(;;){if(ye===a)break t;if(se===c&&++ae===v&&(L=N),se===x&&++de===m&&(G=N),(ce=ye.nextSibling)!==null)break;ye=se,se=ye.parentNode}ye=ce}c=L===-1||G===-1?null:{start:L,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Kb={focusedElem:a,selectionRange:c},Rp=!1,Qn=o;Qn!==null;)if(o=Qn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Qn=a;else for(;Qn!==null;){switch(o=Qn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,v=x.memoizedProps,x=x.memoizedState,m=c.stateNode;try{var Le=Xl(c.type,v);a=m.getSnapshotBeforeUpdate(Le,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(qe){St(c,c.return,qe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Wb(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Wb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Qn=a;break}Qn=o.return}}function JN(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:gs(a,c),m&4&&ff(5,c);break;case 1:if(gs(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(N){St(c,c.return,N)}else{var v=Xl(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){St(c,c.return,N)}}m&64&&KN(c),m&512&&hf(c,c.return);break;case 3:if(gs(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{MT(a,o)}catch(N){St(c,c.return,N)}}break;case 27:o===null&&m&4&&XN(c);case 26:case 5:gs(a,c),o===null&&m&4&&YN(c),m&512&&hf(c,c.return);break;case 12:gs(a,c);break;case 31:gs(a,c),m&4&&t2(a,c);break;case 13:gs(a,c),m&4&&n2(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=O9.bind(null,c),X9(a,c))));break;case 22:if(m=c.memoizedState!==null||ms,!m){o=o!==null&&o.memoizedState!==null||jn,v=ms;var x=jn;ms=m,(jn=o)&&!x?ys(a,c,(c.subtreeFlags&8772)!==0):gs(a,c),ms=v,jn=x}break;case 30:break;default:gs(a,c)}}function ZN(a){var o=a.alternate;o!==null&&(a.alternate=null,ZN(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Fc(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,Br=!1;function ps(a,o,c){for(c=c.child;c!==null;)e2(a,o,c),c=c.sibling}function e2(a,o,c){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(Ln,c)}catch{}switch(c.tag){case 26:jn||Oa(c,o),ps(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:jn||Oa(c,o);var m=Xt,v=Br;Ro(c.type)&&(Xt=c.stateNode,Br=!1),ps(a,o,c),wf(c.stateNode),Xt=m,Br=v;break;case 5:jn||Oa(c,o);case 6:if(m=Xt,v=Br,Xt=null,ps(a,o,c),Xt=m,Br=v,Xt!==null)if(Br)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(c.stateNode)}catch(x){St(c,o,x)}else try{Xt.removeChild(c.stateNode)}catch(x){St(c,o,x)}break;case 18:Xt!==null&&(Br?(a=Xt,K2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Tu(a)):K2(Xt,c.stateNode));break;case 4:m=Xt,v=Br,Xt=c.stateNode.containerInfo,Br=!0,ps(a,o,c),Xt=m,Br=v;break;case 0:case 11:case 14:case 15:To(2,c,o),jn||To(4,c,o),ps(a,o,c);break;case 1:jn||(Oa(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&GN(c,o,m)),ps(a,o,c);break;case 21:ps(a,o,c);break;case 22:jn=(m=jn)||c.memoizedState!==null,ps(a,o,c),jn=m;break;default:ps(a,o,c)}}function t2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Tu(a)}catch(c){St(o,o.return,c)}}}function n2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Tu(a)}catch(c){St(o,o.return,c)}}function w9(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new QN),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new QN),o;default:throw Error(r(435,a.tag))}}function hp(a,o){var c=w9(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var v=I9.bind(null,a,m);m.then(v,v)}})}function Fr(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],x=a,N=o,L=N;e:for(;L!==null;){switch(L.tag){case 27:if(Ro(L.type)){Xt=L.stateNode,Br=!1;break e}break;case 5:Xt=L.stateNode,Br=!1;break e;case 3:case 4:Xt=L.stateNode.containerInfo,Br=!0;break e}L=L.return}if(Xt===null)throw Error(r(160));e2(x,N,v),Xt=null,Br=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)r2(o,a),o=o.sibling}var Zi=null;function r2(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Fr(o,a),$r(a),m&4&&(To(3,a,a.return),ff(3,a),To(5,a,a.return));break;case 1:Fr(o,a),$r(a),m&512&&(jn||c===null||Oa(c,c.return)),m&64&&ms&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=Zi;if(Fr(o,a),$r(a),m&512&&(jn||c===null||Oa(c,c.return)),m&4){var x=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":x=v.getElementsByTagName("title")[0],(!x||x[ga]||x[wn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(m),v.head.insertBefore(x,v.querySelector("head > title"))),hr(x,m,c),x[wn]=a,En(x),m=x;break e;case"link":var N=rj("link","href",v).get(m+(c.href||""));if(N){for(var L=0;L<N.length;L++)if(x=N[L],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(L,1);break t}}x=v.createElement(m),hr(x,m,c),v.head.appendChild(x);break;case"meta":if(N=rj("meta","content",v).get(m+(c.content||""))){for(L=0;L<N.length;L++)if(x=N[L],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(L,1);break t}}x=v.createElement(m),hr(x,m,c),v.head.appendChild(x);break;default:throw Error(r(468,m))}x[wn]=a,En(x),m=x}a.stateNode=m}else ij(v,a.type,a.stateNode);else a.stateNode=nj(v,m,a.memoizedProps);else x!==m?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,m===null?ij(v,a.type,a.stateNode):nj(v,m,a.memoizedProps)):m===null&&a.stateNode!==null&&_b(a,a.memoizedProps,c.memoizedProps)}break;case 27:Fr(o,a),$r(a),m&512&&(jn||c===null||Oa(c,c.return)),c!==null&&m&4&&_b(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Fr(o,a),$r(a),m&512&&(jn||c===null||Oa(c,c.return)),a.flags&32){v=a.stateNode;try{zr(v,"")}catch(Le){St(a,a.return,Le)}}m&4&&a.stateNode!=null&&(v=a.memoizedProps,_b(a,v,c!==null?c.memoizedProps:v)),m&1024&&(Ab=!0);break;case 6:if(Fr(o,a),$r(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(Le){St(a,a.return,Le)}}break;case 3:if(Cp=null,v=Zi,Zi=Np(o.containerInfo),Fr(o,a),Zi=v,$r(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Tu(o.containerInfo)}catch(Le){St(a,a.return,Le)}Ab&&(Ab=!1,i2(a));break;case 4:m=Zi,Zi=Np(a.stateNode.containerInfo),Fr(o,a),$r(a),Zi=m;break;case 12:Fr(o,a),$r(a);break;case 31:Fr(o,a),$r(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,hp(a,m)));break;case 13:Fr(o,a),$r(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(pp=Yt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,hp(a,m)));break;case 22:v=a.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,ae=ms,de=jn;if(ms=ae||v,jn=de||G,Fr(o,a),jn=de,ms=ae,$r(a),m&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||G||ms||jn||Ql(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){G=c=o;try{if(x=G.stateNode,v)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{L=G.stateNode;var ye=G.memoizedProps.style,se=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;L.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Le){St(G,G.return,Le)}}}else if(o.tag===6){if(c===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Le){St(G,G.return,Le)}}}else if(o.tag===18){if(c===null){G=o;try{var ce=G.stateNode;v?G2(ce,!0):G2(G.stateNode,!1)}catch(Le){St(G,G.return,Le)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,hp(a,c))));break;case 19:Fr(o,a),$r(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,hp(a,m)));break;case 30:break;case 21:break;default:Fr(o,a),$r(a)}}function $r(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(WN(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,x=wb(a);fp(a,x,v);break;case 5:var N=c.stateNode;c.flags&32&&(zr(N,""),c.flags&=-33);var L=wb(a);fp(a,L,N);break;case 3:case 4:var G=c.stateNode.containerInfo,ae=wb(a);Eb(a,ae,G);break;default:throw Error(r(161))}}catch(de){St(a,a.return,de)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function i2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;i2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function gs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)JN(a,o.alternate,o),o=o.sibling}function Ql(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:To(4,o,o.return),Ql(o);break;case 1:Oa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&GN(o,o.return,c),Ql(o);break;case 27:wf(o.stateNode);case 26:case 5:Oa(o,o.return),Ql(o);break;case 22:o.memoizedState===null&&Ql(o);break;case 30:Ql(o);break;default:Ql(o)}a=a.sibling}}function ys(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=a,x=o,N=x.flags;switch(x.tag){case 0:case 11:case 15:ys(v,x,c),ff(4,x);break;case 1:if(ys(v,x,c),m=x,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ae){St(m,m.return,ae)}if(m=x,v=m.updateQueue,v!==null){var L=m.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)DT(G[v],L)}catch(ae){St(m,m.return,ae)}}c&&N&64&&KN(x),hf(x,x.return);break;case 27:XN(x);case 26:case 5:ys(v,x,c),c&&m===null&&N&4&&YN(x),hf(x,x.return);break;case 12:ys(v,x,c);break;case 31:ys(v,x,c),c&&N&4&&t2(v,x);break;case 13:ys(v,x,c),c&&N&4&&n2(v,x);break;case 22:x.memoizedState===null&&ys(v,x,c),hf(x,x.return);break;case 30:break;default:ys(v,x,c)}o=o.sibling}}function Sb(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Jd(c))}function Tb(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Jd(a))}function ea(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)a2(a,o,c,m),o=o.sibling}function a2(a,o,c,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ea(a,o,c,m),v&2048&&ff(9,o);break;case 1:ea(a,o,c,m);break;case 3:ea(a,o,c,m),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Jd(a)));break;case 12:if(v&2048){ea(a,o,c,m),a=o.stateNode;try{var x=o.memoizedProps,N=x.id,L=x.onPostCommit;typeof L=="function"&&L(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){St(o,o.return,G)}}else ea(a,o,c,m);break;case 31:ea(a,o,c,m);break;case 13:ea(a,o,c,m);break;case 23:break;case 22:x=o.stateNode,N=o.alternate,o.memoizedState!==null?x._visibility&2?ea(a,o,c,m):mf(a,o):x._visibility&2?ea(a,o,c,m):(x._visibility|=2,pu(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Sb(N,o);break;case 24:ea(a,o,c,m),v&2048&&Tb(o.alternate,o);break;default:ea(a,o,c,m)}}function pu(a,o,c,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,N=o,L=c,G=m,ae=N.flags;switch(N.tag){case 0:case 11:case 15:pu(x,N,L,G,v),ff(8,N);break;case 23:break;case 22:var de=N.stateNode;N.memoizedState!==null?de._visibility&2?pu(x,N,L,G,v):mf(x,N):(de._visibility|=2,pu(x,N,L,G,v)),v&&ae&2048&&Sb(N.alternate,N);break;case 24:pu(x,N,L,G,v),v&&ae&2048&&Tb(N.alternate,N);break;default:pu(x,N,L,G,v)}o=o.sibling}}function mf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,v=m.flags;switch(m.tag){case 22:mf(c,m),v&2048&&Sb(m.alternate,m);break;case 24:mf(c,m),v&2048&&Tb(m.alternate,m);break;default:mf(c,m)}o=o.sibling}}var pf=8192;function gu(a,o,c){if(a.subtreeFlags&pf)for(a=a.child;a!==null;)s2(a,o,c),a=a.sibling}function s2(a,o,c){switch(a.tag){case 26:gu(a,o,c),a.flags&pf&&a.memoizedState!==null&&lz(c,Zi,a.memoizedState,a.memoizedProps);break;case 5:gu(a,o,c);break;case 3:case 4:var m=Zi;Zi=Np(a.stateNode.containerInfo),gu(a,o,c),Zi=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=pf,pf=16777216,gu(a,o,c),pf=m):gu(a,o,c));break;default:gu(a,o,c)}}function o2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function gf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Qn=m,c2(m,a)}o2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)l2(a),a=a.sibling}function l2(a){switch(a.tag){case 0:case 11:case 15:gf(a),a.flags&2048&&To(9,a,a.return);break;case 3:gf(a);break;case 12:gf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,mp(a)):gf(a);break;default:gf(a)}}function mp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Qn=m,c2(m,a)}o2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:To(8,o,o.return),mp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,mp(o));break;default:mp(o)}a=a.sibling}}function c2(a,o){for(;Qn!==null;){var c=Qn;switch(c.tag){case 0:case 11:case 15:To(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Jd(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Qn=m;else e:for(c=a;Qn!==null;){m=Qn;var v=m.sibling,x=m.return;if(ZN(m),m===c){Qn=null;break e}if(v!==null){v.return=x,Qn=v;break e}Qn=x}}}var E9={getCacheForType:function(a){var o=dr(Sn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return dr(Sn).controller.signal}},A9=typeof WeakMap=="function"?WeakMap:Map,bt=0,Mt=null,nt=null,at=0,At=0,ri=null,No=!1,yu=!1,Nb=!1,vs=0,ln=0,jo=0,Jl=0,jb=0,ii=0,vu=0,yf=null,qr=null,Cb=!1,pp=0,u2=0,gp=1/0,yp=null,Co=null,Un=0,Oo=null,bu=null,bs=0,Ob=0,Ib=null,d2=null,vf=0,Pb=null;function ai(){return(bt&2)!==0&&at!==0?at&-at:X.T!==null?Vb():vm()}function f2(){if(ii===0)if((at&536870912)===0||ut){var a=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),ii=a}else ii=536870912;return a=ti.current,a!==null&&(a.flags|=32),ii}function Hr(a,o,c){(a===Mt&&(At===2||At===9)||a.cancelPendingCommit!==null)&&(xu(a,0),Io(a,at,ii,!1)),Tl(a,c),((bt&2)===0||a!==Mt)&&(a===Mt&&((bt&2)===0&&(Jl|=c),ln===4&&Io(a,at,ii,!1)),Ia(a))}function h2(a,o,c){if((bt&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Vn(a,o),v=m?N9(a,o):kb(a,o,!0),x=m;do{if(v===0){yu&&!m&&Io(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!S9(c)){v=kb(a,o,!1),x=!1;continue}if(v===2){if(x=o,a.errorRecoveryDisabledLanes&x)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var L=a;v=yf;var G=L.current.memoizedState.isDehydrated;if(G&&(xu(L,N).flags|=256),N=kb(L,N,!1),N!==2){if(Nb&&!G){L.errorRecoveryDisabledLanes|=x,Jl|=x,v=4;break e}x=qr,qr=v,x!==null&&(qr===null?qr=x:qr.push.apply(qr,x))}v=N}if(x=!1,v!==2)continue}}if(v===1){xu(a,0),Io(a,o,0,!0);break}e:{switch(m=a,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Io(m,o,ii,!No);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=pp+300-Yt(),10<v)){if(Io(m,o,ii,!No),Dt(m,0,!0)!==0)break e;bs=o,m.timeoutHandle=q2(m2.bind(null,m,c,qr,yp,Cb,o,ii,Jl,vu,No,x,"Throttled",-0,0),v);break e}m2(m,c,qr,yp,Cb,o,ii,Jl,vu,No,x,null,-0,0)}}break}while(!0);Ia(a)}function m2(a,o,c,m,v,x,N,L,G,ae,de,ye,se,ce){if(a.timeoutHandle=-1,ye=o.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gi},s2(o,x,ye);var Le=(x&62914560)===x?pp-Yt():(x&4194048)===x?u2-Yt():0;if(Le=cz(ye,Le),Le!==null){bs=x,a.cancelPendingCommit=Le(w2.bind(null,a,o,x,c,m,v,N,L,G,de,ye,null,se,ce)),Io(a,x,N,!ae);return}}w2(a,o,x,c,m,v,N,L,G)}function S9(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],x=v.getSnapshot;v=v.value;try{if(!Zr(x(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Io(a,o,c,m){o&=~jb,o&=~Jl,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var v=o;0<v;){var x=31-Ye(v),N=1<<x;m[x]=-1,v&=~N}c!==0&&Nl(a,c,o)}function vp(){return(bt&6)===0?(bf(0),!1):!0}function Rb(){if(nt!==null){if(At===0)var a=nt.return;else a=nt,ls=$l=null,W0(a),uu=null,ef=0,a=nt;for(;a!==null;)HN(a.alternate,a),a=a.return;nt=null}}function xu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,H9(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),bs=0,Rb(),Mt=a,nt=c=ss(a.current,null),at=o,At=0,ri=null,No=!1,yu=Vn(a,o),Nb=!1,vu=ii=jb=Jl=jo=ln=0,qr=yf=null,Cb=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var v=31-Ye(m),x=1<<v;o|=a[v],m&=~x}return vs=o,Um(),c}function p2(a,o){et=null,X.H=cf,o===cu||o===Gm?(o=IT(),At=3):o===L0?(o=IT(),At=4):At=o===db?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ri=o,nt===null&&(ln=1,op(a,Ei(o,a.current)))}function g2(){var a=ti.current;return a===null?!0:(at&4194048)===at?Ni===null:(at&62914560)===at||(at&536870912)!==0?a===Ni:!1}function y2(){var a=X.H;return X.H=cf,a===null?cf:a}function v2(){var a=X.A;return X.A=E9,a}function bp(){ln=4,No||(at&4194048)!==at&&ti.current!==null||(yu=!0),(jo&134217727)===0&&(Jl&134217727)===0||Mt===null||Io(Mt,at,ii,!1)}function kb(a,o,c){var m=bt;bt|=2;var v=y2(),x=v2();(Mt!==a||at!==o)&&(yp=null,xu(a,o)),o=!1;var N=ln;e:do try{if(At!==0&&nt!==null){var L=nt,G=ri;switch(At){case 8:Rb(),N=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(o=!0);var ae=At;if(At=0,ri=null,_u(a,L,G,ae),c&&yu){N=0;break e}break;default:ae=At,At=0,ri=null,_u(a,L,G,ae)}}T9(),N=ln;break}catch(de){p2(a,de)}while(!0);return o&&a.shellSuspendCounter++,ls=$l=null,bt=m,X.H=v,X.A=x,nt===null&&(Mt=null,at=0,Um()),N}function T9(){for(;nt!==null;)b2(nt)}function N9(a,o){var c=bt;bt|=2;var m=y2(),v=v2();Mt!==a||at!==o?(yp=null,gp=Yt()+500,xu(a,o)):yu=Vn(a,o);e:do try{if(At!==0&&nt!==null){o=nt;var x=ri;t:switch(At){case 1:At=0,ri=null,_u(a,o,x,1);break;case 2:case 9:if(CT(x)){At=0,ri=null,x2(o);break}o=function(){At!==2&&At!==9||Mt!==a||(At=7),Ia(a)},x.then(o,o);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:CT(x)?(At=0,ri=null,x2(o)):(At=0,ri=null,_u(a,o,x,7));break;case 5:var N=null;switch(nt.tag){case 26:N=nt.memoizedState;case 5:case 27:var L=nt;if(N?aj(N):L.stateNode.complete){At=0,ri=null;var G=L.sibling;if(G!==null)nt=G;else{var ae=L.return;ae!==null?(nt=ae,xp(ae)):nt=null}break t}}At=0,ri=null,_u(a,o,x,5);break;case 6:At=0,ri=null,_u(a,o,x,6);break;case 8:Rb(),ln=6;break e;default:throw Error(r(462))}}j9();break}catch(de){p2(a,de)}while(!0);return ls=$l=null,X.H=m,X.A=v,bt=c,nt!==null?0:(Mt=null,at=0,Um(),ln)}function j9(){for(;nt!==null&&!sn();)b2(nt)}function b2(a){var o=$N(a.alternate,a,vs);a.memoizedProps=a.pendingProps,o===null?xp(a):nt=o}function x2(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=LN(c,o,o.pendingProps,o.type,void 0,at);break;case 11:o=LN(c,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:W0(o);default:HN(c,o),o=nt=vT(o,vs),o=$N(c,o,vs)}a.memoizedProps=a.pendingProps,o===null?xp(a):nt=o}function _u(a,o,c,m){ls=$l=null,W0(o),uu=null,ef=0;var v=o.return;try{if(g9(a,v,o,c,at)){ln=1,op(a,Ei(c,a.current)),nt=null;return}}catch(x){if(v!==null)throw nt=v,x;ln=1,op(a,Ei(c,a.current)),nt=null;return}o.flags&32768?(ut||m===1?a=!0:yu||(at&536870912)!==0?a=!1:(No=a=!0,(m===2||m===9||m===3||m===6)&&(m=ti.current,m!==null&&m.tag===13&&(m.flags|=16384))),_2(o,a)):xp(o)}function xp(a){var o=a;do{if((o.flags&32768)!==0){_2(o,No);return}a=o.return;var c=b9(o.alternate,o,vs);if(c!==null){nt=c;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=a}while(o!==null);ln===0&&(ln=5)}function _2(a,o){do{var c=x9(a.alternate,a);if(c!==null){c.flags&=32767,nt=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){nt=a;return}nt=a=c}while(a!==null);ln=6,nt=null}function w2(a,o,c,m,v,x,N,L,G){a.cancelPendingCommit=null;do _p();while(Un!==0);if((bt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=w0,h0(a,c,x,N,L,G),a===Mt&&(nt=Mt=null,at=0),bu=o,Oo=a,bs=c,Ob=x,Ib=v,d2=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,P9(mt,function(){return N2(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,v=oe.p,oe.p=2,N=bt,bt|=4;try{_9(a,o,c)}finally{bt=N,oe.p=v,X.T=m}}Un=1,E2(),A2(),S2()}}function E2(){if(Un===1){Un=0;var a=Oo,o=bu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var m=oe.p;oe.p=2;var v=bt;bt|=4;try{r2(o,a);var x=Kb,N=cT(a.containerInfo),L=x.focusedElem,G=x.selectionRange;if(N!==L&&L&&L.ownerDocument&&lT(L.ownerDocument.documentElement,L)){if(G!==null&&y0(L)){var ae=G.start,de=G.end;if(de===void 0&&(de=ae),"selectionStart"in L)L.selectionStart=ae,L.selectionEnd=Math.min(de,L.value.length);else{var ye=L.ownerDocument||document,se=ye&&ye.defaultView||window;if(se.getSelection){var ce=se.getSelection(),Le=L.textContent.length,qe=Math.min(G.start,Le),Ot=G.end===void 0?qe:Math.min(G.end,Le);!ce.extend&&qe>Ot&&(N=Ot,Ot=qe,qe=N);var Q=oT(L,qe),Y=oT(L,Ot);if(Q&&Y&&(ce.rangeCount!==1||ce.anchorNode!==Q.node||ce.anchorOffset!==Q.offset||ce.focusNode!==Y.node||ce.focusOffset!==Y.offset)){var ie=ye.createRange();ie.setStart(Q.node,Q.offset),ce.removeAllRanges(),qe>Ot?(ce.addRange(ie),ce.extend(Y.node,Y.offset)):(ie.setEnd(Y.node,Y.offset),ce.addRange(ie))}}}}for(ye=[],ce=L;ce=ce.parentNode;)ce.nodeType===1&&ye.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ye.length;L++){var me=ye[L];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Rp=!!Hb,Kb=Hb=null}finally{bt=v,oe.p=m,X.T=c}}a.current=o,Un=2}}function A2(){if(Un===2){Un=0;var a=Oo,o=bu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var m=oe.p;oe.p=2;var v=bt;bt|=4;try{JN(a,o.alternate,o)}finally{bt=v,oe.p=m,X.T=c}}Un=3}}function S2(){if(Un===4||Un===3){Un=0,tn();var a=Oo,o=bu,c=bs,m=d2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Un=5:(Un=0,bu=Oo=null,T2(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Co=null),ns(c),o=o.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(Ln,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=X.T,v=oe.p,oe.p=2,X.T=null;try{for(var x=a.onRecoverableError,N=0;N<m.length;N++){var L=m[N];x(L.value,{componentStack:L.stack})}}finally{X.T=o,oe.p=v}}(bs&3)!==0&&_p(),Ia(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===Pb?vf++:(vf=0,Pb=a):vf=0,bf(0)}}function T2(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Jd(o)))}function _p(){return E2(),A2(),S2(),N2()}function N2(){if(Un!==5)return!1;var a=Oo,o=Ob;Ob=0;var c=ns(bs),m=X.T,v=oe.p;try{oe.p=32>c?32:c,X.T=null,c=Ib,Ib=null;var x=Oo,N=bs;if(Un=0,bu=Oo=null,bs=0,(bt&6)!==0)throw Error(r(331));var L=bt;if(bt|=4,l2(x.current),a2(x,x.current,N,c),bt=L,bf(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(Ln,x)}catch{}return!0}finally{oe.p=v,X.T=m,T2(a,o)}}function j2(a,o,c){o=Ei(c,o),o=ub(a.stateNode,o,2),a=Eo(a,o,2),a!==null&&(Tl(a,2),Ia(a))}function St(a,o,c){if(a.tag===3)j2(a,a,c);else for(;o!==null;){if(o.tag===3){j2(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Co===null||!Co.has(m))){a=Ei(c,a),c=CN(2),m=Eo(o,c,2),m!==null&&(ON(c,m,o,a),Tl(m,2),Ia(m));break}}o=o.return}}function Db(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new A9;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(c)||(Nb=!0,v.add(c),a=C9.bind(null,a,o,c),o.then(a,a))}function C9(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Mt===a&&(at&c)===c&&(ln===4||ln===3&&(at&62914560)===at&&300>Yt()-pp?(bt&2)===0&&xu(a,0):jb|=c,vu===at&&(vu=0)),Ia(a)}function C2(a,o){o===0&&(o=Xr()),a=zl(a,o),a!==null&&(Tl(a,o),Ia(a))}function O9(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),C2(a,c)}function I9(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),C2(a,c)}function P9(a,o){return Ue(a,o)}var wp=null,wu=null,Mb=!1,Ep=!1,Lb=!1,Po=0;function Ia(a){a!==wu&&a.next===null&&(wu===null?wp=wu=a:wu=wu.next=a),Ep=!0,Mb||(Mb=!0,k9())}function bf(a,o){if(!Lb&&Ep){Lb=!0;do for(var c=!1,m=wp;m!==null;){if(a!==0){var v=m.pendingLanes;if(v===0)var x=0;else{var N=m.suspendedLanes,L=m.pingedLanes;x=(1<<31-Ye(42|a)+1)-1,x&=v&~(N&~L),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,R2(m,x))}else x=at,x=Dt(m,m===Mt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Vn(m,x)||(c=!0,R2(m,x));m=m.next}while(c);Lb=!1}}function R9(){O2()}function O2(){Ep=Mb=!1;var a=0;Po!==0&&q9()&&(a=Po);for(var o=Yt(),c=null,m=wp;m!==null;){var v=m.next,x=I2(m,o);x===0?(m.next=null,c===null?wp=v:c.next=v,v===null&&(wu=c)):(c=m,(a!==0||(x&3)!==0)&&(Ep=!0)),m=v}Un!==0&&Un!==5||bf(a),Po!==0&&(Po=0)}function I2(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var N=31-Ye(x),L=1<<N,G=v[N];G===-1?((L&c)===0||(L&m)!==0)&&(v[N]=_n(L,o)):G<=o&&(a.expiredLanes|=L),x&=~L}if(o=Mt,c=at,c=Dt(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(At===2||At===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Fe(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Vn(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&Fe(m),ns(c)){case 2:case 8:c=Rt;break;case 32:c=mt;break;case 268435456:c=Cr;break;default:c=mt}return m=P2.bind(null,a),c=Ue(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&Fe(m),a.callbackPriority=2,a.callbackNode=null,2}function P2(a,o){if(Un!==0&&Un!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(_p()&&a.callbackNode!==c)return null;var m=at;return m=Dt(a,a===Mt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(h2(a,m,o),I2(a,Yt()),a.callbackNode!=null&&a.callbackNode===c?P2.bind(null,a):null)}function R2(a,o){if(_p())return null;h2(a,o,!0)}function k9(){K9(function(){(bt&6)!==0?Ue(ts,R9):O2()})}function Vb(){if(Po===0){var a=ou;a===0&&(a=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),Po=a}return Po}function k2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Kc(""+a)}function D2(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function D9(a,o,c,m,v){if(o==="submit"&&c&&c.stateNode===v){var x=k2((v[Wn]||null).action),N=m.submitter;N&&(o=(o=N[Wn]||null)?k2(o.formAction):N.getAttribute("formAction"),o!==null&&(x=o,N=null));var L=new Aa("action","action",null,m,v);a.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Po!==0){var G=N?D2(v,N):new FormData(v);ib(c,{pending:!0,data:G,method:v.method,action:x},null,G)}}else typeof x=="function"&&(L.preventDefault(),G=N?D2(v,N):new FormData(v),ib(c,{pending:!0,data:G,method:v.method,action:x},x,G))},currentTarget:v}]})}}for(var Ub=0;Ub<_0.length;Ub++){var zb=_0[Ub],M9=zb.toLowerCase(),L9=zb[0].toUpperCase()+zb.slice(1);Ji(M9,"on"+L9)}Ji(fT,"onAnimationEnd"),Ji(hT,"onAnimationIteration"),Ji(mT,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(ZU,"onTransitionRun"),Ji(e9,"onTransitionStart"),Ji(t9,"onTransitionCancel"),Ji(pT,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function M2(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],v=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var N=m.length-1;0<=N;N--){var L=m[N],G=L.instance,ae=L.currentTarget;if(L=L.listener,G!==x&&v.isPropagationStopped())break e;x=L,v.currentTarget=ae;try{x(v)}catch(de){Vm(de)}v.currentTarget=null,x=G}else for(N=0;N<m.length;N++){if(L=m[N],G=L.instance,ae=L.currentTarget,L=L.listener,G!==x&&v.isPropagationStopped())break e;x=L,v.currentTarget=ae;try{x(v)}catch(de){Vm(de)}v.currentTarget=null,x=G}}}}function rt(a,o){var c=o[Bc];c===void 0&&(c=o[Bc]=new Set);var m=a+"__bubble";c.has(m)||(L2(o,a,2,!1),c.add(m))}function Bb(a,o,c){var m=0;o&&(m|=4),L2(c,a,m,o)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function Fb(a){if(!a[Ap]){a[Ap]=!0,Id.forEach(function(c){c!=="selectionchange"&&(V9.has(c)||Bb(c,!1,a),Bb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ap]||(o[Ap]=!0,Bb("selectionchange",!1,o))}}function L2(a,o,c,m){switch(fj(o)){case 2:var v=fz;break;case 8:v=hz;break;default:v=rx}c=v.bind(null,o,c,a),v=void 0,!Pl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(o,c,{capture:!0,passive:v}):a.addEventListener(o,c,!0):v!==void 0?a.addEventListener(o,c,{passive:v}):a.addEventListener(o,c,!1)}function $b(a,o,c,m,v){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var L=m.stateNode.containerInfo;if(L===v)break;if(N===4)for(N=m.return;N!==null;){var G=N.tag;if((G===3||G===4)&&N.stateNode.containerInfo===v)return;N=N.return}for(;L!==null;){if(N=ya(L),N===null)return;if(G=N.tag,G===5||G===6||G===26||G===27){m=x=N;continue e}L=L.parentNode}}m=m.return}ho(function(){var ae=x,de=bi(c),ye=[];e:{var se=gT.get(a);if(se!==void 0){var ce=Aa,Le=a;switch(a){case"keypress":if(kl(c)===0)break e;case"keydown":case"keyup":ce=Dm;break;case"focusin":Le="focus",ce=Ml;break;case"focusout":Le="blur",ce=Ml;break;case"beforeblur":case"afterblur":ce=Ml;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=T;break;case fT:case hT:case mT:ce=jm;break;case pT:ce=F;break;case"scroll":case"scrollend":ce=$d;break;case"wheel":ce=le;break;case"copy":case"cut":case"paste":ce=Cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=as;break;case"toggle":case"beforetoggle":ce=Ze}var qe=(o&4)!==0,Ot=!qe&&(a==="scroll"||a==="scrollend"),Q=qe?se!==null?se+"Capture":null:se;qe=[];for(var Y=ae,ie;Y!==null;){var me=Y;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||Q===null||(me=Yi(Y,Q),me!=null&&qe.push(_f(Y,me,ie))),Ot)break;Y=Y.return}0<qe.length&&(se=new ce(se,Le,null,c,de),ye.push({event:se,listeners:qe}))}}if((o&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",se&&c!==zd&&(Le=c.relatedTarget||c.fromElement)&&(ya(Le)||Le[pa]))break e;if((ce||se)&&(se=de.window===de?de:(se=de.ownerDocument)?se.defaultView||se.parentWindow:window,ce?(Le=c.relatedTarget||c.toElement,ce=ae,Le=Le?ya(Le):null,Le!==null&&(Ot=s(Le),qe=Le.tag,Le!==Ot||qe!==5&&qe!==27&&qe!==6)&&(Le=null)):(ce=null,Le=ae),ce!==Le)){if(qe=qd,me="onMouseLeave",Q="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(qe=as,me="onPointerLeave",Q="onPointerEnter",Y="pointer"),Ot=ce==null?se:Qr(ce),ie=Le==null?se:Qr(Le),se=new qe(me,Y+"leave",ce,c,de),se.target=Ot,se.relatedTarget=ie,me=null,ya(de)===ae&&(qe=new qe(Q,Y+"enter",Le,c,de),qe.target=ie,qe.relatedTarget=Ot,me=qe),Ot=me,ce&&Le)t:{for(qe=U9,Q=ce,Y=Le,ie=0,me=Q;me;me=qe(me))ie++;me=0;for(var $e=Y;$e;$e=qe($e))me++;for(;0<ie-me;)Q=qe(Q),ie--;for(;0<me-ie;)Y=qe(Y),me--;for(;ie--;){if(Q===Y||Y!==null&&Q===Y.alternate){qe=Q;break t}Q=qe(Q),Y=qe(Y)}qe=null}else qe=null;ce!==null&&V2(ye,se,ce,qe,!1),Le!==null&&Ot!==null&&V2(ye,Ot,Le,qe,!0)}}e:{if(se=ae?Qr(ae):window,ce=se.nodeName&&se.nodeName.toLowerCase(),ce==="select"||ce==="input"&&se.type==="file")var pt=tT;else if(ZS(se))if(nT)pt=XU;else{pt=YU;var ze=GU}else ce=se.nodeName,!ce||ce.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&Hc(ae.elementType)&&(pt=tT):pt=WU;if(pt&&(pt=pt(a,ae))){eT(ye,pt,c,de);break e}ze&&ze(a,se,ae),a==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&Ld(se,"number",se.value)}switch(ze=ae?Qr(ae):window,a){case"focusin":(ZS(ze)||ze.contentEditable==="true")&&(Zc=ze,v0=ae,Wd=null);break;case"focusout":Wd=v0=Zc=null;break;case"mousedown":b0=!0;break;case"contextmenu":case"mouseup":case"dragend":b0=!1,uT(ye,c,de);break;case"selectionchange":if(JU)break;case"keydown":case"keyup":uT(ye,c,de)}var tt;if(vt)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Jc?Ll(a,c)&&(st="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(st="onCompositionStart");st&&(Na&&c.locale!=="ko"&&(Jc||st!=="onCompositionStart"?st==="onCompositionEnd"&&Jc&&(tt=Fd()):(Ea=de,Bd="value"in Ea?Ea.value:Ea.textContent,Jc=!0)),ze=Sp(ae,st),0<ze.length&&(st=new Ta(st,a,null,c,de),ye.push({event:st,listeners:ze}),tt?st.data=tt:(tt=Qc(c),tt!==null&&(st.data=tt)))),(tt=_i?$U(a,c):qU(a,c))&&(st=Sp(ae,"onBeforeInput"),0<st.length&&(ze=new Ta("onBeforeInput","beforeinput",null,c,de),ye.push({event:ze,listeners:st}),ze.data=tt)),D9(ye,a,ae,c,de)}M2(ye,o)})}function _f(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Sp(a,o){for(var c=o+"Capture",m=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Yi(a,c),v!=null&&m.unshift(_f(a,v,x)),v=Yi(a,o),v!=null&&m.push(_f(a,v,x))),a.tag===3)return m;a=a.return}return[]}function U9(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function V2(a,o,c,m,v){for(var x=o._reactName,N=[];c!==null&&c!==m;){var L=c,G=L.alternate,ae=L.stateNode;if(L=L.tag,G!==null&&G===m)break;L!==5&&L!==26&&L!==27||ae===null||(G=ae,v?(ae=Yi(c,x),ae!=null&&N.unshift(_f(c,ae,G))):v||(ae=Yi(c,x),ae!=null&&N.push(_f(c,ae,G)))),c=c.return}N.length!==0&&a.push({event:o,listeners:N})}var z9=/\r\n?/g,B9=/\u0000|\uFFFD/g;function U2(a){return(typeof a=="string"?a:""+a).replace(z9,`
`).replace(B9,"")}function z2(a,o){return o=U2(o),U2(a)===o}function Ct(a,o,c,m,v,x){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||zr(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&zr(a,""+m);break;case"className":Jr(a,"class",m);break;case"tabIndex":Jr(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(a,c,m);break;case"style":Ud(a,m,x);break;case"data":if(o!=="object"){Jr(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Kc(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&Ct(a,o,"name",v.name,v,null),Ct(a,o,"formEncType",v.formEncType,v,null),Ct(a,o,"formMethod",v.formMethod,v,null),Ct(a,o,"formTarget",v.formTarget,v,null)):(Ct(a,o,"encType",v.encType,v,null),Ct(a,o,"method",v.method,v,null),Ct(a,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Kc(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Gi);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Kc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":rt("beforetoggle",a),rt("toggle",a),$c(a,"popover",m);break;case"xlinkActuate":An(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":An(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":An(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":An(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":An(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":An(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":An(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":An(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":An(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$c(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Sm.get(c)||c,$c(a,c,m))}}function qb(a,o,c,m,v,x){switch(c){case"style":Ud(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?zr(a,m):(typeof m=="number"||typeof m=="bigint")&&zr(a,""+m);break;case"onScroll":m!=null&&rt("scroll",a);break;case"onScrollEnd":m!=null&&rt("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),x=a[Wn]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,v),typeof m=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,v);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):$c(a,c,m)}}}function hr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",a),rt("load",a);var m=!1,v=!1,x;for(x in c)if(c.hasOwnProperty(x)){var N=c[x];if(N!=null)switch(x){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ct(a,o,x,N,c,null)}}v&&Ct(a,o,"srcSet",c.srcSet,c,null),m&&Ct(a,o,"src",c.src,c,null);return;case"input":rt("invalid",a);var L=x=N=v=null,G=null,ae=null;for(m in c)if(c.hasOwnProperty(m)){var de=c[m];if(de!=null)switch(m){case"name":v=de;break;case"type":N=de;break;case"checked":G=de;break;case"defaultChecked":ae=de;break;case"value":x=de;break;case"defaultValue":L=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Ct(a,o,m,de,c,null)}}wm(a,x,L,G,ae,N,v,!1);return;case"select":rt("invalid",a),m=N=x=null;for(v in c)if(c.hasOwnProperty(v)&&(L=c[v],L!=null))switch(v){case"value":x=L;break;case"defaultValue":N=L;break;case"multiple":m=L;default:Ct(a,o,v,L,c,null)}o=x,c=N,a.multiple=!!m,o!=null?lo(a,!!m,o,!1):c!=null&&lo(a,!!m,c,!0);return;case"textarea":rt("invalid",a),x=v=m=null;for(N in c)if(c.hasOwnProperty(N)&&(L=c[N],L!=null))switch(N){case"value":m=L;break;case"defaultValue":v=L;break;case"children":x=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Ct(a,o,N,L,c,null)}co(a,m,v,x);return;case"option":for(G in c)c.hasOwnProperty(G)&&(m=c[G],m!=null)&&(G==="selected"?a.selected=m&&typeof m!="function"&&typeof m!="symbol":Ct(a,o,G,m,c,null));return;case"dialog":rt("beforetoggle",a),rt("toggle",a),rt("cancel",a),rt("close",a);break;case"iframe":case"object":rt("load",a);break;case"video":case"audio":for(m=0;m<xf.length;m++)rt(xf[m],a);break;case"image":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"embed":case"source":case"link":rt("error",a),rt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in c)if(c.hasOwnProperty(ae)&&(m=c[ae],m!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ct(a,o,ae,m,c,null)}return;default:if(Hc(o)){for(de in c)c.hasOwnProperty(de)&&(m=c[de],m!==void 0&&qb(a,o,de,m,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(m=c[L],m!=null&&Ct(a,o,L,m,c,null))}function F9(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,N=null,L=null,G=null,ae=null,de=null;for(ce in c){var ye=c[ce];if(c.hasOwnProperty(ce)&&ye!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":G=ye;default:m.hasOwnProperty(ce)||Ct(a,o,ce,null,m,ye)}}for(var se in m){var ce=m[se];if(ye=c[se],m.hasOwnProperty(se)&&(ce!=null||ye!=null))switch(se){case"type":x=ce;break;case"name":v=ce;break;case"checked":ae=ce;break;case"defaultChecked":de=ce;break;case"value":N=ce;break;case"defaultValue":L=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==ye&&Ct(a,o,se,ce,m,ye)}}qc(a,N,L,G,ae,de,x,v);return;case"select":ce=N=L=se=null;for(x in c)if(G=c[x],c.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":ce=G;default:m.hasOwnProperty(x)||Ct(a,o,x,null,m,G)}for(v in m)if(x=m[v],G=c[v],m.hasOwnProperty(v)&&(x!=null||G!=null))switch(v){case"value":se=x;break;case"defaultValue":L=x;break;case"multiple":N=x;default:x!==G&&Ct(a,o,v,x,m,G)}o=L,c=N,m=ce,se!=null?lo(a,!!c,se,!1):!!m!=!!c&&(o!=null?lo(a,!!c,o,!0):lo(a,!!c,c?[]:"",!1));return;case"textarea":ce=se=null;for(L in c)if(v=c[L],c.hasOwnProperty(L)&&v!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ct(a,o,L,null,m,v)}for(N in m)if(v=m[N],x=c[N],m.hasOwnProperty(N)&&(v!=null||x!=null))switch(N){case"value":se=v;break;case"defaultValue":ce=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&Ct(a,o,N,v,m,x)}Em(a,se,ce);return;case"option":for(var Le in c)se=c[Le],c.hasOwnProperty(Le)&&se!=null&&!m.hasOwnProperty(Le)&&(Le==="selected"?a.selected=!1:Ct(a,o,Le,null,m,se));for(G in m)se=m[G],ce=c[G],m.hasOwnProperty(G)&&se!==ce&&(se!=null||ce!=null)&&(G==="selected"?a.selected=se&&typeof se!="function"&&typeof se!="symbol":Ct(a,o,G,se,m,ce));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)se=c[qe],c.hasOwnProperty(qe)&&se!=null&&!m.hasOwnProperty(qe)&&Ct(a,o,qe,null,m,se);for(ae in m)if(se=m[ae],ce=c[ae],m.hasOwnProperty(ae)&&se!==ce&&(se!=null||ce!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:Ct(a,o,ae,se,m,ce)}return;default:if(Hc(o)){for(var Ot in c)se=c[Ot],c.hasOwnProperty(Ot)&&se!==void 0&&!m.hasOwnProperty(Ot)&&qb(a,o,Ot,void 0,m,se);for(de in m)se=m[de],ce=c[de],!m.hasOwnProperty(de)||se===ce||se===void 0&&ce===void 0||qb(a,o,de,se,m,ce);return}}for(var Q in c)se=c[Q],c.hasOwnProperty(Q)&&se!=null&&!m.hasOwnProperty(Q)&&Ct(a,o,Q,null,m,se);for(ye in m)se=m[ye],ce=c[ye],!m.hasOwnProperty(ye)||se===ce||se==null&&ce==null||Ct(a,o,ye,se,m,ce)}function B2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $9(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var v=c[m],x=v.transferSize,N=v.initiatorType,L=v.duration;if(x&&L&&B2(N)){for(N=0,L=v.responseEnd,m+=1;m<c.length;m++){var G=c[m],ae=G.startTime;if(ae>L)break;var de=G.transferSize,ye=G.initiatorType;de&&B2(ye)&&(G=G.responseEnd,N+=de*(G<L?1:(L-ae)/(G-ae)))}if(--m,o+=8*(x+N)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Hb=null,Kb=null;function Tp(a){return a.nodeType===9?a:a.ownerDocument}function F2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $2(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Gb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Yb=null;function q9(){var a=window.event;return a&&a.type==="popstate"?a===Yb?!1:(Yb=a,!0):(Yb=null,!1)}var q2=typeof setTimeout=="function"?setTimeout:void 0,H9=typeof clearTimeout=="function"?clearTimeout:void 0,H2=typeof Promise=="function"?Promise:void 0,K9=typeof queueMicrotask=="function"?queueMicrotask:typeof H2<"u"?function(a){return H2.resolve(null).then(a).catch(G9)}:q2;function G9(a){setTimeout(function(){throw a})}function Ro(a){return a==="head"}function K2(a,o){var c=o,m=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(v),Tu(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")wf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,wf(c);for(var x=c.firstChild;x;){var N=x.nextSibling,L=x.nodeName;x[ga]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=N}}else c==="body"&&wf(a.ownerDocument.body);c=v}while(c);Tu(o)}function G2(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function Wb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Wb(c),Fc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function Y9(a,o,c,m){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ga])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=ji(a.nextSibling),a===null)break}return null}function W9(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=ji(a.nextSibling),a===null))return null;return a}function Y2(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=ji(a.nextSibling),a===null))return null;return a}function Xb(a){return a.data==="$?"||a.data==="$~"}function Qb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function X9(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function ji(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Jb=null;function W2(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return ji(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function X2(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function Q2(a,o,c){switch(o=Tp(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function wf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Fc(a)}var Ci=new Map,J2=new Set;function Np(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xs=oe.d;oe.d={f:Q9,r:J9,D:Z9,C:ez,L:tz,m:nz,X:iz,S:rz,M:az};function Q9(){var a=xs.f(),o=vp();return a||o}function J9(a){var o=vi(a);o!==null&&o.tag===5&&o.type==="form"?pN(o):xs.r(a)}var Eu=typeof document>"u"?null:document;function Z2(a,o,c){var m=Eu;if(m&&typeof o=="string"&&o){var v=Ur(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),J2.has(v)||(J2.add(v),a={rel:a,crossOrigin:c,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),hr(o,"link",a),En(o),m.head.appendChild(o)))}}function Z9(a){xs.D(a),Z2("dns-prefetch",a,null)}function ez(a,o){xs.C(a,o),Z2("preconnect",a,o)}function tz(a,o,c){xs.L(a,o,c);var m=Eu;if(m&&a&&o){var v='link[rel="preload"][as="'+Ur(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Ur(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Ur(c.imageSizes)+'"]')):v+='[href="'+Ur(a)+'"]';var x=v;switch(o){case"style":x=Au(a);break;case"script":x=Su(a)}Ci.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Ci.set(x,a),m.querySelector(v)!==null||o==="style"&&m.querySelector(Ef(x))||o==="script"&&m.querySelector(Af(x))||(o=m.createElement("link"),hr(o,"link",a),En(o),m.head.appendChild(o)))}}function nz(a,o){xs.m(a,o);var c=Eu;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Ur(m)+'"][href="'+Ur(a)+'"]',x=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Su(a)}if(!Ci.has(x)&&(a=g({rel:"modulepreload",href:a},o),Ci.set(x,a),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Af(x)))return}m=c.createElement("link"),hr(m,"link",a),En(m),c.head.appendChild(m)}}}function rz(a,o,c){xs.S(a,o,c);var m=Eu;if(m&&a){var v=va(m).hoistableStyles,x=Au(a);o=o||"default";var N=v.get(x);if(!N){var L={loading:0,preload:null};if(N=m.querySelector(Ef(x)))L.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Ci.get(x))&&Zb(a,c);var G=N=m.createElement("link");En(G),hr(G,"link",a),G._p=new Promise(function(ae,de){G.onload=ae,G.onerror=de}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,jp(N,o,m)}N={type:"stylesheet",instance:N,count:1,state:L},v.set(x,N)}}}function iz(a,o){xs.X(a,o);var c=Eu;if(c&&a){var m=va(c).hoistableScripts,v=Su(a),x=m.get(v);x||(x=c.querySelector(Af(v)),x||(a=g({src:a,async:!0},o),(o=Ci.get(v))&&ex(a,o),x=c.createElement("script"),En(x),hr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function az(a,o){xs.M(a,o);var c=Eu;if(c&&a){var m=va(c).hoistableScripts,v=Su(a),x=m.get(v);x||(x=c.querySelector(Af(v)),x||(a=g({src:a,async:!0,type:"module"},o),(o=Ci.get(v))&&ex(a,o),x=c.createElement("script"),En(x),hr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function ej(a,o,c,m){var v=(v=xe.current)?Np(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Au(c.href),c=va(v).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Au(c.href);var x=va(v).hoistableStyles,N=x.get(a);if(N||(v=v.ownerDocument||v,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,N),(x=v.querySelector(Ef(a)))&&!x._p&&(N.instance=x,N.state.loading=5),Ci.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ci.set(a,c),x||sz(v,a,c,N.state))),o&&m===null)throw Error(r(528,""));return N}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Su(c),c=va(v).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Au(a){return'href="'+Ur(a)+'"'}function Ef(a){return'link[rel="stylesheet"]['+a+"]"}function tj(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function sz(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),hr(o,"link",c),En(o),a.head.appendChild(o))}function Su(a){return'[src="'+Ur(a)+'"]'}function Af(a){return"script[async]"+a}function nj(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+Ur(c.href)+'"]');if(m)return o.instance=m,En(m),m;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),En(m),hr(m,"style",v),jp(m,c.precedence,a),o.instance=m;case"stylesheet":v=Au(c.href);var x=a.querySelector(Ef(v));if(x)return o.state.loading|=4,o.instance=x,En(x),x;m=tj(c),(v=Ci.get(v))&&Zb(m,v),x=(a.ownerDocument||a).createElement("link"),En(x);var N=x;return N._p=new Promise(function(L,G){N.onload=L,N.onerror=G}),hr(x,"link",m),o.state.loading|=4,jp(x,c.precedence,a),o.instance=x;case"script":return x=Su(c.src),(v=a.querySelector(Af(x)))?(o.instance=v,En(v),v):(m=c,(v=Ci.get(x))&&(m=g({},c),ex(m,v)),a=a.ownerDocument||a,v=a.createElement("script"),En(v),hr(v,"link",m),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,jp(m,c.precedence,a));return o.instance}function jp(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,x=v,N=0;N<m.length;N++){var L=m[N];if(L.dataset.precedence===o)x=L;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Zb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function ex(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Cp=null;function rj(a,o,c){if(Cp===null){var m=new Map,v=Cp=new Map;v.set(c,m)}else v=Cp,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var x=c[v];if(!(x[ga]||x[wn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(o)||"";N=a+N;var L=m.get(N);L?L.push(x):m.set(N,[x])}}return m}function ij(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function oz(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function aj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function lz(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Au(m.href),x=o.querySelector(Ef(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Op.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,En(x);return}x=o.ownerDocument||o,m=tj(m),(v=Ci.get(v))&&Zb(m,v),x=x.createElement("link"),En(x);var N=x;N._p=new Promise(function(L,G){N.onload=L,N.onerror=G}),hr(x,"link",m),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Op.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var tx=0;function cz(a,o){return a.stylesheets&&a.count===0&&Pp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Pp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&tx===0&&(tx=62500*$9());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Pp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>tx?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Op(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ip=null;function Pp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ip=new Map,o.forEach(uz,a),Ip=null,Op.call(a))}function uz(a,o){if(!(o.state.loading&4)){var c=Ip.get(a);if(c)var m=c.get(null);else{c=new Map,Ip.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var N=v[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),m=N)}m&&c.set(null,m)}v=o.instance,N=v.getAttribute("data-precedence"),x=c.get(N)||m,x===m&&c.set(null,v),c.set(N,v),this.count++,m=Op.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Sf={$$typeof:P,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function dz(a,o,c,m,v,x,N,L,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function sj(a,o,c,m,v,x,N,L,G,ae,de,ye){return a=new dz(a,o,c,N,G,ae,de,ye,L),o=1,x===!0&&(o|=24),x=ei(3,null,null,o),a.current=x,x.stateNode=a,o=k0(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:c,cache:o},V0(x),a}function oj(a){return a?(a=nu,a):nu}function lj(a,o,c,m,v,x){v=oj(v),m.context===null?m.context=v:m.pendingContext=v,m=wo(o),m.payload={element:c},x=x===void 0?null:x,x!==null&&(m.callback=x),c=Eo(a,m,o),c!==null&&(Hr(c,a,o),nf(c,a,o))}function cj(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function nx(a,o){cj(a,o),(a=a.alternate)&&cj(a,o)}function uj(a){if(a.tag===13||a.tag===31){var o=zl(a,67108864);o!==null&&Hr(o,a,67108864),nx(a,67108864)}}function dj(a){if(a.tag===13||a.tag===31){var o=ai();o=jl(o);var c=zl(a,o);c!==null&&Hr(c,a,o),nx(a,o)}}var Rp=!0;function fz(a,o,c,m){var v=X.T;X.T=null;var x=oe.p;try{oe.p=2,rx(a,o,c,m)}finally{oe.p=x,X.T=v}}function hz(a,o,c,m){var v=X.T;X.T=null;var x=oe.p;try{oe.p=8,rx(a,o,c,m)}finally{oe.p=x,X.T=v}}function rx(a,o,c,m){if(Rp){var v=ix(m);if(v===null)$b(a,o,m,kp,c),hj(a,m);else if(pz(v,a,o,c,m))m.stopPropagation();else if(hj(a,m),o&4&&-1<mz.indexOf(a)){for(;v!==null;){var x=vi(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=We(x.pendingLanes);if(N!==0){var L=x;for(L.pendingLanes|=2,L.entangledLanes|=2;N;){var G=1<<31-Ye(N);L.entanglements[1]|=G,N&=~G}Ia(x),(bt&6)===0&&(gp=Yt()+500,bf(0))}}break;case 31:case 13:L=zl(x,2),L!==null&&Hr(L,x,2),vp(),nx(x,2)}if(x=ix(m),x===null&&$b(a,o,m,kp,c),x===v)break;v=x}v!==null&&m.stopPropagation()}else $b(a,o,m,null,c)}}function ix(a){return a=bi(a),ax(a)}var kp=null;function ax(a){if(kp=null,a=ya(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return kp=a,null}function fj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case ts:return 2;case Rt:return 8;case mt:case Lr:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var sx=!1,ko=null,Do=null,Mo=null,Tf=new Map,Nf=new Map,Lo=[],mz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hj(a,o){switch(a){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Tf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(o.pointerId)}}function jf(a,o,c,m,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},o!==null&&(o=vi(o),o!==null&&uj(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function pz(a,o,c,m,v){switch(o){case"focusin":return ko=jf(ko,a,o,c,m,v),!0;case"dragenter":return Do=jf(Do,a,o,c,m,v),!0;case"mouseover":return Mo=jf(Mo,a,o,c,m,v),!0;case"pointerover":var x=v.pointerId;return Tf.set(x,jf(Tf.get(x)||null,a,o,c,m,v)),!0;case"gotpointercapture":return x=v.pointerId,Nf.set(x,jf(Nf.get(x)||null,a,o,c,m,v)),!0}return!1}function mj(a){var o=ya(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,Hi(a.priority,function(){dj(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,Hi(a.priority,function(){dj(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Dp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=ix(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);zd=m,c.target.dispatchEvent(m),zd=null}else return o=vi(c),o!==null&&uj(o),a.blockedOn=c,!1;o.shift()}return!0}function pj(a,o,c){Dp(a)&&c.delete(o)}function gz(){sx=!1,ko!==null&&Dp(ko)&&(ko=null),Do!==null&&Dp(Do)&&(Do=null),Mo!==null&&Dp(Mo)&&(Mo=null),Tf.forEach(pj),Nf.forEach(pj)}function Mp(a,o){a.blockedOn===o&&(a.blockedOn=null,sx||(sx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gz)))}var Lp=null;function gj(a){Lp!==a&&(Lp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lp===a&&(Lp=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],v=a[o+2];if(typeof m!="function"){if(ax(m||c)===null)continue;break}var x=vi(c);x!==null&&(a.splice(o,3),o-=3,ib(x,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function Tu(a){function o(G){return Mp(G,a)}ko!==null&&Mp(ko,a),Do!==null&&Mp(Do,a),Mo!==null&&Mp(Mo,a),Tf.forEach(o),Nf.forEach(o);for(var c=0;c<Lo.length;c++){var m=Lo[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Lo.length&&(c=Lo[0],c.blockedOn===null);)mj(c),c.blockedOn===null&&Lo.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],x=c[m+1],N=v[Wn]||null;if(typeof x=="function")N||gj(c);else if(N){var L=null;if(x&&x.hasAttribute("formAction")){if(v=x,N=x[Wn]||null)L=N.formAction;else if(ax(v)!==null)continue}else L=N.action;typeof L=="function"?c[m+1]=L:(c.splice(m,3),m-=3),gj(c)}}}function yj(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return v=N})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function ox(a){this._internalRoot=a}Vp.prototype.render=ox.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=ai();lj(c,m,a,o,null,null)},Vp.prototype.unmount=ox.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;lj(a.current,2,null,a,null,null),vp(),o[pa]=null}};function Vp(a){this._internalRoot=a}Vp.prototype.unstable_scheduleHydration=function(a){if(a){var o=vm();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Lo.length&&o!==0&&o<Lo[c].priority;c++);Lo.splice(c,0,a),c===0&&mj(a)}};var vj=e.version;if(vj!=="19.2.3")throw Error(r(527,vj,"19.2.3"));oe.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var yz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Up.isDisabled&&Up.supportsFiber)try{Ln=Up.inject(yz),ne=Up}catch{}}return Of.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",v=SN,x=TN,N=NN;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=sj(a,1,!1,null,null,c,m,null,v,x,N,yj),a[pa]=o.current,Fb(a),new ox(o)},Of.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,v="",x=SN,N=TN,L=NN,G=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.formState!==void 0&&(G=c.formState)),o=sj(a,1,!0,o,c??null,m,v,G,x,N,L,yj),o.context=oj(null),c=o.current,m=ai(),m=jl(m),v=wo(m),v.callback=null,Eo(c,v,m),c=m,o.current.lanes=c,Tl(o,c),Ia(o),a[pa]=o.current,Fb(a),new Vp(o)},Of.version="19.2.3",Of}var jj;function Cz(){if(jj)return ux.exports;jj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ux.exports=jz(),ux.exports}var Oz=Cz();var Cj="popstate";function Iz(t={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return hw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:eh(i)}return Rz(e,n,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pz(){return Math.random().toString(36).substring(2,10)}function Oj(t,e){return{usr:t.state,key:t.key,idx:e}}function hw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?od(e):e,state:n,key:e&&e.key||r||Pz()}}function eh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function od(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Rz(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let S=p(),j=S==null?null:S-h;h=S,d&&d({action:u,location:A.location,delta:j})}function b(S,j){u="PUSH";let R=hw(A.location,S,j);h=p()+1;let P=Oj(R,h),U=A.createHref(R);try{l.pushState(P,"",U)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(U)}s&&d&&d({action:u,location:A.location,delta:1})}function _(S,j){u="REPLACE";let R=hw(A.location,S,j);h=p();let P=Oj(R,h),U=A.createHref(R);l.replaceState(P,"",U),s&&d&&d({action:u,location:A.location,delta:0})}function E(S){return kz(S)}let A={get action(){return u},get location(){return t(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Cj,g),d=S,()=>{i.removeEventListener(Cj,g),d=null}},createHref(S){return e(i,S)},createURL:E,encodeLocation(S){let j=E(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:_,go(S){return l.go(S)}};return A}function kz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:eh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function OD(t,e,n="/"){return Dz(t,e,n,!1)}function Dz(t,e,n,r){let i=typeof e=="string"?od(e):e,s=Ls(i.pathname||"/",n);if(s==null)return null;let l=ID(t);Mz(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=Gz(s);u=Hz(l[d],h,r)}return u}function ID(t,e=[],n=[],r="",i=!1){let s=(l,u,d=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Zt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ps([r,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(Zt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ID(l.children,e,b,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:$z(g,l.index),routesMeta:b})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let d of PD(l.path))s(l,u,!0,d)}),e}function PD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=PD(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function Mz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Lz=/^:[\w-]+$/,Vz=3,Uz=2,zz=1,Bz=10,Fz=-2,Ij=t=>t==="*";function $z(t,e){let n=t.split("/"),r=n.length;return n.some(Ij)&&(r+=Fz),e&&(r+=Uz),n.filter(i=>!Ij(i)).reduce((i,s)=>i+(Lz.test(s)?Vz:s===""?zz:Bz),r)}function qz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Hz(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=jg({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),b=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=jg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Ps([s,g.pathname]),pathnameBase:Qz(Ps([s,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(s=Ps([s,g.pathnameBase]))}return l}function jg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Kz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let E=u[b]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[b];return g&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function Kz(t,e=!1,n=!0){Vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Gz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var RD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yz=t=>RD.test(t);function Wz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?od(t):t,s;if(n)if(Yz(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=Pj(n.substring(1),"/"):s=Pj(n,e)}else s=e;return{pathname:s,search:Jz(r),hash:Zz(i)}}function Pj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function G1(t){let e=Xz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Y1(t,e,n,r=!1){let i;typeof t=="string"?i=od(t):(i={...t},Zt(!i.pathname||!i.pathname.includes("?"),mx("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),mx("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),mx("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}u=g>=0?e[g]:"/"}let d=Wz(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Ps=t=>t.join("/").replace(/\/\/+/g,"/"),Qz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,eB=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function nB(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function DD(t,e){let n=t;if(typeof n!="string"||!RD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(kD)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),u=Ls(l.pathname,e);l.origin===s.origin&&u!=null?n=u+l.search+l.hash:i=!0}catch{Vi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MD=["POST","PUT","PATCH","DELETE"];new Set(MD);var rB=["GET",...MD];new Set(rB);var ld=w.createContext(null);ld.displayName="DataRouter";var $y=w.createContext(null);$y.displayName="DataRouterState";var iB=w.createContext(!1),LD=w.createContext({isTransitioning:!1});LD.displayName="ViewTransition";var aB=w.createContext(new Map);aB.displayName="Fetchers";var sB=w.createContext(null);sB.displayName="Await";var pi=w.createContext(null);pi.displayName="Navigation";var Ch=w.createContext(null);Ch.displayName="Location";var Wa=w.createContext({outlet:null,matches:[],isDataRoute:!1});Wa.displayName="Route";var W1=w.createContext(null);W1.displayName="RouteError";var VD="REACT_ROUTER_ERROR",oB="REDIRECT",lB="ROUTE_ERROR_RESPONSE";function cB(t){if(t.startsWith(`${VD}:${oB}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function uB(t){if(t.startsWith(`${VD}:${lB}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new eB(e.status,e.statusText,e.data)}catch{}}function dB(t,{relative:e}={}){Zt(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(pi),{hash:i,pathname:s,search:l}=Oh(t,{relative:e}),u=s;return n!=="/"&&(u=s==="/"?n:Ps([n,s])),r.createHref({pathname:u,search:l,hash:i})}function cd(){return w.useContext(Ch)!=null}function Qs(){return Zt(cd(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ch).location}var UD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zD(t){w.useContext(pi).static||w.useLayoutEffect(t)}function qy(){let{isDataRoute:t}=w.useContext(Wa);return t?AB():fB()}function fB(){Zt(cd(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(ld),{basename:e,navigator:n}=w.useContext(pi),{matches:r}=w.useContext(Wa),{pathname:i}=Qs(),s=JSON.stringify(G1(r)),l=w.useRef(!1);return zD(()=>{l.current=!0}),w.useCallback((d,h={})=>{if(Vi(l.current,UD),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=Y1(d,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ps([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,i,t])}w.createContext(null);function Oh(t,{relative:e}={}){let{matches:n}=w.useContext(Wa),{pathname:r}=Qs(),i=JSON.stringify(G1(n));return w.useMemo(()=>Y1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function hB(t,e){return BD(t,e)}function BD(t,e,n,r,i){Zt(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(pi),{matches:l}=w.useContext(Wa),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";$D(h,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Qs(),_;if(e){let R=typeof e=="string"?od(e):e;Zt(p==="/"||R.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=b;let E=_.pathname||"/",A=E;if(p!=="/"){let R=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=OD(t,{pathname:A});Vi(g||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Vi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=vB(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:Ps([p,s.encodeLocation?s.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Ps([p,s.encodeLocation?s.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),l,n,r,i);return e&&j?w.createElement(Ch.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},j):j}function mB(){let t=EB(),e=tB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,l)}var pB=w.createElement(mB,null),FD=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=uB(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(Wa.Provider,{value:this.props.routeContext},w.createElement(W1.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(gB,{error:t},e):e}};FD.contextType=iB;var px=new WeakMap;function gB({children:t,error:e}){let{basename:n}=w.useContext(pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=cB(e.digest);if(r){let i=px.get(e);if(i)throw i;let s=DD(r.location,n);if(kD&&!px.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw px.set(e,l),l}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function yB({routeContext:t,match:e,children:n}){let r=w.useContext(ld);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Wa.Provider,{value:t},n)}function vB(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:b,errors:_}=n,E=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:nB(n.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,b)=>{let _,E=!1,A=null,S=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||pB,u&&(d<0&&b===0?($D("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):d===b&&(E=!0,S=g.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,b+1)),R=()=>{let P;return _?P=A:E?P=S:g.route.Component?P=w.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,w.createElement(yB,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?w.createElement(FD,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:R(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:h}):R()},null)}function X1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bB(t){let e=w.useContext(ld);return Zt(e,X1(t)),e}function xB(t){let e=w.useContext($y);return Zt(e,X1(t)),e}function _B(t){let e=w.useContext(Wa);return Zt(e,X1(t)),e}function Q1(t){let e=_B(t),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function wB(){return Q1("useRouteId")}function EB(){let t=w.useContext(W1),e=xB("useRouteError"),n=Q1("useRouteError");return t!==void 0?t:e.errors?.[n]}function AB(){let{router:t}=bB("useNavigate"),e=Q1("useNavigate"),n=w.useRef(!1);return zD(()=>{n.current=!0}),w.useCallback(async(i,s={})=>{Vi(n.current,UD),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Rj={};function $D(t,e,n){!e&&!Rj[t]&&(Rj[t]=!0,Vi(!1,n))}w.memo(SB);function SB({routes:t,future:e,state:n,onError:r}){return BD(t,void 0,n,r,e)}function TB({to:t,replace:e,state:n,relative:r}){Zt(cd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(pi);Vi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(Wa),{pathname:l}=Qs(),u=qy(),d=Y1(t,G1(s),l,r==="path"),h=JSON.stringify(d);return w.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function oi(t){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:l}){Zt(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:u,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[u,i,s,l]);typeof n=="string"&&(n=od(n));let{pathname:h="/",search:p="",hash:g="",state:b=null,key:_="default"}=n,E=w.useMemo(()=>{let A=Ls(h,u);return A==null?null:{location:{pathname:A,search:p,hash:g,state:b,key:_},navigationType:r}},[u,h,p,g,b,_,r]);return Vi(E!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(pi.Provider,{value:d},w.createElement(Ch.Provider,{children:e,value:E}))}function jB({children:t,location:e}){return hB(mw(t),e)}function mw(t,e=[]){let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,mw(r.props.children,s));return}Zt(r.type===oi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=mw(r.props.children,s)),n.push(l)}),n}var dg="get",fg="application/x-www-form-urlencoded";function Hy(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function CB(t){return Hy(t)&&t.tagName.toLowerCase()==="button"}function OB(t){return Hy(t)&&t.tagName.toLowerCase()==="form"}function IB(t){return Hy(t)&&t.tagName.toLowerCase()==="input"}function PB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RB(t,e){return t.button===0&&(!e||e==="_self")&&!PB(t)}var zp=null;function kB(){if(zp===null)try{new FormData(document.createElement("form"),0),zp=!1}catch{zp=!0}return zp}var DB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gx(t){return t!=null&&!DB.has(t)?(Vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fg}"`),null):t}function MB(t,e){let n,r,i,s,l;if(OB(t)){let u=t.getAttribute("action");r=u?Ls(u,e):null,n=t.getAttribute("method")||dg,i=gx(t.getAttribute("enctype"))||fg,s=new FormData(t)}else if(CB(t)||IB(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?Ls(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||dg,i=gx(t.getAttribute("formenctype"))||gx(u.getAttribute("enctype"))||fg,s=new FormData(u,t),!kB()){let{name:h,type:p,value:g}=t;if(p==="image"){let b=h?`${h}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else h&&s.append(h,g)}}else{if(Hy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dg,r=null,i=fg,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function J1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ls(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function VB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zB(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await VB(s,n);return l.links?l.links():[]}return[]}));return qB(r.flat(1).filter(UB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kj(t,e,n,r,i,s){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?e.filter((d,h)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function BB(t,e,{includeHydrateFallback:n}={}){return FB(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function FB(t){return[...new Set(t)]}function $B(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qB(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify($B(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function qD(){let t=w.useContext(ld);return J1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HB(){let t=w.useContext($y);return J1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Z1=w.createContext(void 0);Z1.displayName="FrameworkContext";function HD(){let t=w.useContext(Z1);return J1(t,"You must render this element inside a <HydratedRouter> element"),t}function KB(t,e){let n=w.useContext(Z1),[r,i]=w.useState(!1),[s,l]=w.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let A=j=>{j.forEach(R=>{l(R.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),w.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let _=()=>{i(!0)},E=()=>{i(!1),l(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:If(u,_),onBlur:If(d,E),onMouseEnter:If(h,_),onMouseLeave:If(p,E),onTouchStart:If(g,_)}]:[!1,b,{}]}function If(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function GB({page:t,...e}){let{router:n}=qD(),r=w.useMemo(()=>OD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(WB,{page:t,matches:r,...e}):null}function YB(t){let{manifest:e,routeModules:n}=HD(),[r,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return zB(t,e,n).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,n]),r}function WB({page:t,matches:e,...n}){let r=Qs(),{manifest:i,routeModules:s}=HD(),{basename:l}=qD(),{loaderData:u,matches:d}=HB(),h=w.useMemo(()=>kj(t,e,d,i,r,"data"),[t,e,d,i,r]),p=w.useMemo(()=>kj(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(j=>{let R=i.routes[j.route.id];!R||!R.hasLoader||(!h.some(P=>P.route.id===j.route.id)&&j.route.id in u&&s[j.route.id]?.shouldRevalidate||R.hasClientLoader?A=!0:E.add(j.route.id))}),E.size===0)return[];let S=LB(t,l,"data");return A&&E.size>0&&S.searchParams.set("_routes",e.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[l,u,r,i,h,e,t,s]),b=w.useMemo(()=>BB(p,i),[p,i]),_=YB(p);return w.createElement(w.Fragment,null,g.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),b.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:A})=>w.createElement("link",{key:E,nonce:n.nonce,...A})))}function XB(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QB&&(window.__reactRouterVersion="7.11.0")}catch{}function JB({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=w.useRef();i.current==null&&(i.current=Iz({window:r,v5Compat:!0}));let s=i.current,[l,u]=w.useState({action:s.action,location:s.location}),d=w.useCallback(h=>{n===!1?u(h):w.startTransition(()=>u(h))},[n]);return w.useLayoutEffect(()=>s.listen(d),[s,d]),w.createElement(NB,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var KD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b,..._},E){let{basename:A,unstable_useTransitions:S}=w.useContext(pi),j=typeof h=="string"&&KD.test(h),R=DD(h,A);h=R.to;let P=dB(h,{relative:i}),[U,V,$]=KB(r,_),O=n8(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:b,unstable_useTransitions:S});function I(z){e&&e(z),z.defaultPrevented||O(z)}let D=w.createElement("a",{..._,...$,href:R.absoluteURL||P,onClick:R.isExternal||s?e:I,ref:XB(E,V),target:d,"data-discover":!j&&n==="render"?"true":void 0});return U&&!j?w.createElement(w.Fragment,null,D,w.createElement(GB,{page:P})):D});On.displayName="Link";var ZB=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},p){let g=Oh(l,{relative:h.relative}),b=Qs(),_=w.useContext($y),{navigator:E,basename:A}=w.useContext(pi),S=_!=null&&o8(g)&&u===!0,j=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,R=b.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(R=R.toLowerCase(),P=P?P.toLowerCase():null,j=j.toLowerCase()),P&&A&&(P=Ls(P,A)||P);const U=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let V=R===j||!i&&R.startsWith(j)&&R.charAt(U)==="/",$=P!=null&&(P===j||!i&&P.startsWith(j)&&P.charAt(j.length)==="/"),O={isActive:V,isPending:$,isTransitioning:S},I=V?e:void 0,D;typeof r=="function"?D=r(O):D=[r,V?"active":null,$?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(O):s;return w.createElement(On,{...h,"aria-current":I,className:D,ref:p,style:z,to:l,viewTransition:u},typeof d=="function"?d(O):d)});ZB.displayName="NavLink";var e8=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:l=dg,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b,..._},E)=>{let{unstable_useTransitions:A}=w.useContext(pi),S=a8(),j=s8(u,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&KD.test(u),U=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,O=$?.getAttribute("formmethod")||l,I=()=>S($||V.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:b});A&&n!==!1?w.startTransition(()=>I()):I()};return w.createElement("form",{ref:E,method:R,action:j,onSubmit:r?d:U,..._,"data-discover":!P&&t==="render"?"true":void 0})});e8.displayName="Form";function t8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GD(t){let e=w.useContext(ld);return Zt(e,t8(t)),e}function n8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let h=qy(),p=Qs(),g=Oh(t,{relative:s});return w.useCallback(b=>{if(RB(b,e)){b.preventDefault();let _=n!==void 0?n:eh(p)===eh(g),E=()=>h(t,{replace:_,state:r,preventScrollReset:i,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u});d?w.startTransition(()=>E()):E()}},[p,h,g,n,r,e,t,i,s,l,u,d])}var r8=0,i8=()=>`__${String(++r8)}__`;function a8(){let{router:t}=GD("useSubmit"),{basename:e}=w.useContext(pi),n=wB(),r=t.fetch,i=t.navigate;return w.useCallback(async(s,l={})=>{let{action:u,method:d,encType:h,formData:p,body:g}=MB(s,e);if(l.navigate===!1){let b=l.fetcherKey||i8();await r(b,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function s8(t,{relative:e}={}){let{basename:n}=w.useContext(pi),r=w.useContext(Wa);Zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Oh(t||".",{relative:e})},l=Qs();if(t==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ps([n,s.pathname])),eh(s)}function o8(t,{relative:e}={}){let n=w.useContext(LD);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GD("useViewTransitionState"),i=Oh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jg(i.pathname,l)!=null||jg(i.pathname,s)!=null}var Ky=CD();const l8=()=>{};var Dj={};const YD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},WD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|h>>6,_=h&63;d||(_=64,l||(b=64)),r.push(n[p],n[g],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new u8;const b=s<<2|u>>4;if(r.push(b),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d8=function(t){const e=YD(t);return WD.encodeByteArray(e,!0)},Cg=function(t){return d8(t).replace(/\./g,"")},XD=function(t){try{return WD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h8=()=>f8().__FIREBASE_DEFAULTS__,m8=()=>{if(typeof process>"u"||typeof Dj>"u")return;const t=Dj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XD(t[1]);return e&&JSON.parse(e)},Gy=()=>{try{return l8()||h8()||m8()||p8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QD=t=>Gy()?.emulatorHosts?.[t],JD=t=>{const e=QD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZD=()=>Gy()?.config,eM=t=>Gy()?.[`_${t}`];class g8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function kc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(t){return(await fetch(t,{credentials:"include"})).ok}function tM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cg(JSON.stringify(n)),Cg(JSON.stringify(l)),""].join(".")}const Hf={};function y8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hf))Hf[e]?t.emulator.push(e):t.prod.push(e);return t}function v8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mj=!1;function tE(t,e){if(typeof window>"u"||typeof document>"u"||!kc(window.location.host)||Hf[t]===e||Hf[t]||Mj)return;Hf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=y8().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Mj=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=v8(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),j=n("preprendIcon"),R=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const P=b.element;u(P),p(S,A);const U=h();d(R,j),P.append(R,E,S,U),document.body.appendChild(P)}s?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())}function x8(){const t=Gy()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A8(){const t=Nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function S8(){return!x8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T8(){try{return typeof indexedDB=="object"}catch{return!1}}function N8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const j8="FirebaseError";class Xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j8,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?C8(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Xa(i,u,r)}}function C8(t,e){return t.replace(O8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const O8=/\{\$([^}]+)}/g;function I8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(Lj(s)&&Lj(l)){if(!vc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lj(t){return t!==null&&typeof t=="object"}function Ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function P8(t,e){const n=new R8(t,e);return n.subscribe.bind(n)}class R8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");k8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yx),i.error===void 0&&(i.error=yx),i.complete===void 0&&(i.complete=yx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yx(){}function ir(t){return t&&t._delegate?t._delegate:t}class rl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tc="[DEFAULT]";let D8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L8(e))try{this.getOrInitializeService({instanceIdentifier:tc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=tc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tc){return this.instances.has(e)}getOptions(e=tc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:M8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tc){return this.component?this.component.multipleInstances?e:tc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function M8(t){return t===tc?void 0:t}function L8(t){return t.instantiationMode==="EAGER"}class V8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const U8={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},z8=ot.INFO,B8={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},F8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=B8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nE{constructor(e){this.name=e,this._logLevel=z8,this._logHandler=F8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const $8=(t,e)=>e.some(n=>t instanceof n);let Vj,Uj;function q8(){return Vj||(Vj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H8(){return Uj||(Uj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nM=new WeakMap,pw=new WeakMap,rM=new WeakMap,vx=new WeakMap,rE=new WeakMap;function K8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Qo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&nM.set(n,t)}).catch(()=>{}),rE.set(e,t),e}function G8(t){if(pw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});pw.set(t,e)}let gw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y8(t){gw=t(gw)}function W8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bx(this),e,...n);return rM.set(r,e.sort?e.sort():[e]),Qo(r)}:H8().includes(t)?function(...e){return t.apply(bx(this),e),Qo(nM.get(this))}:function(...e){return Qo(t.apply(bx(this),e))}}function X8(t){return typeof t=="function"?W8(t):(t instanceof IDBTransaction&&G8(t),$8(t,q8())?new Proxy(t,gw):t)}function Qo(t){if(t instanceof IDBRequest)return K8(t);if(vx.has(t))return vx.get(t);const e=X8(t);return e!==t&&(vx.set(t,e),rE.set(e,t)),e}const bx=t=>rE.get(t);function Q8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Qo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Qo(l.result),d.oldVersion,d.newVersion,Qo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const J8=["get","getKey","getAll","getAllKeys","count"],Z8=["put","add","delete","clear"],xx=new Map;function zj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xx.get(e))return xx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Z8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J8.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return xx.set(e,s),s}Y8(t=>({...t,get:(e,n,r)=>zj(e,n)||t.get(e,n,r),has:(e,n)=>!!zj(e,n)||t.has(e,n)}));class eF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tF(t){return t.getComponent()?.type==="VERSION"}const yw="@firebase/app",Bj="0.14.6";const Vs=new nE("@firebase/app"),nF="@firebase/app-compat",rF="@firebase/analytics-compat",iF="@firebase/analytics",aF="@firebase/app-check-compat",sF="@firebase/app-check",oF="@firebase/auth",lF="@firebase/auth-compat",cF="@firebase/database",uF="@firebase/data-connect",dF="@firebase/database-compat",fF="@firebase/functions",hF="@firebase/functions-compat",mF="@firebase/installations",pF="@firebase/installations-compat",gF="@firebase/messaging",yF="@firebase/messaging-compat",vF="@firebase/performance",bF="@firebase/performance-compat",xF="@firebase/remote-config",_F="@firebase/remote-config-compat",wF="@firebase/storage",EF="@firebase/storage-compat",AF="@firebase/firestore",SF="@firebase/ai",TF="@firebase/firestore-compat",NF="firebase",jF="12.6.0";const vw="[DEFAULT]",CF={[yw]:"fire-core",[nF]:"fire-core-compat",[iF]:"fire-analytics",[rF]:"fire-analytics-compat",[sF]:"fire-app-check",[aF]:"fire-app-check-compat",[oF]:"fire-auth",[lF]:"fire-auth-compat",[cF]:"fire-rtdb",[uF]:"fire-data-connect",[dF]:"fire-rtdb-compat",[fF]:"fire-fn",[hF]:"fire-fn-compat",[mF]:"fire-iid",[pF]:"fire-iid-compat",[gF]:"fire-fcm",[yF]:"fire-fcm-compat",[vF]:"fire-perf",[bF]:"fire-perf-compat",[xF]:"fire-rc",[_F]:"fire-rc-compat",[wF]:"fire-gcs",[EF]:"fire-gcs-compat",[AF]:"fire-fst",[TF]:"fire-fst-compat",[SF]:"fire-vertex","fire-js":"fire-js",[NF]:"fire-js-all"};const Og=new Map,OF=new Map,bw=new Map;function Fj(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bc(t){const e=t.name;if(bw.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;bw.set(e,t);for(const n of Og.values())Fj(n,t);for(const n of OF.values())Fj(n,t);return!0}function Yy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Di(t){return t==null?!1:t.settings!==void 0}const IF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Ih("app","Firebase",IF);class PF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}const Dc=jF;function iM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=ZD()),!n)throw Jo.create("no-options");const s=Og.get(i);if(s){if(vc(n,s.options)&&vc(r,s.config))return s;throw Jo.create("duplicate-app",{appName:i})}const l=new V8(i);for(const d of bw.values())l.addComponent(d);const u=new PF(n,r,l);return Og.set(i,u),u}function iE(t=vw){const e=Og.get(t);if(!e&&t===vw&&ZD())return iM();if(!e)throw Jo.create("no-app",{appName:t});return e}function Ma(t,e,n){let r=CF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(l.join(" "));return}bc(new rl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const RF="firebase-heartbeat-database",kF=1,th="firebase-heartbeat-store";let _x=null;function aM(){return _x||(_x=Q8(RF,kF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(th)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),_x}async function DF(t){try{const n=(await aM()).transaction(th),r=await n.objectStore(th).get(sM(t));return await n.done,r}catch(e){if(e instanceof Xa)Vs.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function $j(t,e){try{const r=(await aM()).transaction(th,"readwrite");await r.objectStore(th).put(e,sM(t)),await r.done}catch(n){if(n instanceof Xa)Vs.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(r.message)}}}function sM(t){return`${t.name}!${t.options.appId}`}const MF=1024,LF=30;class VF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>LF){const i=BF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qj(),{heartbeatsToSend:n,unsentEntries:r}=UF(this._heartbeatsCache.heartbeats),i=Cg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Vs.warn(e),""}}}function qj(){return new Date().toISOString().substring(0,10)}function UF(t,e=MF){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),Hj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T8()?N8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $j(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $j(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hj(t){return Cg(JSON.stringify({version:2,heartbeats:t})).length}function BF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function FF(t){bc(new rl("platform-logger",e=>new eF(e),"PRIVATE")),bc(new rl("heartbeat",e=>new VF(e),"PRIVATE")),Ma(yw,Bj,t),Ma(yw,Bj,"esm2020"),Ma("fire-js","")}FF("");function oM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $F=oM,lM=new Ih("auth","Firebase",oM());const Ig=new nE("@firebase/auth");function qF(t,...e){Ig.logLevel<=ot.WARN&&Ig.warn(`Auth (${Dc}): ${t}`,...e)}function hg(t,...e){Ig.logLevel<=ot.ERROR&&Ig.error(`Auth (${Dc}): ${t}`,...e)}function Ba(t,...e){throw sE(t,...e)}function oa(t,...e){return sE(t,...e)}function aE(t,e,n){const r={...$F(),[e]:n};return new Ih("auth","Firebase",r).create(e,{appName:t.name})}function fc(t){return aE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ba(t,"argument-error"),aE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lM.create(t,...e)}function Ge(t,e,...n){if(!t)throw sE(e,...n)}function js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hg(e),new Error(e)}function Us(t,e){t||js(e)}function xw(){return typeof self<"u"&&self.location?.href||""}function KF(){return Kj()==="http:"||Kj()==="https:"}function Kj(){return typeof self<"u"&&self.location?.protocol||null}function GF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KF()||w8()||"connection"in navigator)?navigator.onLine:!0}function YF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Rh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=b8()||E8()}get(){return GF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oE(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QF=new Rh(3e4,6e4);function lE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ud(t,e,n,r,i={}){return uM(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Ph({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...s};return _8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&kc(t.emulatorConfig.host)&&(h.credentials="include"),cM.fetch()(await dM(t,t.config.apiHost,n,u),h)})}async function uM(t,e,n){t._canInitEmulator=!1;const r={...WF,...e};try{const i=new ZF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Bp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Bp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Bp(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw aE(t,p,h);Ba(t,p)}}catch(i){if(i instanceof Xa)throw i;Ba(t,"network-request-failed",{message:String(i)})}}async function JF(t,e,n,r,i={}){const s=await ud(t,e,n,r,i);return"mfaPendingCredential"in s&&Ba(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function dM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?oE(t.config,i):`${t.config.apiScheme}://${i}`;return XF.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class ZF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oa(this.auth,"network-request-failed")),QF.get())})}}function Bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oa(t,e,r);return i.customData._tokenResponse=n,i}async function e7(t,e){return ud(t,"POST","/v1/accounts:delete",e)}async function Pg(t,e){return ud(t,"POST","/v1/accounts:lookup",e)}function Kf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t7(t,e=!1){const n=ir(t),r=await n.getIdToken(e),i=cE(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Kf(wx(i.auth_time)),issuedAtTime:Kf(wx(i.iat)),expirationTime:Kf(wx(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function wx(t){return Number(t)*1e3}function cE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hg("JWT malformed, contained fewer than 3 sections"),null;try{const i=XD(n);return i?JSON.parse(i):(hg("Failed to decode base64 JWT payload"),null)}catch(i){return hg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Gj(t){const e=cE(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xa&&n7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class r7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _w{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kf(this.lastLoginAt),this.creationTime=Kf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rg(t){const e=t.auth,n=await t.getIdToken(),r=await nh(t,Pg(e,{idToken:n}));Ge(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?fM(i.providerUserInfo):[],l=a7(t.providerData,s),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,h=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new _w(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function i7(t){const e=ir(t);await Rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function s7(t,e){const n=await uM(t,{},async()=>{const r=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await dM(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&kc(t.emulatorConfig.host)&&(d.credentials="include"),cM.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o7(t,e){return ud(t,"POST","/v2/accounts:revokeToken",lE(t,e))}class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=Gj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await s7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new zu;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ge(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return js("not implemented")}}function Uo(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class aa{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new r7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _w(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nh(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t7(this,e)}reload(){return i7(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new aa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(fc(this.auth));const e=await this.getIdToken();return await nh(this,e7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:_,providerData:E,stsTokenManager:A}=n;Ge(g&&A,e,"internal-error");const S=zu.fromJSON(this.name,A);Ge(typeof g=="string",e,"internal-error"),Uo(r,e.name),Uo(i,e.name),Ge(typeof b=="boolean",e,"internal-error"),Ge(typeof _=="boolean",e,"internal-error"),Uo(s,e.name),Uo(l,e.name),Uo(u,e.name),Uo(d,e.name),Uo(h,e.name),Uo(p,e.name);const j=new aa({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:S,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(j.providerData=E.map(R=>({...R}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new zu;i.updateFromServerResponse(n);const s=new aa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Rg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new zu;u.updateFromIdToken(r);const d=new aa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _w(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,h),d}}const Yj=new Map;function Cs(t){Us(t instanceof Function,"Expected a class definition");let e=Yj.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yj.set(t,e),e)}class hM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hM.type="NONE";const Wj=hM;function mg(t,e,n){return`firebase:${t}:${e}:${n}`}class Bu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mg(this.userKey,i.apiKey,s),this.fullPersistenceKey=mg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pg(this.auth,{idToken:e}).catch(()=>{});return n?aa._fromGetAccountInfoResponse(this.auth,n,e):null}return aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bu(Cs(Wj),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Cs(Wj);const l=mg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const b=await Pg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await aa._fromGetAccountInfoResponse(e,b,p)}else g=aa._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Bu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Bu(s,e,r))}}function Xj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bM(e))return"Blackberry";if(xM(e))return"Webos";if(pM(e))return"Safari";if((e.includes("chrome/")||gM(e))&&!e.includes("edge/"))return"Chrome";if(vM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mM(t=Nr()){return/firefox\//i.test(t)}function pM(t=Nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gM(t=Nr()){return/crios\//i.test(t)}function yM(t=Nr()){return/iemobile/i.test(t)}function vM(t=Nr()){return/android/i.test(t)}function bM(t=Nr()){return/blackberry/i.test(t)}function xM(t=Nr()){return/webos/i.test(t)}function uE(t=Nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l7(t=Nr()){return uE(t)&&!!window.navigator?.standalone}function c7(){return A8()&&document.documentMode===10}function _M(t=Nr()){return uE(t)||vM(t)||xM(t)||bM(t)||/windows phone/i.test(t)||yM(t)}function wM(t,e=[]){let n;switch(t){case"Browser":n=Xj(Nr());break;case"Worker":n=`${Xj(Nr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dc}/${r}`}class u7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function d7(t,e={}){return ud(t,"GET","/v2/passwordPolicy",lE(t,e))}const f7=6;class h7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??f7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class m7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qj(this),this.idTokenSubscription=new Qj(this),this.beforeStateQueue=new u7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pg(this,{idToken:e}),r=await aa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Di(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Di(this.app))return Promise.reject(fc(this));const n=e?ir(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(fc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Di(this.app)?Promise.reject(fc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d7(this),n=new h7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await o7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Bu.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qF(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wy(t){return ir(t)}class Qj{constructor(e){this.auth=e,this.observer=null,this.addObserver=P8(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p7(t){dE=t}function g7(t){return dE.loadJS(t)}function y7(){return dE.gapiScript}function v7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function b7(t,e){const n=Yy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(vc(s,e??{}))return i;Ba(i,"already-initialized")}return n.initialize({options:e})}function x7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Cs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _7(t,e,n){const r=Wy(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=EM(e),{host:l,port:u}=w7(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(vc(h,r.config.emulator)&&vc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,kc(l)?(eE(`${s}//${l}${d}`),tE("Auth",!0)):E7()}function EM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w7(t){const e=EM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Jj(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:Jj(l)}}}function Jj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class AM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,n){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function Fu(t,e){return JF(t,"POST","/v1/accounts:signInWithIdp",lE(t,e))}const A7="http://localhost";class xc extends AM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ba("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new xc(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Fu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fu(e,n)}buildRequest(){const e={requestUri:A7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ph(n)}return e}}class fE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kh extends fE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ho extends kh{constructor(){super("facebook.com")}static credential(e){return xc._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ho.PROVIDER_ID="facebook.com";class Ss extends kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xc._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";class Ko extends kh{constructor(){super("github.com")}static credential(e){return xc._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ko.credential(e.oauthAccessToken)}catch{return null}}}Ko.GITHUB_SIGN_IN_METHOD="github.com";Ko.PROVIDER_ID="github.com";class Go extends kh{constructor(){super("twitter.com")}static credential(e,n){return xc._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.TWITTER_SIGN_IN_METHOD="twitter.com";Go.PROVIDER_ID="twitter.com";class Gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await aa._fromIdTokenResponse(e,r,i),l=Zj(r);return new Gu({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Zj(r);return new Gu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Zj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class kg extends Xa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kg(e,n,r,i)}}function SM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kg._fromErrorAndOperation(t,s,e,r):s})}async function S7(t,e,n=!1){const r=await nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gu._forOperation(t,"link",r)}async function T7(t,e,n=!1){const{auth:r}=t;if(Di(r.app))return Promise.reject(fc(r));const i="reauthenticate";try{const s=await nh(t,SM(r,i,e,t),n);Ge(s.idToken,r,"internal-error");const l=cE(s.idToken);Ge(l,r,"internal-error");const{sub:u}=l;return Ge(t.uid===u,r,"user-mismatch"),Gu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ba(r,"user-mismatch"),s}}async function N7(t,e,n=!1){if(Di(t.app))return Promise.reject(fc(t));const r="signIn",i=await SM(t,r,e),s=await Gu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function j7(t,e,n,r){return ir(t).onIdTokenChanged(e,n,r)}function C7(t,e,n){return ir(t).beforeAuthStateChanged(e,n)}function O7(t,e,n,r){return ir(t).onAuthStateChanged(e,n,r)}function I7(t){return ir(t).signOut()}const Dg="__sak";class TM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dg,"1"),this.storage.removeItem(Dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P7=1e3,R7=10;class NM extends TM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_M(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);c7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NM.type="LOCAL";const k7=NM;class jM extends TM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jM.type="SESSION";const CM=jM;function D7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,s)),d=await D7(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xy.receivers=[];function hE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class M7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=hE("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function La(){return window}function L7(t){La().location.href=t}function OM(){return typeof La().WorkerGlobalScope<"u"&&typeof La().importScripts=="function"}async function V7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U7(){return navigator?.serviceWorker?.controller||null}function z7(){return OM()?self:null}const IM="firebaseLocalStorageDb",B7=1,Mg="firebaseLocalStorage",PM="fbase_key";class Dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qy(t,e){return t.transaction([Mg],e?"readwrite":"readonly").objectStore(Mg)}function F7(){const t=indexedDB.deleteDatabase(IM);return new Dh(t).toPromise()}function ww(){const t=indexedDB.open(IM,B7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mg,{keyPath:PM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mg)?e(r):(r.close(),await F7(),e(await ww()))})})}async function eC(t,e,n){const r=Qy(t,!0).put({[PM]:e,value:n});return new Dh(r).toPromise()}async function $7(t,e){const n=Qy(t,!1).get(e),r=await new Dh(n).toPromise();return r===void 0?null:r.value}function tC(t,e){const n=Qy(t,!0).delete(e);return new Dh(n).toPromise()}const q7=800,H7=3;class RM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ww(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xy._getInstance(z7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await V7(),!this.activeServiceWorker)return;this.sender=new M7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ww();return await eC(e,Dg,"1"),await tC(e,Dg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qy(i,!1).getAll();return new Dh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RM.type="LOCAL";const K7=RM;new Rh(3e4,6e4);function kM(t,e){return e?Cs(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class mE extends AM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G7(t){return N7(t.auth,new mE(t),t.bypassAuthState)}function Y7(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),T7(n,new mE(t),t.bypassAuthState)}async function W7(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),S7(n,new mE(t),t.bypassAuthState)}class DM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G7;case"linkViaPopup":case"linkViaRedirect":return W7;case"reauthViaPopup":case"reauthViaRedirect":return Y7;default:Ba(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X7=new Rh(2e3,1e4);async function Q7(t,e,n){if(Di(t.app))return Promise.reject(oa(t,"operation-not-supported-in-this-environment"));const r=Wy(t);HF(t,e,fE);const i=kM(r,n);return new sc(r,"signInViaPopup",e,i).executeNotNull()}class sc extends DM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,sc.currentPopupAction&&sc.currentPopupAction.cancel(),sc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=hE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X7.get())};e()}}sc.currentPopupAction=null;const J7="pendingRedirect",pg=new Map;class Z7 extends DM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pg.get(this.auth._key());if(!e){try{const r=await e$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pg.set(this.auth._key(),e)}return this.bypassAuthState||pg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e$(t,e){const n=r$(e),r=n$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function t$(t,e){pg.set(t._key(),e)}function n$(t){return Cs(t._redirectPersistence)}function r$(t){return mg(J7,t.config.apiKey,t.name)}async function i$(t,e,n=!1){if(Di(t.app))return Promise.reject(fc(t));const r=Wy(t),i=kM(r,e),l=await new Z7(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const a$=600*1e3;class s${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!MM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(oa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a$&&this.cachedEventUids.clear(),this.cachedEventUids.has(nC(e))}saveEventToCache(e){this.cachedEventUids.add(nC(e)),this.lastProcessedEventTime=Date.now()}}function nC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function o$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MM(t);default:return!1}}async function l$(t,e={}){return ud(t,"GET","/v1/projects",e)}const c$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u$=/^https?/;async function d$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l$(t);for(const n of e)try{if(f$(n))return}catch{}Ba(t,"unauthorized-domain")}function f$(t){const e=xw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!u$.test(n))return!1;if(c$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const h$=new Rh(3e4,6e4);function rC(){const t=La().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m$(t){return new Promise((e,n)=>{function r(){rC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rC(),n(oa(t,"network-request-failed"))},timeout:h$.get()})}if(La().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(La().gapi?.load)r();else{const i=v7("iframefcb");return La()[i]=()=>{gapi.load?r():n(oa(t,"network-request-failed"))},g7(`${y7()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw gg=null,e})}let gg=null;function p$(t){return gg=gg||m$(t),gg}const g$=new Rh(5e3,15e3),y$="__/auth/iframe",v$="emulator/auth/iframe",b$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _$(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oE(e,v$):`https://${t.config.authDomain}/${y$}`,r={apiKey:e.apiKey,appName:t.name,v:Dc},i=x$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ph(r).slice(1)}`}async function w$(t){const e=await p$(t),n=La().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:_$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=oa(t,"network-request-failed"),u=La().setTimeout(()=>{s(l)},g$.get());function d(){La().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const E$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A$=500,S$=600,T$="_blank",N$="http://localhost";class iC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j$(t,e,n,r=A$,i=S$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...E$,width:r.toString(),height:i.toString(),top:s,left:l},h=Nr().toLowerCase();n&&(u=gM(h)?T$:n),mM(h)&&(e=e||N$,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[_,E])=>`${b}${_}=${E},`,"");if(l7(h)&&u!=="_self")return C$(e||"",u),new iC(null);const g=window.open(e||"",u,p);Ge(g,t,"popup-blocked");try{g.focus()}catch{}return new iC(g)}function C$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const O$="__/auth/handler",I$="emulator/auth/handler",P$=encodeURIComponent("fac");async function aC(t,e,n,r,i,s){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dc,eventId:i};if(e instanceof fE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",I8(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof kh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${P$}=${encodeURIComponent(d)}`:"";return`${R$(t)}?${Ph(u).slice(1)}${h}`}function R$({config:t}){return t.emulator?oE(t,I$):`https://${t.authDomain}/${O$}`}const Ex="webStorageSupport";class k${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CM,this._completeRedirectFn=i$,this._overrideRedirectResult=t$}async _openPopup(e,n,r,i){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await aC(e,n,r,xw(),i);return j$(e,s,hE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await aC(e,n,r,xw(),i);return L7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w$(e),r=new s$(e);return n.register("authEvent",i=>(Ge(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ex,{type:Ex},i=>{const s=i?.[0]?.[Ex];s!==void 0&&n(!!s),Ba(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _M()||pM()||uE()}}const D$=k$;var sC="@firebase/auth",oC="1.12.0";class M${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function L$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V$(t){bc(new rl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ge(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wM(t)},h=new m7(r,i,s,d);return x7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bc(new rl("auth-internal",e=>{const n=Wy(e.getProvider("auth").getImmediate());return(r=>new M$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(sC,oC,L$(t)),Ma(sC,oC,"esm2020")}const U$=300,z$=eM("authIdTokenMaxAge")||U$;let lC=null;const B$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z$)return;const i=n?.token;lC!==i&&(lC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function F$(t=iE()){const e=Yy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b7(t,{popupRedirectResolver:D$,persistence:[K7,k7,CM]}),r=eM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=B$(s.toString());C7(n,l,()=>l(n.currentUser)),j7(n,u=>l(u))}}const i=QD("auth");return i&&_7(n,`http://${i}`),n}function $$(){return document.getElementsByTagName("head")?.[0]??document}p7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=oa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V$("Browser");var q$="firebase",H$="12.7.0";Ma(q$,H$,"app");var cC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zo,LM;(function(){var t;function e(O,I){function D(){}D.prototype=I.prototype,O.F=I.prototype,O.prototype=new D,O.prototype.constructor=O,O.D=function(z,M,B){for(var k=Array(arguments.length-2),he=2;he<arguments.length;he++)k[he-2]=arguments[he];return I.prototype[M].apply(z,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,I,D){D||(D=0);const z=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)z[M]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(M=0;M<16;++M)z[M]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=O.g[0],D=O.g[1],M=O.g[2];let B=O.g[3],k;k=I+(B^D&(M^B))+z[0]+3614090360&4294967295,I=D+(k<<7&4294967295|k>>>25),k=B+(M^I&(D^M))+z[1]+3905402710&4294967295,B=I+(k<<12&4294967295|k>>>20),k=M+(D^B&(I^D))+z[2]+606105819&4294967295,M=B+(k<<17&4294967295|k>>>15),k=D+(I^M&(B^I))+z[3]+3250441966&4294967295,D=M+(k<<22&4294967295|k>>>10),k=I+(B^D&(M^B))+z[4]+4118548399&4294967295,I=D+(k<<7&4294967295|k>>>25),k=B+(M^I&(D^M))+z[5]+1200080426&4294967295,B=I+(k<<12&4294967295|k>>>20),k=M+(D^B&(I^D))+z[6]+2821735955&4294967295,M=B+(k<<17&4294967295|k>>>15),k=D+(I^M&(B^I))+z[7]+4249261313&4294967295,D=M+(k<<22&4294967295|k>>>10),k=I+(B^D&(M^B))+z[8]+1770035416&4294967295,I=D+(k<<7&4294967295|k>>>25),k=B+(M^I&(D^M))+z[9]+2336552879&4294967295,B=I+(k<<12&4294967295|k>>>20),k=M+(D^B&(I^D))+z[10]+4294925233&4294967295,M=B+(k<<17&4294967295|k>>>15),k=D+(I^M&(B^I))+z[11]+2304563134&4294967295,D=M+(k<<22&4294967295|k>>>10),k=I+(B^D&(M^B))+z[12]+1804603682&4294967295,I=D+(k<<7&4294967295|k>>>25),k=B+(M^I&(D^M))+z[13]+4254626195&4294967295,B=I+(k<<12&4294967295|k>>>20),k=M+(D^B&(I^D))+z[14]+2792965006&4294967295,M=B+(k<<17&4294967295|k>>>15),k=D+(I^M&(B^I))+z[15]+1236535329&4294967295,D=M+(k<<22&4294967295|k>>>10),k=I+(M^B&(D^M))+z[1]+4129170786&4294967295,I=D+(k<<5&4294967295|k>>>27),k=B+(D^M&(I^D))+z[6]+3225465664&4294967295,B=I+(k<<9&4294967295|k>>>23),k=M+(I^D&(B^I))+z[11]+643717713&4294967295,M=B+(k<<14&4294967295|k>>>18),k=D+(B^I&(M^B))+z[0]+3921069994&4294967295,D=M+(k<<20&4294967295|k>>>12),k=I+(M^B&(D^M))+z[5]+3593408605&4294967295,I=D+(k<<5&4294967295|k>>>27),k=B+(D^M&(I^D))+z[10]+38016083&4294967295,B=I+(k<<9&4294967295|k>>>23),k=M+(I^D&(B^I))+z[15]+3634488961&4294967295,M=B+(k<<14&4294967295|k>>>18),k=D+(B^I&(M^B))+z[4]+3889429448&4294967295,D=M+(k<<20&4294967295|k>>>12),k=I+(M^B&(D^M))+z[9]+568446438&4294967295,I=D+(k<<5&4294967295|k>>>27),k=B+(D^M&(I^D))+z[14]+3275163606&4294967295,B=I+(k<<9&4294967295|k>>>23),k=M+(I^D&(B^I))+z[3]+4107603335&4294967295,M=B+(k<<14&4294967295|k>>>18),k=D+(B^I&(M^B))+z[8]+1163531501&4294967295,D=M+(k<<20&4294967295|k>>>12),k=I+(M^B&(D^M))+z[13]+2850285829&4294967295,I=D+(k<<5&4294967295|k>>>27),k=B+(D^M&(I^D))+z[2]+4243563512&4294967295,B=I+(k<<9&4294967295|k>>>23),k=M+(I^D&(B^I))+z[7]+1735328473&4294967295,M=B+(k<<14&4294967295|k>>>18),k=D+(B^I&(M^B))+z[12]+2368359562&4294967295,D=M+(k<<20&4294967295|k>>>12),k=I+(D^M^B)+z[5]+4294588738&4294967295,I=D+(k<<4&4294967295|k>>>28),k=B+(I^D^M)+z[8]+2272392833&4294967295,B=I+(k<<11&4294967295|k>>>21),k=M+(B^I^D)+z[11]+1839030562&4294967295,M=B+(k<<16&4294967295|k>>>16),k=D+(M^B^I)+z[14]+4259657740&4294967295,D=M+(k<<23&4294967295|k>>>9),k=I+(D^M^B)+z[1]+2763975236&4294967295,I=D+(k<<4&4294967295|k>>>28),k=B+(I^D^M)+z[4]+1272893353&4294967295,B=I+(k<<11&4294967295|k>>>21),k=M+(B^I^D)+z[7]+4139469664&4294967295,M=B+(k<<16&4294967295|k>>>16),k=D+(M^B^I)+z[10]+3200236656&4294967295,D=M+(k<<23&4294967295|k>>>9),k=I+(D^M^B)+z[13]+681279174&4294967295,I=D+(k<<4&4294967295|k>>>28),k=B+(I^D^M)+z[0]+3936430074&4294967295,B=I+(k<<11&4294967295|k>>>21),k=M+(B^I^D)+z[3]+3572445317&4294967295,M=B+(k<<16&4294967295|k>>>16),k=D+(M^B^I)+z[6]+76029189&4294967295,D=M+(k<<23&4294967295|k>>>9),k=I+(D^M^B)+z[9]+3654602809&4294967295,I=D+(k<<4&4294967295|k>>>28),k=B+(I^D^M)+z[12]+3873151461&4294967295,B=I+(k<<11&4294967295|k>>>21),k=M+(B^I^D)+z[15]+530742520&4294967295,M=B+(k<<16&4294967295|k>>>16),k=D+(M^B^I)+z[2]+3299628645&4294967295,D=M+(k<<23&4294967295|k>>>9),k=I+(M^(D|~B))+z[0]+4096336452&4294967295,I=D+(k<<6&4294967295|k>>>26),k=B+(D^(I|~M))+z[7]+1126891415&4294967295,B=I+(k<<10&4294967295|k>>>22),k=M+(I^(B|~D))+z[14]+2878612391&4294967295,M=B+(k<<15&4294967295|k>>>17),k=D+(B^(M|~I))+z[5]+4237533241&4294967295,D=M+(k<<21&4294967295|k>>>11),k=I+(M^(D|~B))+z[12]+1700485571&4294967295,I=D+(k<<6&4294967295|k>>>26),k=B+(D^(I|~M))+z[3]+2399980690&4294967295,B=I+(k<<10&4294967295|k>>>22),k=M+(I^(B|~D))+z[10]+4293915773&4294967295,M=B+(k<<15&4294967295|k>>>17),k=D+(B^(M|~I))+z[1]+2240044497&4294967295,D=M+(k<<21&4294967295|k>>>11),k=I+(M^(D|~B))+z[8]+1873313359&4294967295,I=D+(k<<6&4294967295|k>>>26),k=B+(D^(I|~M))+z[15]+4264355552&4294967295,B=I+(k<<10&4294967295|k>>>22),k=M+(I^(B|~D))+z[6]+2734768916&4294967295,M=B+(k<<15&4294967295|k>>>17),k=D+(B^(M|~I))+z[13]+1309151649&4294967295,D=M+(k<<21&4294967295|k>>>11),k=I+(M^(D|~B))+z[4]+4149444226&4294967295,I=D+(k<<6&4294967295|k>>>26),k=B+(D^(I|~M))+z[11]+3174756917&4294967295,B=I+(k<<10&4294967295|k>>>22),k=M+(I^(B|~D))+z[2]+718787259&4294967295,M=B+(k<<15&4294967295|k>>>17),k=D+(B^(M|~I))+z[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.v=function(O,I){I===void 0&&(I=O.length);const D=I-this.blockSize,z=this.C;let M=this.h,B=0;for(;B<I;){if(M==0)for(;B<=D;)i(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<I;)if(z[M++]=O.charCodeAt(B++),M==this.blockSize){i(this,z),M=0;break}}else for(;B<I;)if(z[M++]=O[B++],M==this.blockSize){i(this,z),M=0;break}}this.h=M,this.o+=I},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;I=this.o*8;for(var D=O.length-8;D<O.length;++D)O[D]=I&255,I/=256;for(this.v(O),O=Array(16),I=0,D=0;D<4;++D)for(let z=0;z<32;z+=8)O[I++]=this.g[D]>>>z&255;return O};function s(O,I){var D=u;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=I(O)}function l(O,I){this.h=I;const D=[];let z=!0;for(let M=O.length-1;M>=0;M--){const B=O[M]|0;z&&B==I||(D[M]=B,z=!1)}this.g=D}var u={};function d(O){return-128<=O&&O<128?s(O,function(I){return new l([I|0],I<0?-1:0)}):new l([O|0],O<0?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(O<0)return S(h(-O));const I=[];let D=1;for(let z=0;O>=D;z++)I[z]=O/D|0,D*=4294967296;return new l(I,0)}function p(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return S(p(O.substring(1),I));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(I,8));let z=g;for(let B=0;B<O.length;B+=8){var M=Math.min(8,O.length-B);const k=parseInt(O.substring(B,B+M),I);M<8?(M=h(Math.pow(I,M)),z=z.j(M).add(h(k))):(z=z.j(D),z=z.add(h(k)))}return z}var g=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(A(this))return-S(this).m();let O=0,I=1;for(let D=0;D<this.g.length;D++){const z=this.i(D);O+=(z>=0?z:4294967296+z)*I,I*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(A(this))return"-"+S(this).toString(O);const I=h(Math.pow(O,6));var D=this;let z="";for(;;){const M=U(D,I).g;D=j(D,M.j(I));let B=((D.g.length>0?D.g[0]:D.h)>>>0).toString(O);if(D=M,E(D))return B+z;for(;B.length<6;)B="0"+B;z=B+z}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(let I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function A(O){return O.h==-1}t.l=function(O){return O=j(this,O),A(O)?-1:E(O)?0:1};function S(O){const I=O.g.length,D=[];for(let z=0;z<I;z++)D[z]=~O.g[z];return new l(D,~O.h).add(b)}t.abs=function(){return A(this)?S(this):this},t.add=function(O){const I=Math.max(this.g.length,O.g.length),D=[];let z=0;for(let M=0;M<=I;M++){let B=z+(this.i(M)&65535)+(O.i(M)&65535),k=(B>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);z=k>>>16,B&=65535,k&=65535,D[M]=k<<16|B}return new l(D,D[D.length-1]&-2147483648?-1:0)};function j(O,I){return O.add(S(I))}t.j=function(O){if(E(this)||E(O))return g;if(A(this))return A(O)?S(this).j(S(O)):S(S(this).j(O));if(A(O))return S(this.j(S(O)));if(this.l(_)<0&&O.l(_)<0)return h(this.m()*O.m());const I=this.g.length+O.g.length,D=[];for(var z=0;z<2*I;z++)D[z]=0;for(z=0;z<this.g.length;z++)for(let M=0;M<O.g.length;M++){const B=this.i(z)>>>16,k=this.i(z)&65535,he=O.i(M)>>>16,Ae=O.i(M)&65535;D[2*z+2*M]+=k*Ae,R(D,2*z+2*M),D[2*z+2*M+1]+=B*Ae,R(D,2*z+2*M+1),D[2*z+2*M+1]+=k*he,R(D,2*z+2*M+1),D[2*z+2*M+2]+=B*he,R(D,2*z+2*M+2)}for(O=0;O<I;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=I;O<2*I;O++)D[O]=0;return new l(D,0)};function R(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function P(O,I){this.g=O,this.h=I}function U(O,I){if(E(I))throw Error("division by zero");if(E(O))return new P(g,g);if(A(O))return I=U(S(O),I),new P(S(I.g),S(I.h));if(A(I))return I=U(O,S(I)),new P(S(I.g),I.h);if(O.g.length>30){if(A(O)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var D=b,z=I;z.l(O)<=0;)D=V(D),z=V(z);var M=$(D,1),B=$(z,1);for(z=$(z,2),D=$(D,2);!E(z);){var k=B.add(z);k.l(O)<=0&&(M=M.add(D),B=k),z=$(z,1),D=$(D,1)}return I=j(O,M.j(I)),new P(M,I)}for(M=g;O.l(I)>=0;){for(D=Math.max(1,Math.floor(O.m()/I.m())),z=Math.ceil(Math.log(D)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),B=h(D),k=B.j(I);A(k)||k.l(O)>0;)D-=z,B=h(D),k=B.j(I);E(B)&&(B=b),M=M.add(B),O=j(O,k)}return new P(M,O)}t.B=function(O){return U(this,O).h},t.and=function(O){const I=Math.max(this.g.length,O.g.length),D=[];for(let z=0;z<I;z++)D[z]=this.i(z)&O.i(z);return new l(D,this.h&O.h)},t.or=function(O){const I=Math.max(this.g.length,O.g.length),D=[];for(let z=0;z<I;z++)D[z]=this.i(z)|O.i(z);return new l(D,this.h|O.h)},t.xor=function(O){const I=Math.max(this.g.length,O.g.length),D=[];for(let z=0;z<I;z++)D[z]=this.i(z)^O.i(z);return new l(D,this.h^O.h)};function V(O){const I=O.g.length+1,D=[];for(let z=0;z<I;z++)D[z]=O.i(z)<<1|O.i(z-1)>>>31;return new l(D,O.h)}function $(O,I){const D=I>>5;I%=32;const z=O.g.length-D,M=[];for(let B=0;B<z;B++)M[B]=I>0?O.i(B+D)>>>I|O.i(B+D+1)<<32-I:O.i(B+D);return new l(M,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Zo=l}).apply(typeof cC<"u"?cC:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var VM,zf,UM,yg,Ew,zM,BM,FM;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var T=0;T<y.length;++T){var C=y[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(y,T){if(T)e:{var C=r;y=y.split(".");for(var F=0;F<y.length-1;F++){var ee=y[F];if(!(ee in C))break e;C=C[ee]}y=y[y.length-1],F=C[y],T=T(F),T!=F&&T!=null&&e(C,y,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(T){var C=[],F;for(F in T)Object.prototype.hasOwnProperty.call(T,F)&&C.push([F,T[F]]);return C}});var s=s||{},l=this||self;function u(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function d(y,T,C){return y.call.apply(y.bind,arguments)}function h(y,T,C){return h=d,h.apply(null,arguments)}function p(y,T){var C=Array.prototype.slice.call(arguments,1);return function(){var F=C.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function g(y,T){function C(){}C.prototype=T.prototype,y.Z=T.prototype,y.prototype=new C,y.prototype.constructor=y,y.Ob=function(F,ee,le){for(var Ne=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ne[Ze-2]=arguments[Ze];return T.prototype[ee].apply(F,Ne)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function _(y){const T=y.length;if(T>0){const C=Array(T);for(let F=0;F<T;F++)C[F]=y[F];return C}return[]}function E(y,T){for(let F=1;F<arguments.length;F++){const ee=arguments[F];var C=typeof ee;if(C=C!="object"?C:ee?Array.isArray(ee)?"array":C:"null",C=="array"||C=="object"&&typeof ee.length=="number"){C=y.length||0;const le=ee.length||0;y.length=C+le;for(let Ne=0;Ne<le;Ne++)y[C+Ne]=ee[Ne]}else y.push(ee)}}class A{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(y){l.setTimeout(()=>{throw y},0)}function j(){var y=O;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class R{constructor(){this.h=this.g=null}add(T,C){const F=P.get();F.set(T,C),this.h?this.h.next=F:this.g=F,this.h=F}}var P=new A(()=>new U,y=>y.reset());class U{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let V,$=!1,O=new R,I=()=>{const y=Promise.resolve(void 0);V=()=>{y.then(D)}};function D(){for(var y;y=j();){try{y.h.call(y.g)}catch(C){S(C)}var T=P;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}$=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const C=()=>{};l.addEventListener("test",C,T),l.removeEventListener("test",C,T)}catch{}return y})();function k(y){return/^[\s\xa0]*$/.test(y)}function he(y,T){M.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}g(he,M),he.prototype.init=function(y,T){const C=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(C=="mouseover"?T=y.fromElement:C=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(y,T,C,F,ee){this.listener=y,this.proxy=null,this.src=T,this.type=C,this.capture=!!F,this.ha=ee,this.key=++X,this.da=this.fa=!1}function _e(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Z(y,T,C){for(const F in y)T.call(C,y[F],F,y)}function Se(y,T){for(const C in y)T.call(void 0,y[C],C,y)}function H(y){const T={};for(const C in y)T[C]=y[C];return T}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(y,T){let C,F;for(let ee=1;ee<arguments.length;ee++){F=arguments[ee];for(C in F)y[C]=F[C];for(let le=0;le<q.length;le++)C=q[le],Object.prototype.hasOwnProperty.call(F,C)&&(y[C]=F[C])}}function J(y){this.src=y,this.g={},this.h=0}J.prototype.add=function(y,T,C,F,ee){const le=y.toString();y=this.g[le],y||(y=this.g[le]=[],this.h++);const Ne=xe(y,T,F,ee);return Ne>-1?(T=y[Ne],C||(T.fa=!1)):(T=new oe(T,this.src,le,!!F,ee),T.fa=C,y.push(T)),T};function fe(y,T){const C=T.type;if(C in y.g){var F=y.g[C],ee=Array.prototype.indexOf.call(F,T,void 0),le;(le=ee>=0)&&Array.prototype.splice.call(F,ee,1),le&&(_e(T),y.g[C].length==0&&(delete y.g[C],y.h--))}}function xe(y,T,C,F){for(let ee=0;ee<y.length;++ee){const le=y[ee];if(!le.da&&le.listener==T&&le.capture==!!C&&le.ha==F)return ee}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Te={};function te(y,T,C,F,ee){if(Array.isArray(T)){for(let le=0;le<T.length;le++)te(y,T[le],C,F,ee);return null}return C=be(C),y&&y[Ae]?y.J(T,C,u(F)?!!F.capture:!1,ee):Re(y,T,C,!1,F,ee)}function Re(y,T,C,F,ee,le){if(!T)throw Error("Invalid event type");const Ne=u(ee)?!!ee.capture:!!ee;let Ze=W(y);if(Ze||(y[we]=Ze=new J(y)),C=Ze.add(T,C,F,Ne,le),C.proxy)return C;if(F=je(),C.proxy=F,F.src=y,F.listener=C,y.addEventListener)B||(ee=Ne),ee===void 0&&(ee=!1),y.addEventListener(T.toString(),F,ee);else if(y.attachEvent)y.attachEvent(Oe(T.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return C}function je(){function y(C){return T.call(y.src,y.listener,C)}const T=dt;return y}function ge(y,T,C,F,ee){if(Array.isArray(T))for(var le=0;le<T.length;le++)ge(y,T[le],C,F,ee);else F=u(F)?!!F.capture:!!F,C=be(C),y&&y[Ae]?(y=y.i,le=String(T).toString(),le in y.g&&(T=y.g[le],C=xe(T,C,F,ee),C>-1&&(_e(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete y.g[le],y.h--)))):y&&(y=W(y))&&(T=y.g[T.toString()],y=-1,T&&(y=xe(T,C,F,ee)),(C=y>-1?T[y]:null)&&Ie(C))}function Ie(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[Ae])fe(T.i,y);else{var C=y.type,F=y.proxy;T.removeEventListener?T.removeEventListener(C,F,y.capture):T.detachEvent?T.detachEvent(Oe(C),F):T.addListener&&T.removeListener&&T.removeListener(F),(C=W(T))?(fe(C,y),C.h==0&&(C.src=null,T[we]=null)):_e(y)}}}function Oe(y){return y in Te?Te[y]:Te[y]="on"+y}function dt(y,T){if(y.da)y=!0;else{T=new he(T,this);const C=y.listener,F=y.ha||y.src;y.fa&&Ie(y),y=C.call(F,T)}return y}function W(y){return y=y[we],y instanceof J?y:null}var Ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function be(y){return typeof y=="function"?y:(y[Ee]||(y[Ee]=function(T){return y.handleEvent(T)}),y[Ee])}function ue(){z.call(this),this.i=new J(this),this.M=this,this.G=null}g(ue,z),ue.prototype[Ae]=!0,ue.prototype.removeEventListener=function(y,T,C,F){ge(this,y,T,C,F)};function Ue(y,T){var C,F=y.G;if(F)for(C=[];F;F=F.G)C.push(F);if(y=y.M,F=T.type||T,typeof T=="string")T=new M(T,y);else if(T instanceof M)T.target=T.target||y;else{var ee=T;T=new M(F,y),K(T,ee)}ee=!0;let le,Ne;if(C)for(Ne=C.length-1;Ne>=0;Ne--)le=T.g=C[Ne],ee=Fe(le,F,!0,T)&&ee;if(le=T.g=y,ee=Fe(le,F,!0,T)&&ee,ee=Fe(le,F,!1,T)&&ee,C)for(Ne=0;Ne<C.length;Ne++)le=T.g=C[Ne],ee=Fe(le,F,!1,T)&&ee}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const C=y.g[T];for(let F=0;F<C.length;F++)_e(C[F]);delete y.g[T],y.h--}}this.G=null},ue.prototype.J=function(y,T,C,F){return this.i.add(String(y),T,!1,C,F)},ue.prototype.K=function(y,T,C,F){return this.i.add(String(y),T,!0,C,F)};function Fe(y,T,C,F){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let ee=!0;for(let le=0;le<T.length;++le){const Ne=T[le];if(Ne&&!Ne.da&&Ne.capture==C){const Ze=Ne.listener,pn=Ne.ha||Ne.src;Ne.fa&&fe(y.i,Ne),ee=Ze.call(pn,F)!==!1&&ee}}return ee&&!F.defaultPrevented}function sn(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(y,T||0)}function tn(y){y.g=sn(()=>{y.g=null,y.i&&(y.i=!1,tn(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class Yt extends z{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:tn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(y){z.call(this),this.h=y,this.g={}}g(lr,z);var ts=[];function Rt(y){Z(y.g,function(T,C){this.g.hasOwnProperty(C)&&Ie(T)},y),y.g={}}lr.prototype.N=function(){lr.Z.N.call(this),Rt(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mt=l.JSON.stringify,Lr=l.JSON.parse,Cr=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function yr(){}function qi(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ne(){M.call(this,"d")}g(ne,M);function De(){M.call(this,"c")}g(De,M);var Ye={},kt=null;function Vr(){return kt=kt||new ue}Ye.Ia="serverreachability";function so(y){M.call(this,Ye.Ia,y)}g(so,M);function Gn(y){const T=Vr();Ue(T,new so(T))}Ye.STAT_EVENT="statevent";function yi(y,T){M.call(this,Ye.STAT_EVENT,y),this.stat=T}g(yi,M);function nn(y){const T=Vr();Ue(T,new yi(T,y))}Ye.Ja="timingevent";function We(y,T){M.call(this,Ye.Ja,y),this.size=T}g(We,M);function Dt(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},T)}function Vn(){this.g=!0}Vn.prototype.ua=function(){this.g=!1};function _n(y,T,C,F,ee,le){y.info(function(){if(y.g)if(le){var Ne="",Ze=le.split("&");for(let vt=0;vt<Ze.length;vt++){var pn=Ze[vt].split("=");if(pn.length>1){const Wt=pn[0];pn=pn[1];const _i=Wt.split("_");Ne=_i.length>=2&&_i[1]=="type"?Ne+(Wt+"="+pn+"&"):Ne+(Wt+"=redacted&")}}}else Ne=null;else Ne=le;return"XMLHTTP REQ ("+F+") [attempt "+ee+"]: "+T+`
`+C+`
`+Ne})}function Xr(y,T,C,F,ee,le,Ne){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ee+"]: "+T+`
`+C+`
`+le+" "+Ne})}function Yn(y,T,C,F){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+h0(y,C)+(F?" "+F:"")})}function Tl(y,T){y.info(function(){return"TIMEOUT: "+T})}Vn.prototype.info=function(){};function h0(y,T){if(!y.g)return T;if(!T)return null;try{const le=JSON.parse(T);if(le){for(y=0;y<le.length;y++)if(Array.isArray(le[y])){var C=le[y];if(!(C.length<2)){var F=C[1];if(Array.isArray(F)&&!(F.length<1)){var ee=F[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Ne=1;Ne<F.length;Ne++)F[Ne]=""}}}}return mt(le)}catch{return T}}var Nl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Od;function jl(){}g(jl,yr),jl.prototype.g=function(){return new XMLHttpRequest},Od=new jl;function ns(y){return encodeURIComponent(String(y))}function vm(y){var T=1;y=y.split(":");const C=[];for(;T>0&&y.length;)C.push(y.shift()),T--;return y.length&&C.push(y.join(":")),C}function Hi(y,T,C,F){this.j=y,this.i=T,this.l=C,this.S=F||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ki}function Ki(){this.i=null,this.g="",this.h=!1}var wn={},Wn={};function pa(y,T,C){y.M=1,y.A=Cl(An(T)),y.u=C,y.R=!0,Bc(y,null)}function Bc(y,T){y.F=Date.now(),ga(y),y.B=An(y.A);var C=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),Hc(C.i,"t",F),y.C=0,C=y.j.L,y.h=new Ki,y.g=Rm(y.j,C?T:null,!y.u),y.P>0&&(y.O=new Yt(h(y.Y,y,y.g),y.P)),T=y.V,C=y.g,F=y.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(ts[0]=ee.toString()),ee=ts);for(let le=0;le<ee.length;le++){const Ne=te(C,ee[le],F||T.handleEvent,!1,T.h||T);if(!Ne)break;T.g[Ne.key]=Ne}T=y.J?H(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Gn(),_n(y.i,y.v,y.B,y.l,y.S,y.u)}Hi.prototype.ba=function(y){y=y.target;const T=this.O;T&&Wi(y)==3?T.j():this.Y(y)},Hi.prototype.Y=function(y){try{if(y==this.g)e:{const Ze=Wi(this.g),pn=this.g.ya(),vt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||cr(this.g)))){this.K||Ze!=4||pn==7||(pn==8||vt<=0?Gn(3):Gn(2)),ya(this);var T=this.g.ca();this.X=T;var C=m0(this);if(this.o=T==200,Xr(this.i,this.v,this.B,this.l,this.S,Ze,T),this.o){if(this.U&&!this.L){t:{if(this.g){var F,ee=this.g;if((F=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(F)){var le=F;break t}}le=null}if(y=le)Yn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,va(this,y);else{this.o=!1,this.m=3,nn(12),Qr(this),vi(this);break e}}if(this.R){y=!0;let Wt;for(;!this.K&&this.C<C.length;)if(Wt=xm(this,C),Wt==Wn){Ze==4&&(this.m=4,nn(14),y=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==wn){this.m=4,nn(15),Yn(this.i,this.l,C,"[Invalid Chunk]"),y=!1;break}else Yn(this.i,this.l,Wt,null),va(this,Wt);if(bm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||C.length!=0||this.h.h||(this.m=1,nn(16),y=!1),this.o=this.o&&y,!y)Yn(this.i,this.l,C,"[Invalid Chunked Response]"),Qr(this),vi(this);else if(C.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Hd(Ne),Ne.P=!0,nn(11))}}else Yn(this.i,this.l,C,null),va(this,C);Ze==4&&Qr(this),this.o&&!this.K&&(Ze==4?Cm(this.j,this):(this.o=!1,ga(this)))}else is(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),Qr(this),vi(this)}}}catch{}};function m0(y){if(!bm(y))return y.g.la();const T=cr(y.g);if(T==="")return"";let C="";const F=T.length,ee=Wi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Qr(y),vi(y),"";y.h.i=new l.TextDecoder}for(let le=0;le<F;le++)y.h.h=!0,C+=y.h.i.decode(T[le],{stream:!(ee&&le==F-1)});return T.length=0,y.h.g+=C,y.C=0,y.h.g}function bm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function xm(y,T){var C=y.C,F=T.indexOf(`
`,C);return F==-1?Wn:(C=Number(T.substring(C,F)),isNaN(C)?wn:(F+=1,F+C>T.length?Wn:(T=T.slice(F,F+C),y.C=F+C,T)))}Hi.prototype.cancel=function(){this.K=!0,Qr(this)};function ga(y){y.T=Date.now()+y.H,Fc(y,y.H)}function Fc(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Dt(h(y.aa,y),T)}function ya(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Hi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Tl(this.i,this.B),this.M!=2&&(Gn(),nn(17)),Qr(this),this.m=2,vi(this)):Fc(this,this.T-y)};function vi(y){y.j.I==0||y.K||Cm(y.j,y)}function Qr(y){ya(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,Rt(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function va(y,T){try{var C=y.j;if(C.I!=0&&(C.g==y||xa(C.h,y))){if(!y.L&&xa(C.h,y)&&C.I==3){try{var F=C.Ba.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ee=F;if(ee[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<y.F)Xc(C),po(C);else break e;Ml(C),nn(18)}}else C.xa=ee[1],0<C.xa-C.K&&ee[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Dt(h(C.Va,C),6e3));ba(C.h)<=1&&C.ta&&(C.ta=void 0)}else Ta(C,11)}else if((y.L||C.g==y)&&Xc(C),!k(T))for(ee=C.Ba.g.parse(T),T=0;T<ee.length;T++){let vt=ee[T];const Wt=vt[0];if(!(Wt<=C.K))if(C.K=Wt,vt=vt[1],C.I==2)if(vt[0]=="c"){C.M=vt[1],C.ba=vt[2];const _i=vt[3];_i!=null&&(C.ka=_i,C.j.info("VER="+C.ka));const Na=vt[4];Na!=null&&(C.za=Na,C.j.info("SVER="+C.za));const Xi=vt[5];Xi!=null&&typeof Xi=="number"&&Xi>0&&(F=1.5*Xi,C.O=F,C.j.info("backChannelRequestTimeoutMs_="+F)),F=C;const Qi=y.g;if(Qi){const Ll=Qi.g?Qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var le=F.h;le.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Rd(le,le.h),le.h=null))}if(F.G){const Qc=Qi.g?Qi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qc&&(F.wa=Qc,Et(F.J,F.G,Qc))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-y.F,C.j.info("Handshake RTT: "+C.T+"ms")),F=C;var Ne=y;if(F.na=Pm(F,F.L?F.ba:null,F.W),Ne.L){kd(F.h,Ne);var Ze=Ne,pn=F.O;pn&&(Ze.H=pn),Ze.D&&(ya(Ze),ga(Ze)),F.g=Ne}else Nm(F);C.i.length>0&&Sa(C)}else vt[0]!="stop"&&vt[0]!="close"||Ta(C,7);else C.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ta(C,7):$d(C):vt[0]!="noop"&&C.l&&C.l.qa(vt),C.A=0)}}Gn(4)}catch{}}var En=class{constructor(y,T){this.g=y,this.map=T}};function Id(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ba(y){return y.h?1:y.g?y.g.size:0}function xa(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function Rd(y,T){y.g?y.g.add(T):y.h=T}function kd(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}Id.prototype.cancel=function(){if(this.i=Dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Dd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const C of y.g.values())T=T.concat(C.G);return T}return _(y.i)}var _m=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $c(y,T){if(y){y=y.split("&");for(let C=0;C<y.length;C++){const F=y[C].indexOf("=");let ee,le=null;F>=0?(ee=y[C].substring(0,F),le=y[C].substring(F+1)):ee=y[C],T(ee,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Jr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof Jr?(this.l=y.l,Xn(this,y.j),this.o=y.o,this.g=y.g,oo(this,y.u),this.h=y.h,Md(this,Sm(y.i)),this.m=y.m):y&&(T=String(y).match(_m))?(this.l=!1,Xn(this,T[1]||"",!0),this.o=_a(T[2]||""),this.g=_a(T[3]||"",!0),oo(this,T[4]),this.h=_a(T[5]||"",!0),Md(this,T[6]||"",!0),this.m=_a(T[7]||"")):(this.l=!1,this.i=new co(null,this.l))}Jr.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(Ol(T,qc,!0),":");var C=this.g;return(C||T=="file")&&(y.push("//"),(T=this.o)&&y.push(Ol(T,qc,!0),"@"),y.push(ns(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&y.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&y.push("/"),y.push(Ol(C,C.charAt(0)=="/"?Ld:wm,!0))),(C=this.i.toString())&&y.push("?",C),(C=this.m)&&y.push("#",Ol(C,Em)),y.join("")},Jr.prototype.resolve=function(y){const T=An(this);let C=!!y.j;C?Xn(T,y.j):C=!!y.o,C?T.o=y.o:C=!!y.g,C?T.g=y.g:C=y.u!=null;var F=y.h;if(C)oo(T,y.u);else if(C=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var ee=T.h.lastIndexOf("/");ee!=-1&&(F=T.h.slice(0,ee+1)+F)}if(ee=F,ee==".."||ee==".")F="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){F=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const le=[];for(let Ne=0;Ne<ee.length;){const Ze=ee[Ne++];Ze=="."?F&&Ne==ee.length&&le.push(""):Ze==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),F&&Ne==ee.length&&le.push("")):(le.push(Ze),F=!0)}F=le.join("/")}else F=ee}return C?T.h=F:C=y.i.toString()!=="",C?Md(T,Sm(y.i)):C=!!y.m,C&&(T.m=y.m),T};function An(y){return new Jr(y)}function Xn(y,T,C){y.j=C?_a(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function oo(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function Md(y,T,C){T instanceof co?(y.i=T,Kc(y.i,y.l)):(C||(T=Ol(T,lo)),y.i=new co(T,y.l))}function Et(y,T,C){y.i.set(T,C)}function Cl(y){return Et(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function _a(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ol(y,T,C){return typeof y=="string"?(y=encodeURI(y).replace(T,Ur),C&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Ur(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var qc=/[#\/\?@]/g,wm=/[#\?:]/g,Ld=/[#\?]/g,lo=/[#\?@]/g,Em=/#/g;function co(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function zr(y){y.g||(y.g=new Map,y.h=0,y.i&&$c(y.i,function(T,C){y.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}t=co.prototype,t.add=function(y,T){zr(this),this.i=null,y=uo(this,y);let C=this.g.get(y);return C||this.g.set(y,C=[]),C.push(T),this.h+=1,this};function Am(y,T){zr(y),T=uo(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function Vd(y,T){return zr(y),T=uo(y,T),y.g.has(T)}t.forEach=function(y,T){zr(this),this.g.forEach(function(C,F){C.forEach(function(ee){y.call(T,ee,F,this)},this)},this)};function Ud(y,T){zr(y);let C=[];if(typeof T=="string")Vd(y,T)&&(C=C.concat(y.g.get(uo(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)C=C.concat(y[T]);return C}t.set=function(y,T){return zr(this),this.i=null,y=uo(this,y),Vd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},t.get=function(y,T){return y?(y=Ud(this,y),y.length>0?String(y[0]):T):T};function Hc(y,T,C){Am(y,T),C.length>0&&(y.i=null,y.g.set(uo(y,T),_(C)),y.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let F=0;F<T.length;F++){var C=T[F];const ee=ns(C);C=Ud(this,C);for(let le=0;le<C.length;le++){let Ne=ee;C[le]!==""&&(Ne+="="+ns(C[le])),y.push(Ne)}}return this.i=y.join("&")};function Sm(y){const T=new co;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function uo(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Kc(y,T){T&&!y.j&&(zr(y),y.i=null,y.g.forEach(function(C,F){const ee=F.toLowerCase();F!=ee&&(Am(this,F),Hc(this,ee,C))},y)),y.j=T}function Gi(y,T){const C=new Vn;if(l.Image){const F=new Image;F.onload=p(bi,C,"TestLoadImage: loaded",!0,T,F),F.onerror=p(bi,C,"TestLoadImage: error",!1,T,F),F.onabort=p(bi,C,"TestLoadImage: abort",!1,T,F),F.ontimeout=p(bi,C,"TestLoadImage: timeout",!1,T,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else T(!1)}function zd(y,T){const C=new Vn,F=new AbortController,ee=setTimeout(()=>{F.abort(),bi(C,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:F.signal}).then(le=>{clearTimeout(ee),le.ok?bi(C,"TestPingServer: ok",!0,T):bi(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ee),bi(C,"TestPingServer: error",!1,T)})}function bi(y,T,C,F,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),F(C)}catch{}}function fo(){this.g=new Cr}function wa(y){this.i=y.Sb||null,this.h=y.ab||!1}g(wa,yr),wa.prototype.g=function(){return new Il(this.i,this.h)};function Il(y,T){ue.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Il,ue),t=Il.prototype,t.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,Yi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?ho(this):Yi(this),this.readyState==3&&Gc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ho(this))},t.Na=function(y){this.g&&(this.response=y,ho(this))},t.ga=function(){this.g&&ho(this)};function ho(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Yi(y)}t.setRequestHeader=function(y,T){this.A.append(y,T)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,y.push(C[0]+": "+C[1]),C=T.next();return y.join(`\r
`)};function Yi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function xi(y){let T="";return Z(y,function(C,F){T+=F,T+=":",T+=C,T+=`\r
`}),T}function Pl(y,T,C){e:{for(F in C){var F=!1;break e}F=!0}F||(C=xi(C),typeof y=="string"?C!=null&&ns(C):Et(y,T,C))}function Nt(y){ue.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Nt,ue);var Ea=/^https?$/i,Bd=["POST","PUT"];t=Nt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,T,C,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Od.g(),this.g.onreadystatechange=b(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(le){Rl(this,le);return}if(y=C||"",C=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ee in F)C.set(ee,F[ee]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const le of F.keys())C.set(le,F.get(le));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(C.keys()).find(le=>le.toLowerCase()=="content-type"),ee=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(Bd,T,void 0)>=0)||F||ee||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ne]of C)this.g.setRequestHeader(le,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(le){Rl(this,le)}};function Rl(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,Fd(y),rs(y)}function Fd(y){y.A||(y.A=!0,Ue(y,"complete"),Ue(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Ue(this,"complete"),Ue(this,"abort"),rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?kl(this):this.Xa())},t.Xa=function(){kl(this)};function kl(y){if(y.h&&typeof s<"u"){if(y.v&&Wi(y)==4)setTimeout(y.Ca.bind(y),0);else if(Ue(y,"readystatechange"),Wi(y)==4){y.h=!1;try{const le=y.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var F;if(F=le===0){let Ne=String(y.D).match(_m)[1]||null;!Ne&&l.self&&l.self.location&&(Ne=l.self.location.protocol.slice(0,-1)),F=!Ea.test(Ne?Ne.toLowerCase():"")}C=F}if(C)Ue(y,"complete"),Ue(y,"success");else{y.o=6;try{var ee=Wi(y)>2?y.g.statusText:""}catch{ee=""}y.l=ee+" ["+y.ca()+"]",Fd(y)}}finally{rs(y)}}}}function rs(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const C=y.g;y.g=null,T||Ue(y,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wi(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),Lr(T)}};function cr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function is(y){const T={};y=(y.g&&Wi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if(k(y[F]))continue;var C=vm(y[F]);const ee=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const le=T[ee]||[];T[ee]=le,le.push(C)}Se(T,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(y,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[y]||T}function mo(y){this.za=0,this.i=[],this.j=new Vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Aa("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Aa("baseRetryDelayMs",5e3,y),this.Za=Aa("retryDelaySeedMs",1e4,y),this.Ta=Aa("forwardChannelMaxRetries",2,y),this.va=Aa("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Id(y&&y.concurrentRequestLimit),this.Ba=new fo,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mo.prototype,t.ka=8,t.I=1,t.connect=function(y,T,C,F){nn(0),this.W=y,this.H=T||{},C&&F!==void 0&&(this.H.OSID=C,this.H.OAID=F),this.F=this.X,this.J=Pm(this,null,this.W),Sa(this)};function $d(y){if(Yc(y),y.I==3){var T=y.V++,C=An(y.J);if(Et(C,"SID",y.M),Et(C,"RID",T),Et(C,"TYPE","terminate"),Dl(y,C),T=new Hi(y,y.j,T),T.M=2,T.A=Cl(An(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=T.A,C=!0),C||(T.g=Rm(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ga(T)}Im(y)}function po(y){y.g&&(Hd(y),y.g.cancel(),y.g=null)}function Yc(y){po(y),y.v&&(l.clearTimeout(y.v),y.v=null),Xc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function Sa(y){if(!Pd(y.h)&&!y.m){y.m=!0;var T=y.Ea;V||I(),$||(V(),$=!0),O.add(T,y),y.D=0}}function Wc(y,T){return ba(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Dt(h(y.Ea,y,T),Om(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ee=new Hi(this,this.j,y);let le=this.o;if(this.U&&(le?(le=H(le),K(le,this.U)):le=this.U),this.u!==null||this.R||(ee.J=le,le=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var F=this.i[C];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=Tm(this,ee,T),C=An(this.J),Et(C,"RID",y),Et(C,"CVER",22),this.G&&Et(C,"X-HTTP-Session-Id",this.G),Dl(this,C),le&&(this.R?T="headers="+ns(xi(le))+"&"+T:this.u&&Pl(C,this.u,le)),Rd(this.h,ee),this.Ra&&Et(C,"TYPE","init"),this.S?(Et(C,"$req",T),Et(C,"SID","null"),ee.U=!0,pa(ee,C,null)):pa(ee,C,T),this.I=2}}else this.I==3&&(y?qd(this,y):this.i.length==0||Pd(this.h)||qd(this))};function qd(y,T){var C;T?C=T.l:C=y.V++;const F=An(y.J);Et(F,"SID",y.M),Et(F,"RID",C),Et(F,"AID",y.K),Dl(y,F),y.u&&y.o&&Pl(F,y.u,y.o),C=new Hi(y,y.j,C,y.D+1),y.u===null&&(C.J=y.o),T&&(y.i=T.G.concat(y.i)),T=Tm(y,C,1e3),C.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Rd(y.h,C),pa(C,F,T)}function Dl(y,T){y.H&&Z(y.H,function(C,F){Et(T,F,C)}),y.l&&Z({},function(C,F){Et(T,F,C)})}function Tm(y,T,C){C=Math.min(y.i.length,C);const F=y.l?h(y.l.Ka,y.l,y):null;e:{var ee=y.i;let Ze=-1;for(;;){const pn=["count="+C];Ze==-1?C>0?(Ze=ee[0].g,pn.push("ofs="+Ze)):Ze=0:pn.push("ofs="+Ze);let vt=!0;for(let Wt=0;Wt<C;Wt++){var le=ee[Wt].g;const _i=ee[Wt].map;if(le-=Ze,le<0)Ze=Math.max(0,ee[Wt].g-100),vt=!1;else try{le="req"+le+"_"||"";try{var Ne=_i instanceof Map?_i:Object.entries(_i);for(const[Na,Xi]of Ne){let Qi=Xi;u(Xi)&&(Qi=mt(Xi)),pn.push(le+Na+"="+encodeURIComponent(Qi))}}catch(Na){throw pn.push(le+"type="+encodeURIComponent("_badmap")),Na}}catch{F&&F(_i)}}if(vt){Ne=pn.join("&");break e}}Ne=void 0}return y=y.i.splice(0,C),T.G=y,Ne}function Nm(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;V||I(),$||(V(),$=!0),O.add(T,y),y.A=0}}function Ml(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Dt(h(y.Da,y),Om(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,jm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Dt(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),po(this),jm(this))};function Hd(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function jm(y){y.g=new Hi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=An(y.na);Et(T,"RID","rpc"),Et(T,"SID",y.M),Et(T,"AID",y.K),Et(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Et(T,"TO",y.ia),Et(T,"TYPE","xmlhttp"),Dl(y,T),y.u&&y.o&&Pl(T,y.u,y.o),y.O&&(y.g.H=y.O);var C=y.g;y=y.ba,C.M=1,C.A=Cl(An(T)),C.u=null,C.R=!0,Bc(C,y)}t.Va=function(){this.C!=null&&(this.C=null,po(this),Ml(this),nn(19))};function Xc(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function Cm(y,T){var C=null;if(y.g==T){Xc(y),Hd(y),y.g=null;var F=2}else if(xa(y.h,T))C=T.G,kd(y.h,T),F=1;else return;if(y.I!=0){if(T.o)if(F==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var ee=y.D;F=Vr(),Ue(F,new We(F,C)),Sa(y)}else Nm(y);else if(ee=T.m,ee==3||ee==0&&T.X>0||!(F==1&&Wc(y,T)||F==2&&Ml(y)))switch(C&&C.length>0&&(T=y.h,T.i=T.i.concat(C)),ee){case 1:Ta(y,5);break;case 4:Ta(y,10);break;case 3:Ta(y,6);break;default:Ta(y,2)}}}function Om(y,T){let C=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(C*=2),C*T}function Ta(y,T){if(y.j.info("Error code "+T),T==2){var C=h(y.bb,y),F=y.Ua;const ee=!F;F=new Jr(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Xn(F,"https"),Cl(F),ee?Gi(F.toString(),C):zd(F.toString(),C)}else nn(2);y.I=0,y.l&&y.l.pa(T),Im(y),Yc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Im(y){if(y.I=0,y.ja=[],y.l){const T=Dd(y.h);(T.length!=0||y.i.length!=0)&&(E(y.ja,T),E(y.ja,y.i),y.h.i.length=0,_(y.i),y.i.length=0),y.l.oa()}}function Pm(y,T,C){var F=C instanceof Jr?An(C):new Jr(C);if(F.g!="")T&&(F.g=T+"."+F.g),oo(F,F.u);else{var ee=l.location;F=ee.protocol,T=T?T+"."+ee.hostname:ee.hostname,ee=+ee.port;const le=new Jr(null);F&&Xn(le,F),T&&(le.g=T),ee&&oo(le,ee),C&&(le.h=C),F=le}return C=y.G,T=y.wa,C&&T&&Et(F,C,T),Et(F,"VER",y.ka),Dl(y,F),F}function Rm(y,T,C){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new Nt(new wa({ab:C})):new Nt(y.ma),T.Fa(y.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function km(){}t=km.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function go(){}go.prototype.g=function(y,T){return new Or(y,T)};function Or(y,T){ue.call(this),this.g=new mo(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!k(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!k(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new as(this)}g(Or,ue),Or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){$d(this.g)},Or.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var C={};C.__data__=y,y=C}else this.v&&(C={},C.__data__=mt(y),y=C);T.i.push(new En(T.Ya++,y)),T.I==3&&Sa(T)},Or.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,Or.Z.N.call(this)};function Dm(y){ne.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const C in T){y=C;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}g(Dm,ne);function Mm(){De.call(this),this.status=1}g(Mm,De);function as(y){this.g=y}g(as,km),as.prototype.ra=function(){Ue(this.g,"a")},as.prototype.qa=function(y){Ue(this.g,new Dm(y))},as.prototype.pa=function(y){Ue(this.g,new Mm)},as.prototype.oa=function(){Ue(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,FM=function(){return new go},BM=function(){return Vr()},zM=Ye,Ew={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nl.NO_ERROR=0,Nl.TIMEOUT=8,Nl.HTTP_ERROR=6,yg=Nl,Cd.COMPLETE="complete",UM=Cd,qi.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ue.prototype.listen=ue.prototype.J,zf=qi,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,VM=Nt}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});const uC="@firebase/firestore",dC="4.9.3";class wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let dd="12.7.0";const _c=new nE("@firebase/firestore");function Iu(){return _c.logLevel}function ke(t,...e){if(_c.logLevel<=ot.DEBUG){const n=e.map(pE);_c.debug(`Firestore (${dd}): ${t}`,...n)}}function zs(t,...e){if(_c.logLevel<=ot.ERROR){const n=e.map(pE);_c.error(`Firestore (${dd}): ${t}`,...n)}}function wc(t,...e){if(_c.logLevel<=ot.WARN){const n=e.map(pE);_c.warn(`Firestore (${dd}): ${t}`,...n)}}function pE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$M(t,r,n)}function $M(t,e,n){let r=`FIRESTORE (${dd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zs(r),new Error(r)}function wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||$M(e,i,r)}function Je(t,e){return t}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class qM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wr.UNAUTHENTICATED)))}shutdown(){}}class K${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class G${constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rs,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new qM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new wr(e)}}class Y${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Q$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Q$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function Aw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Ax(i)===Ax(s)?lt(i,s):Ax(i)?1:-1}return lt(t.length,e.length)}const J$=55296,Z$=57343;function Ax(t){const e=t.charCodeAt(0);return e>=J$&&e<=Z$}function Yu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const hC="__name__";class Ra{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ra.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ra?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ra.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return lt(e.length,n.length)}static compareSegments(e,n){const r=Ra.isNumericId(e),i=Ra.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ra.extractNumericId(e).compare(Ra.extractNumericId(n)):Aw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zo.fromString(e.substring(4,e.length-2))}}class Bt extends Ra{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Bt(n)}static emptyPath(){return new Bt([])}}const eq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends Ra{construct(e,n,r){return new nr(e,n,r)}static isValidIdentifier(e){return eq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hC}static keyField(){return new nr([hC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ce(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ce(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Ce(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(n)}static emptyPath(){return new nr([])}}class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Bt.fromString(e))}static fromName(e){return new Be(Bt.fromString(e).popFirst(5))}static empty(){return new Be(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Bt(e.slice()))}}function KM(t,e,n){if(!n)throw new Ce(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GM(t,e,n,r){if(e===!0&&r===!0)throw new Ce(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mC(t){if(!Be.isDocumentKey(t))throw new Ce(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pC(t){if(Be.isDocumentKey(t))throw new Ce(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function YM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function Ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zy(t);throw new Ce(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mh(t,e){if(!YM(t))throw new Ce(pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ce(pe.INVALID_ARGUMENT,n);return!0}const gC=-62135596800,yC=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yC);return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gC)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yC}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mh(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:Rn("string",Lt._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Lt(0,0))}static max(){return new Xe(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const rh=-1;function tq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new il(i,Be.empty(),e)}function nq(t){return new il(t.readTime,t.key,rh)}class il{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new il(Xe.min(),Be.empty(),rh)}static max(){return new il(Xe.max(),Be.empty(),rh)}}function rq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}const iq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fd(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==iq)throw t;ke("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;n(e[h]).next((p=>{l[h]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function sq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hd(t){return t.name==="IndexedDbTransactionError"}class ev{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ev.ce=-1;const gE=-1;function tv(t){return t==null}function Lg(t){return t===0&&1/t==-1/0}function oq(t){return typeof t=="number"&&Number.isInteger(t)&&!Lg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const WM="";function lq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vC(e)),e=cq(t.get(n),e);return vC(e)}function cq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case WM:n+="";break;default:n+=s}}return n}function vC(t){return t+WM+""}function bC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class rn{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $p(this.root,e,this.comparator,!1)}getReverseIterator(){return new $p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $p(this.root,e,this.comparator,!0)}}class $p{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gr.RED,this.left=i??gr.EMPTY,this.right=s??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xC(this.data.getIterator())}getIteratorFrom(e){return new xC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class xC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new di([])}unionWith(e){let n=new Fn(nr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class QM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new QM("Invalid base64 string: "+s):s}})(e);return new ar(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const uq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=uq.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sl(t){return typeof t=="string"?ar.fromBase64String(t):ar.fromUint8Array(t)}const JM="server_timestamp",ZM="__type__",e4="__previous_value__",t4="__local_write_time__";function yE(t){return(t?.mapValue?.fields||{})[ZM]?.stringValue===JM}function nv(t){const e=t.mapValue.fields[e4];return yE(e)?nv(e):e}function ih(t){const e=al(t.mapValue.fields[t4].timestampValue);return new Lt(e.seconds,e.nanos)}class dq{constructor(e,n,r,i,s,l,u,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const Vg="(default)";class Wu{constructor(e,n){this.projectId=e,this.database=n||Vg}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===Vg}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}const n4="__type__",fq="__max__",qp={mapValue:{}},r4="__vector__",Ug="value";function ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yE(t)?4:mq(t)?9007199254740991:hq(t)?10:11:Ke(28295,{value:t})}function Fa(t,e){if(t===e)return!0;const n=ol(t);if(n!==ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=al(i.timestampValue),u=al(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return sl(i.bytesValue).isEqual(sl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return bn(i.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(i.geoPointValue.longitude)===bn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return bn(i.integerValue)===bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=bn(i.doubleValue),u=bn(s.doubleValue);return l===u?Lg(l)===Lg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Yu(t.arrayValue.values||[],e.arrayValue.values||[],Fa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(bC(l)!==bC(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Fa(l[d],u[d])))return!1;return!0})(t,e);default:return Ke(52216,{left:t})}}function ah(t,e){return(t.values||[]).find((n=>Fa(n,e)))!==void 0}function Xu(t,e){if(t===e)return 0;const n=ol(t),r=ol(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=bn(s.integerValue||s.doubleValue),d=bn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return _C(t.timestampValue,e.timestampValue);case 4:return _C(ih(t),ih(e));case 5:return Aw(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=sl(s),d=sl(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=lt(u[h],d[h]);if(p!==0)return p}return lt(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=lt(bn(s.latitude),bn(l.latitude));return u!==0?u:lt(bn(s.longitude),bn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wC(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},h=u[Ug]?.arrayValue,p=d[Ug]?.arrayValue,g=lt(h?.values?.length||0,p?.values?.length||0);return g!==0?g:wC(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===qp.mapValue&&l===qp.mapValue)return 0;if(s===qp.mapValue)return 1;if(l===qp.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=Aw(d[g],p[g]);if(b!==0)return b;const _=Xu(u[d[g]],h[p[g]]);if(_!==0)return _}return lt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Ke(23264,{he:n})}}function _C(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=al(t),r=al(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function wC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Xu(n[i],r[i]);if(s)return s}return lt(n.length,r.length)}function Qu(t){return Sw(t)}function Sw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=al(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return sl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sw(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Sw(n.fields[l])}`;return i+"}"})(t.mapValue):Ke(61005,{value:t})}function vg(t){switch(ol(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nv(t);return e?16+vg(e):16;case 5:return 2*t.stringValue.length;case 6:return sl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+vg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return yl(r.fields,((s,l)=>{i+=s.length+vg(l)})),i})(t.mapValue);default:throw Ke(13486,{value:t})}}function EC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tw(t){return!!t&&"integerValue"in t}function vE(t){return!!t&&"arrayValue"in t}function AC(t){return!!t&&"nullValue"in t}function SC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bg(t){return!!t&&"mapValue"in t}function hq(t){return(t?.mapValue?.fields||{})[n4]?.stringValue===r4}function Gf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gf(t.arrayValue.values[n]);return e}return{...t}}function mq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fq}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(n)}setAll(e){let n=nr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Gf(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Gr(Gf(this.value))}}function i4(t){const e=[];return yl(t.fields,((n,r)=>{const i=new nr([n]);if(bg(r)){const s=i4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new di(e)}class Er{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Er(e,0,Xe.min(),Xe.min(),Xe.min(),Gr.empty(),0)}static newFoundDocument(e,n,r,i){return new Er(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new Er(e,2,n,Xe.min(),Xe.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new Er(e,3,n,Xe.min(),Xe.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zg{constructor(e,n){this.position=e,this.inclusive=n}}function TC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),n.key):r=Xu(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function NC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fa(t.position[n],e.position[n]))return!1;return!0}class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function pq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class a4{}class Pn extends a4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yq(e,n,r):n==="array-contains"?new xq(e,r):n==="in"?new _q(e,r):n==="not-in"?new wq(e,r):n==="array-contains-any"?new Eq(e,r):new Pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vq(e,r):new bq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xu(n,this.value)):n!==null&&ol(this.value)===ol(n)&&this.matchesComparison(Xu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class da extends a4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new da(e,n)}matches(e){return s4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s4(t){return t.op==="and"}function o4(t){return gq(t)&&s4(t)}function gq(t){for(const e of t.filters)if(e instanceof da)return!1;return!0}function Nw(t){if(t instanceof Pn)return t.field.canonicalString()+t.op.toString()+Qu(t.value);if(o4(t))return t.filters.map((e=>Nw(e))).join(",");{const e=t.filters.map((n=>Nw(n))).join(",");return`${t.op}(${e})`}}function l4(t,e){return t instanceof Pn?(function(r,i){return i instanceof Pn&&r.op===i.op&&r.field.isEqual(i.field)&&Fa(r.value,i.value)})(t,e):t instanceof da?(function(r,i){return i instanceof da&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&l4(l,i.filters[u])),!0):!1})(t,e):void Ke(19439)}function c4(t){return t instanceof Pn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qu(n.value)}`})(t):t instanceof da?(function(n){return n.op.toString()+" {"+n.getFilters().map(c4).join(" ,")+"}"})(t):"Filter"}class yq extends Pn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class vq extends Pn{constructor(e,n){super(e,"in",n),this.keys=u4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bq extends Pn{constructor(e,n){super(e,"not-in",n),this.keys=u4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function u4(t,e){return(e.arrayValue?.values||[]).map((n=>Be.fromName(n.referenceValue)))}class xq extends Pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vE(n)&&ah(n.arrayValue,this.value)}}class _q extends Pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ah(this.value.arrayValue,n)}}class wq extends Pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ah(this.value.arrayValue,n)}}class Eq extends Pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ah(this.value.arrayValue,r)))}}class Aq{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function jC(t,e=null,n=[],r=[],i=null,s=null,l=null){return new Aq(t,e,n,r,i,s,l)}function bE(t){const e=Je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Nw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),tv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qu(r))).join(",")),e.Te=n}return e.Te}function xE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!l4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NC(t.startAt,e.startAt)&&NC(t.endAt,e.endAt)}function jw(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class md{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sq(t,e,n,r,i,s,l,u){return new md(t,e,n,r,i,s,l,u)}function _E(t){return new md(t)}function CC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d4(t){return t.collectionGroup!==null}function Yf(t){const e=Je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Fn(nr.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sh(s,r))})),n.has(nr.keyField().canonicalString())||e.Ie.push(new sh(nr.keyField(),r))}return e.Ie}function Va(t){const e=Je(t);return e.Ee||(e.Ee=Tq(e,Yf(t))),e.Ee}function Tq(t,e){if(t.limitType==="F")return jC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new sh(i.field,s)}));const n=t.endAt?new zg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zg(t.startAt.position,t.startAt.inclusive):null;return jC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cw(t,e){const n=t.filters.concat([e]);return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ow(t,e,n){return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rv(t,e){return xE(Va(t),Va(e))&&t.limitType===e.limitType}function f4(t){return`${bE(Va(t))}|lt:${t.limitType}`}function Pu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>c4(i))).join(", ")}]`),tv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Qu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Qu(i))).join(",")),`Target(${r})`})(Va(t))}; limitType=${t.limitType})`}function iv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Be.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Yf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const h=TC(l,u,d);return l.inclusive?h<=0:h<0})(r.startAt,Yf(r),i)||r.endAt&&!(function(l,u,d){const h=TC(l,u,d);return l.inclusive?h>=0:h>0})(r.endAt,Yf(r),i))})(t,e)}function Nq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h4(t){return(e,n)=>{let r=!1;for(const i of Yf(t)){const s=jq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jq(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Xu(d,h):Ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke(19790,{direction:t.dir})}}class Mc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return XM(this.inner)}size(){return this.innerSize}}const Cq=new rn(Be.comparator);function Bs(){return Cq}const m4=new rn(Be.comparator);function Bf(...t){let e=m4;for(const n of t)e=e.insert(n.key,n);return e}function p4(t){let e=m4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oc(){return Wf()}function g4(){return Wf()}function Wf(){return new Mc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Oq=new rn(Be.comparator),Iq=new Fn(Be.comparator);function ct(...t){let e=Iq;for(const n of t)e=e.add(n);return e}const Pq=new Fn(lt);function Rq(){return Pq}function wE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(e)?"-0":e}}function y4(t){return{integerValue:""+t}}function kq(t,e){return oq(e)?y4(e):wE(t,e)}class av{constructor(){this._=void 0}}function Dq(t,e,n){return t instanceof oh?(function(i,s){const l={fields:{[ZM]:{stringValue:JM},[t4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yE(s)&&(s=nv(s)),s&&(l.fields[e4]=s),{mapValue:l}})(n,e):t instanceof lh?b4(t,e):t instanceof ch?x4(t,e):(function(i,s){const l=v4(i,s),u=OC(l)+OC(i.Ae);return Tw(l)&&Tw(i.Ae)?y4(u):wE(i.serializer,u)})(t,e)}function Mq(t,e,n){return t instanceof lh?b4(t,e):t instanceof ch?x4(t,e):n}function v4(t,e){return t instanceof Bg?(function(r){return Tw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class oh extends av{}class lh extends av{constructor(e){super(),this.elements=e}}function b4(t,e){const n=_4(e);for(const r of t.elements)n.some((i=>Fa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ch extends av{constructor(e){super(),this.elements=e}}function x4(t,e){let n=_4(e);for(const r of t.elements)n=n.filter((i=>!Fa(i,r)));return{arrayValue:{values:n}}}class Bg extends av{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function OC(t){return bn(t.integerValue||t.doubleValue)}function _4(t){return vE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Lq{constructor(e,n){this.field=e,this.transform=n}}function Vq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof lh&&i instanceof lh||r instanceof ch&&i instanceof ch?Yu(r.elements,i.elements,Fa):r instanceof Bg&&i instanceof Bg?Fa(r.Ae,i.Ae):r instanceof oh&&i instanceof oh})(t.transform,e.transform)}class Uq{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sv{}function w4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EE(t.key,Li.none()):new Lh(t.key,t.data,Li.none());{const n=t.data,r=Gr.empty();let i=new Fn(nr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new vl(t.key,r,new di(i.toArray()),Li.none())}}function zq(t,e,n){t instanceof Lh?(function(i,s,l){const u=i.value.clone(),d=PC(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof vl?(function(i,s,l){if(!xg(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=PC(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(E4(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Xf(t,e,n,r){return t instanceof Lh?(function(s,l,u,d){if(!xg(s.precondition,l))return u;const h=s.value.clone(),p=RC(s.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof vl?(function(s,l,u,d){if(!xg(s.precondition,l))return u;const h=RC(s.fieldTransforms,d,l),p=l.data;return p.setAll(E4(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return xg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function Bq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=v4(r.transform,i||null);s!=null&&(n===null&&(n=Gr.empty()),n.set(r.field,s))}return n||null}function IC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yu(r,i,((s,l)=>Vq(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lh extends sv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vl extends sv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function PC(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,Mq(l,u,n[i]))}return r}function RC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,Dq(s,l,e))}return r}class EE extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fq extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $q{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g4();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const d=w4(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ct())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,((n,r)=>IC(n,r)))&&Yu(this.baseMutations,e.baseMutations,((n,r)=>IC(n,r)))}}class AE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Oq})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new AE(e,n,r,i)}}class qq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hq{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cn,ft;function Kq(t){switch(t){case pe.OK:return Ke(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Ke(15467,{code:t})}}function A4(t){if(t===void 0)return zs("GRPC error has no .code"),pe.UNKNOWN;switch(t){case Cn.OK:return pe.OK;case Cn.CANCELLED:return pe.CANCELLED;case Cn.UNKNOWN:return pe.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return pe.INTERNAL;case Cn.UNAVAILABLE:return pe.UNAVAILABLE;case Cn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Cn.NOT_FOUND:return pe.NOT_FOUND;case Cn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Cn.ABORTED:return pe.ABORTED;case Cn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Cn.DATA_LOSS:return pe.DATA_LOSS;default:return Ke(39323,{code:t})}}(ft=Cn||(Cn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";function Gq(){return new TextEncoder}const Yq=new Zo([4294967295,4294967295],0);function kC(t){const e=Gq().encode(t),n=new LM;return n.update(e),new Uint8Array(n.digest())}function DC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([i,s],0)]}class SE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ff(`Invalid padding: ${n}`);if(r<0)throw new Ff(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ff(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ff(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Zo.fromNumber(r)));return i.compare(Yq)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kC(e),[r,i]=DC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new SE(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=kC(e),[r,i]=DC(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ff extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ov{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ov(Xe.min(),i,new rn(lt),Bs(),ct())}}class Vh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vh(r,n,ct(),ct(),ct())}}class _g{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class S4{constructor(e,n){this.targetId=e,this.Ce=n}}class T4{constructor(e,n,r=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MC{constructor(){this.ve=0,this.Fe=LC(),this.Me=ar.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),r=ct();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ke(38017,{changeType:s})}})),new Vh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=LC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Wq{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=Hp(),this.He=Hp(),this.Ye=new rn(lt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(jw(s))if(r===0){const l=new Be(s.path);this.et(n,l,Er.newNoDocument(l,Xe.min()))}else wt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=sl(r).toUint8Array()}catch(d){if(d instanceof QM)return wc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new SE(l,i,s)}catch(d){return wc(d instanceof Ff?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&jw(u.target)){const d=new Be(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Er.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ct();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new ov(e,n,this.Ye,this.je,r);return this.je=Bs(),this.Je=Hp(),this.He=Hp(),this.Ye=new rn(lt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new MC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Fn(lt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Fn(lt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new MC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hp(){return new rn(Be.comparator)}function LC(){return new rn(Be.comparator)}const Xq={asc:"ASCENDING",desc:"DESCENDING"},Qq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jq={and:"AND",or:"OR"};class Zq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iw(t,e){return t.useProto3Json||tv(e)?e:{value:e}}function Fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eH(t,e){return Fg(t,e.toTimestamp())}function Ua(t){return wt(!!t,49232),Xe.fromTimestamp((function(n){const r=al(n);return new Lt(r.seconds,r.nanos)})(t))}function TE(t,e){return Pw(t,e).canonicalString()}function Pw(t,e){const n=(function(i){return new Bt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function j4(t){const e=Bt.fromString(t);return wt(R4(e),10190,{key:e.toString()}),e}function Rw(t,e){return TE(t.databaseId,e.path)}function Sx(t,e){const n=j4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(O4(n))}function C4(t,e){return TE(t.databaseId,e)}function tH(t){const e=j4(t);return e.length===4?Bt.emptyPath():O4(e)}function kw(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O4(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function VC(t,e,n){return{name:Rw(t,e),fields:n.value.mapValue.fields}}function nH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ke(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(wt(p===void 0||typeof p=="string",58123),ar.fromBase64String(p||"")):(wt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ar.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?pe.UNKNOWN:A4(h.code);return new Ce(p,h.message||"")})(l);n=new T4(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sx(t,r.document.name),s=Ua(r.document.updateTime),l=r.document.createTime?Ua(r.document.createTime):Xe.min(),u=new Gr({mapValue:{fields:r.document.fields}}),d=Er.newFoundDocument(i,s,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new _g(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sx(t,r.document),s=r.readTime?Ua(r.readTime):Xe.min(),l=Er.newNoDocument(i,s),u=r.removedTargetIds||[];n=new _g([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sx(t,r.document),s=r.removedTargetIds||[];n=new _g([],s,i,null)}else{if(!("filter"in e))return Ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Hq(i,s),u=r.targetId;n=new S4(u,l)}}return n}function rH(t,e){let n;if(e instanceof Lh)n={update:VC(t,e.key,e.value)};else if(e instanceof EE)n={delete:Rw(t,e.key)};else if(e instanceof vl)n={update:VC(t,e.key,e.data),updateMask:fH(e.fieldMask)};else{if(!(e instanceof Fq))return Ke(16599,{Vt:e.type});n={verify:Rw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof oh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ch)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Bg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ke(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:eH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ke(27497)})(t,e.precondition)),n}function iH(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ua(i.updateTime):Ua(s);return l.isEqual(Xe.min())&&(l=Ua(s)),new Uq(l,i.transformResults||[])})(n,e)))):[]}function aH(t,e){return{documents:[C4(t,e.path)]}}function sH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=C4(t,i);const s=(function(h){if(h.length!==0)return P4(da.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(b){return{field:Ru(b.field),direction:cH(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Iw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function oH(t){let e=tH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=I4(g);return b instanceof da&&o4(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(E){return new sh(ku(E.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,tv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,_=g.values||[];return new zg(_,b)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const b=!g.before,_=g.values||[];return new zg(_,b)})(n.endAt)),Sq(e,i,l,s,u,"F",d,h)}function lH(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function I4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ku(n.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ku(n.unaryFilter.field);return Pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ku(n.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ku(n.unaryFilter.field);return Pn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pn.create(ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return da.create(n.compositeFilter.filters.map((r=>I4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}})(n.compositeFilter.op))})(t):Ke(30097,{filter:t})}function cH(t){return Xq[t]}function uH(t){return Qq[t]}function dH(t){return Jq[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function ku(t){return nr.fromServerFormat(t.fieldPath)}function P4(t){return t instanceof Pn?(function(n){if(n.op==="=="){if(SC(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NAN"}};if(AC(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SC(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NAN"}};if(AC(n.value))return{unaryFilter:{field:Ru(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(n.field),op:uH(n.op),value:n.value}}})(t):t instanceof da?(function(n){const r=n.getFilters().map((i=>P4(i)));return r.length===1?r[0]:{compositeFilter:{op:dH(n.op),filters:r}}})(t):Ke(54877,{filter:t})}function fH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function R4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Wo{constructor(e,n,r,i,s=Xe.min(),l=Xe.min(),u=ar.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hH{constructor(e){this.yt=e}}function mH(t){const e=oH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ow(e,e.limit,"L"):e}class pH{constructor(){this.Cn=new gH}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(il.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(il.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class gH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(Bt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(Bt.comparator)).toArray()}}const UC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k4=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(k4,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);class Ju{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ju(0)}static cr(){return new Ju(-1)}}const zC="LruGarbageCollector",yH=1048576;function BC([t,e],[n,r]){const i=lt(t,n);return i===0?lt(e,r):i}class vH{constructor(e){this.Ir=e,this.buffer=new Fn(BC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(zC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hd(n)?ke(zC,"Ignoring IndexedDB error during garbage collection: ",n):await fd(n)}await this.Vr(3e5)}))}}class xH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(ev.ce);const r=new vH(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(UC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Iu()<=ot.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function _H(t,e){return new xH(t,e)}class wH{constructor(){this.changes=new Mc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class AH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Xf(r.mutation,i,di.empty(),Lt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ct()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ct()){const i=oc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Bf();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=oc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ct())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=Bs();const l=Wf(),u=(function(){return Wf()})();return n.forEach(((d,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof vl)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Xf(p.mutation,h,p.mutation.getFieldMask(),Lt.now())):l.set(h.key,di.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new EH(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Wf();let i=new rn(((l,u)=>l-u)),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||di.empty();p=u.applyToLocalView(h,p),r.set(d,p);const g=(i.get(u.batchId)||ct()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=g4();p.forEach((b=>{if(!s.has(b)){const _=w4(n.get(b),r.get(b));_!==null&&g.set(b,_),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ve.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ve.resolve(oc());let u=rh,d=s;return l.next((h=>ve.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?ve.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,ct()))).next((p=>({batchId:u,changes:p4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=Bf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Bf();return this.indexManager.getCollectionParents(e,s).next((u=>ve.forEach(u,(d=>{const h=(function(g,b){return new md(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Er.newInvalidDocument(p)))}));let u=Bf();return l.forEach(((d,h)=>{const p=s.get(d);p!==void 0&&Xf(p.mutation,h,di.empty(),Lt.now()),iv(n,h)&&(u=u.insert(d,h))})),u}))}}class SH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ua(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:mH(i.bundledQuery),readTime:Ua(i.readTime)}})(n)),ve.resolve()}}class TH{constructor(){this.overlays=new rn(Be.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oc();return ve.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=oc(),s=n.length+1,l=new Be(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=oc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=oc(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return ve.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new qq(n,r));let s=this.qr.get(n);s===void 0&&(s=ct(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class NH{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}class NE{constructor(){this.Qr=new Fn(er.$r),this.Ur=new Fn(er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new er(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new er(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Be(new Bt([])),r=new er(n,e),i=new er(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new Bt([])),r=new er(n,e),i=new er(n,e+1);let s=ct();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new er(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||lt(e.Yr,n.Yr)}static Kr(e,n){return lt(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}class jH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fn(er.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $q(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new er(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?gE:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new er(n,0),i=new er(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(lt);return n.forEach((i=>{const s=new er(i,0),l=new er(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Be.isDocumentKey(s)||(s=s.child(""));const l=new er(new Be(s),0);let u=new Fn(lt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Yr)),!0)}),l),ve.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const s=new er(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new er(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CH{constructor(e){this.ri=e,this.docs=(function(){return new rn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Er.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Bs();const l=n.path,u=new Be(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||rq(nq(p),r)<=0||(i.has(p.key)||iv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ke(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new OH(this)}getSize(e){return ve.resolve(this.size)}}class OH extends wH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class IH{constructor(e){this.persistence=e,this.si=new Mc((n=>bE(n)),xE),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new NE,this.targetCount=0,this.ai=Ju.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ju(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ve.waitFor(s).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),ve.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}class D4{constructor(e,n){this.ui={},this.overlays={},this.ci=new ev(0),this.li=!1,this.li=!0,this.hi=new NH,this.referenceDelegate=e(this),this.Pi=new IH(this),this.indexManager=new pH,this.remoteDocumentCache=(function(i){return new CH(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hH(n),this.Ii=new SH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new PH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class PH extends aq{constructor(e){super(),this.currentSequenceNumber=e}}class jE{constructor(e){this.persistence=e,this.Ri=new NE,this.Vi=null}static mi(e){return new jE(e)}get fi(){if(this.Vi)return this.Vi;throw Ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=Be.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $g{constructor(e,n){this.persistence=e,this.pi=new Mc((r=>lq(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=_H(this,n)}static mi(e,n){return new $g(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Xe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vg(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class CE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ct(),i=ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new CE(e,n.fromCache,r,i)}}class RH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return S8()?8:sq(Nr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new RH;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Iu()<=ot.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Iu()<=ot.DEBUG&&ke("QueryEngine","Query:",Pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Iu()<=ot.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Va(n))):ve.resolve())}ys(e,n){if(CC(n))return ve.resolve(null);let r=Va(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Ow(n,null,"F"),r=Va(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ct(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,u);return this.Cs(n,h,l,d.readTime)?this.ys(e,Ow(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return CC(n)||i.isEqual(Xe.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?ve.resolve(null):(Iu()<=ot.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pu(n)),this.vs(e,l,n,tq(i,rh)).next((u=>u)))}))}Ds(e,n){let r=new Fn(h4(e));return n.forEach(((i,s)=>{iv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Iu()<=ot.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Pu(n)),this.ps.getDocumentsMatchingQuery(e,n,il.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const OE="LocalStore",DH=3e8;class MH{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new rn(lt),this.xs=new Mc((s=>bE(s)),xE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LH(t,e,n,r){return new MH(t,e,n,r)}async function M4(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=ct();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function VH(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,b=g.keys();let _=ve.resolve();return b.forEach((E=>{_=_.next((()=>p.getEntry(d,E))).next((A=>{const S=h.docVersions.get(E);wt(S!==null,48541),A.version.compareTo(S)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=ct();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function L4(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function UH(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(ar.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(A,S,j){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=DH?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(s,_))}));let d=Bs(),h=ct();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(zH(s,l,e.documentUpdates).next((p=>{d=p.ks,h=p.qs}))),!r.isEqual(Xe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return ve.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function zH(t,e,n){let r=ct(),i=ct();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Bs();return n.forEach(((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Xe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ke(OE,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function BH(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=gE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function FH(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ve.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Wo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Dw(t,e,n){const r=Je(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!hd(l))throw l;ke(OE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function FC(t,e,n){const r=Je(t);let i=Xe.min(),s=ct();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,p){const g=Je(d),b=g.xs.get(p);return b!==void 0?ve.resolve(g.Ms.get(b)):g.Pi.getTargetData(h,p)})(r,l,Va(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Xe.min(),n?s:ct()))).next((u=>($H(r,Nq(e),u),{documents:u,Qs:s})))))}function $H(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class $C{constructor(){this.activeTargetIds=Rq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qH{constructor(){this.Mo=new $C,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $C,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HH{Oo(e){}shutdown(){}}const qC="ConnectivityMonitor";class HC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(qC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(qC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Kp=null;function Mw(){return Kp===null?Kp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kp++,"0x"+Kp.toString(16)}const Tx="RestConnection",KH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Vg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Mw(),u=this.zo(e,n.toUriEncodedString());ke(Tx,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:h}=new URL(u),p=kc(h);return this.Jo(e,u,d,r,p).then((g=>(ke(Tx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw wc(Tx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=KH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class YH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const br="WebChannelConnection";class WH extends GH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Mw();return new Promise(((u,d)=>{const h=new VM;h.setWithCredentials(!0),h.listenOnce(UM.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case yg.NO_ERROR:const g=h.getResponseJson();ke(br,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case yg.TIMEOUT:ke(br,`RPC '${e}' ${l} timed out`),d(new Ce(pe.DEADLINE_EXCEEDED,"Request time out"));break;case yg.HTTP_ERROR:const b=h.getStatus();if(ke(br,`RPC '${e}' ${l} failed with status:`,b,"response text:",h.getResponseText()),b>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const A=(function(j){const R=j.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(R)>=0?R:pe.UNKNOWN})(E.status);d(new Ce(A,E.message))}else d(new Ce(pe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ce(pe.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ke(br,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);ke(br,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Mw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=FM(),u=BM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");ke(br,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,_=!1;const E=new YH({Yo:S=>{_?ke(br,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(b||(ke(br,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),ke(br,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},Zo:()=>g.close()}),A=(S,j,R)=>{S.listen(j,(P=>{try{R(P)}catch(U){setTimeout((()=>{throw U}),0)}}))};return A(g,zf.EventType.OPEN,(()=>{_||(ke(br,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),A(g,zf.EventType.CLOSE,(()=>{_||(_=!0,ke(br,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(g))})),A(g,zf.EventType.ERROR,(S=>{_||(_=!0,wc(br,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new Ce(pe.UNAVAILABLE,"The operation could not be completed")))})),A(g,zf.EventType.MESSAGE,(S=>{if(!_){const j=S.data[0];wt(!!j,16349);const R=j,P=R?.error||R[0]?.error;if(P){ke(br,`RPC '${e}' stream ${i} received error:`,P);const U=P.status;let V=(function(I){const D=Cn[I];if(D!==void 0)return A4(D)})(U),$=P.message;V===void 0&&(V=pe.INTERNAL,$="Unknown error status: "+U+" with message "+P.message),_=!0,E.a_(new Ce(V,$)),g.close()}else ke(br,`RPC '${e}' stream ${i} received:`,j),E.u_(j)}})),A(u,zM.STAT_EVENT,(S=>{S.stat===Ew.PROXY?ke(br,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Ew.NOPROXY&&ke(br,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nx(){return typeof document<"u"?document:null}function lv(t){return new Zq(t,!0)}class V4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const KC="PersistentStream";class U4{constructor(e,n,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ce(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(KC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ke(KC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XH extends U4{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nH(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Xe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Xe.min():l.readTime?Ua(l.readTime):Xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=kw(this.serializer),n.addTarget=(function(s,l){let u;const d=l.target;if(u=jw(d)?{documents:aH(s,d)}:{query:sH(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=N4(s,l.resumeToken);const h=Iw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Xe.min())>0){u.readTime=Fg(s,l.snapshotVersion.toTimestamp());const h=Iw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=lH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=kw(this.serializer),n.removeTarget=e,this.q_(n)}}class QH extends U4{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iH(e.writeResults,e.commitTime),r=Ua(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=kw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rH(this.serializer,r)))};this.q_(n)}}class JH{}class ZH extends JH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ce(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Pw(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ce(pe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Pw(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(pe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ec="RemoteStore";class tK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Lc(this)&&(ke(Ec,"Restarting streams for network reachability change."),await(async function(d){const h=Je(d);h.Ea.add(4),await Uh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await cv(h)})(this))}))})),this.Ra=new eK(r,i)}}async function cv(t){if(Lc(t))for(const e of t.da)await e(!0)}async function Uh(t){for(const e of t.da)await e(!1)}function z4(t,e){const n=Je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kE(n)?RE(n):pd(n).O_()&&PE(n,e))}function IE(t,e){const n=Je(t),r=pd(n);n.Ia.delete(e),r.O_()&&B4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Lc(n)&&n.Ra.set("Unknown"))}function PE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pd(t).Y_(e)}function B4(t,e){t.Va.Ue(e),pd(t).Z_(e)}function RE(t){t.Va=new Wq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pd(t).start(),t.Ra.ua()}function kE(t){return Lc(t)&&!pd(t).x_()&&t.Ia.size>0}function Lc(t){return Je(t).Ea.size===0}function F4(t){t.Va=void 0}async function nK(t){t.Ra.set("Online")}async function rK(t){t.Ia.forEach(((e,n)=>{PE(t,e)}))}async function iK(t,e){F4(t),kE(t)?(t.Ra.ha(e),RE(t)):t.Ra.set("Unknown")}async function aK(t,e,n){if(t.Ra.set("Online"),e instanceof T4&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){ke(Ec,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qg(t,r)}else if(e instanceof _g?t.Va.Ze(e):e instanceof S4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await L4(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(ar.EMPTY_BYTE_STRING,p.snapshotVersion)),B4(s,d);const g=new Wo(p.target,d,h,p.sequenceNumber);PE(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){ke(Ec,"Failed to raise snapshot:",r),await qg(t,r)}}async function qg(t,e,n){if(!hd(e))throw e;t.Ea.add(1),await Uh(t),t.Ra.set("Offline"),n||(n=()=>L4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ke(Ec,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cv(t)}))}function $4(t,e){return e().catch((n=>qg(t,n,e)))}async function uv(t){const e=Je(t),n=ll(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gE;for(;sK(e);)try{const i=await BH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,oK(e,i)}catch(i){await qg(e,i)}q4(e)&&H4(e)}function sK(t){return Lc(t)&&t.Ta.length<10}function oK(t,e){t.Ta.push(e);const n=ll(t);n.O_()&&n.X_&&n.ea(e.mutations)}function q4(t){return Lc(t)&&!ll(t).x_()&&t.Ta.length>0}function H4(t){ll(t).start()}async function lK(t){ll(t).ra()}async function cK(t){const e=ll(t);for(const n of t.Ta)e.ea(n.mutations)}async function uK(t,e,n){const r=t.Ta.shift(),i=AE.from(r,e,n);await $4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await uv(t)}async function dK(t,e){e&&ll(t).X_&&await(async function(r,i){if((function(l){return Kq(l)&&l!==pe.ABORTED})(i.code)){const s=r.Ta.shift();ll(r).B_(),await $4(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await uv(r)}})(t,e),q4(t)&&H4(t)}async function GC(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),ke(Ec,"RemoteStore received new credentials");const r=Lc(n);n.Ea.add(3),await Uh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cv(n)}async function fK(t,e){const n=Je(t);e?(n.Ea.delete(2),await cv(n)):e||(n.Ea.add(2),await Uh(n),n.Ra.set("Unknown"))}function pd(t){return t.ma||(t.ma=(function(n,r,i){const s=Je(n);return s.sa(),new XH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:nK.bind(null,t),t_:rK.bind(null,t),r_:iK.bind(null,t),H_:aK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),kE(t)?RE(t):t.Ra.set("Unknown")):(await t.ma.stop(),F4(t))}))),t.ma}function ll(t){return t.fa||(t.fa=(function(n,r,i){const s=Je(n);return s.sa(),new QH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lK.bind(null,t),r_:dK.bind(null,t),ta:cK.bind(null,t),na:uK.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await uv(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(Ec,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class DE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new DE(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ME(t,e){if(zs("AsyncQueue",`${e}: ${t}`),hd(t))return new Ce(pe.UNAVAILABLE,`${e}: ${t}`);throw t}class $u{static emptySet(e){return new $u(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Bf(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $u)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $u;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class YC{constructor(){this.ga=new rn(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Zu{constructor(e,n,r,i,s,l,u,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Zu(e,n,$u.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class hK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mK{constructor(){this.queries=WC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Je(n),s=i.queries;i.queries=WC(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Ce(pe.ABORTED,"Firestore shutting down"))}}function WC(){return new Mc((t=>f4(t)),rv)}async function K4(t,e){const n=Je(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new hK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=ME(l,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&LE(n)}async function G4(t,e){const n=Je(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pK(t,e){const n=Je(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&LE(n)}function gK(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function LE(t){t.Ca.forEach((e=>{e.next()}))}var Lw,XC;(XC=Lw||(Lw={})).Ma="default",XC.Cache="cache";class Y4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lw.Cache}}class W4{constructor(e){this.key=e}}class X4{constructor(e){this.key=e}}class yK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=h4(e),this.tu=new $u(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new YC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),_=iv(this.query,g)?g:null,E=!!b&&this.mutatedKeys.has(b.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;b&&_?b.data.isEqual(_.data)?E!==A&&(r.track({type:3,doc:_}),S=!0):this.su(b,_)||(r.track({type:2,doc:_}),S=!0,(d&&this.eu(_,d)>0||h&&this.eu(_,h)<0)&&(u=!0)):!b&&_?(r.track({type:0,doc:_}),S=!0):b&&!_&&(r.track({type:1,doc:b}),S=!0,(d||h)&&(u=!0)),S&&(_?(l=l.add(_),s=A?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Rt:S})}};return A(_)-A(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new Zu(this.query,e.tu,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new X4(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new W4(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const VE="SyncEngine";class vK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bK{constructor(e){this.key=e,this.hu=!1}}class xK{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Mc((u=>f4(u)),rv),this.Iu=new Map,this.Eu=new Set,this.du=new rn(Be.comparator),this.Au=new Map,this.Ru=new NE,this.Vu={},this.mu=new Map,this.fu=Ju.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _K(t,e,n=!0){const r=nL(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Q4(r,e,n,!0),i}async function wK(t,e){const n=nL(t);await Q4(n,e,!0,!1)}async function Q4(t,e,n,r){const i=await FH(t.localStore,Va(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await EK(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&z4(t.remoteStore,i),u}async function EK(t,e,n,r,i){t.pu=(g,b,_)=>(async function(A,S,j,R){let P=S.view.ru(j);P.Cs&&(P=await FC(A.localStore,S.query,!1).then((({documents:O})=>S.view.ru(O,P))));const U=R&&R.targetChanges.get(S.targetId),V=R&&R.targetMismatches.get(S.targetId)!=null,$=S.view.applyChanges(P,A.isPrimaryClient,U,V);return JC(A,S.targetId,$.au),$.snapshot})(t,g,b,_);const s=await FC(t.localStore,e,!0),l=new yK(e,s.Qs),u=l.ru(s.documents),d=Vh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);JC(t,n,h.au);const p=new vK(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function AK(t,e,n){const r=Je(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!rv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dw(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&IE(r.remoteStore,i.targetId),Vw(r,i.targetId)})).catch(fd)):(Vw(r,i.targetId),await Dw(r.localStore,i.targetId,!0))}async function SK(t,e){const n=Je(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),IE(n.remoteStore,r.targetId))}async function TK(t,e,n){const r=RK(t);try{const i=await(function(l,u){const d=Je(l),h=Lt.now(),p=u.reduce(((_,E)=>_.add(E.key)),ct());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=Bs(),A=ct();return d.Ns.getEntries(_,p).next((S=>{E=S,E.forEach(((j,R)=>{R.isValidDocument()||(A=A.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,E))).next((S=>{g=S;const j=[];for(const R of u){const P=Bq(R,g.get(R.key).overlayedDocument);P!=null&&j.push(new vl(R.key,P,i4(P.value.mapValue),Li.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,j,u)})).next((S=>{b=S;const j=S.applyToLocalDocumentSet(g,A);return d.documentOverlayCache.saveOverlays(_,S.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:p4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new rn(lt)),h=h.insert(u,d),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await zh(r,i.changes),await uv(r.remoteStore)}catch(i){const s=ME(i,"Failed to persist write");n.reject(s)}}async function J4(t,e){const n=Je(t);try{const r=await UH(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?wt(l.hu,14607):i.removedDocuments.size>0&&(wt(l.hu,42227),l.hu=!1))})),await zh(n,r,e)}catch(r){await fd(r)}}function QC(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Je(l);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(h=!0)})),h&&LE(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NK(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new rn(Be.comparator);l=l.insert(s,Er.newNoDocument(s,Xe.min()));const u=ct().add(s),d=new ov(Xe.min(),new Map,new rn(lt),l,u);await J4(r,d),r.du=r.du.remove(s),r.Au.delete(e),UE(r)}else await Dw(r.localStore,e,!1).then((()=>Vw(r,e,n))).catch(fd)}async function jK(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await VH(n.localStore,e);eL(n,r,null),Z4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zh(n,i)}catch(i){await fd(i)}}async function CK(t,e,n){const r=Je(t);try{const i=await(function(l,u){const d=Je(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(wt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);eL(r,e,n),Z4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zh(r,i)}catch(i){await fd(i)}}function Z4(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function eL(t,e,n){const r=Je(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Vw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||tL(t,r)}))}function tL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(IE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),UE(t))}function JC(t,e,n){for(const r of n)r instanceof W4?(t.Ru.addReference(r.key,e),OK(t,r)):r instanceof X4?(ke(VE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tL(t,r.key)):Ke(19791,{wu:r})}function OK(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ke(VE,"New document in limbo: "+n),t.Eu.add(r),UE(t))}function UE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(Bt.fromString(e)),r=t.fu.next();t.Au.set(r,new bK(n)),t.du=t.du.insert(n,r),z4(t.remoteStore,new Wo(Va(_E(n.path)),r,"TargetPurposeLimboResolution",ev.ce))}}async function zh(t,e,n){const r=Je(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(h){i.push(h);const p=CE.As(d.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,h){const p=Je(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ve.forEach(h,(b=>ve.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(g,b.targetId,_))).next((()=>ve.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(g,b.targetId,_)))))))))}catch(g){if(!hd(g))throw g;ke(OE,"Failed to update sequence numbers: "+g)}for(const g of h){const b=g.targetId;if(!g.fromCache){const _=p.Ms.get(b),E=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(b,A)}}})(r.localStore,s))}async function IK(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){ke(VE,"User change. New user:",e.toKey());const r=await M4(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new Ce(pe.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zh(n,r.Ls)}}function PK(t,e){const n=Je(t),r=n.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let i=ct();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function nL(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NK.bind(null,e),e.Pu.H_=pK.bind(null,e.eventManager),e.Pu.yu=gK.bind(null,e.eventManager),e}function RK(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CK.bind(null,e),e}class Hg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LH(this.persistence,new kH,e.initialUser,this.serializer)}Cu(e){return new D4(jE.mi,this.serializer)}Du(e){return new qH}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hg.provider={build:()=>new Hg};class kK extends Hg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof $g,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new D4((r=>$g.mi(r,n)),this.serializer)}}class Uw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IK.bind(null,this.syncEngine),await fK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mK})()}createDatastore(e){const n=lv(e.databaseInfo.databaseId),r=(function(s){return new WH(s)})(e.databaseInfo);return(function(s,l,u,d){return new ZH(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new tK(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>QC(this.syncEngine,n,0)),(function(){return HC.v()?new HC:new HH})())}createSyncEngine(e,n){return(function(i,s,l,u,d,h,p){const g=new xK(i,s,l,u,d,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Je(n);ke(Ec,"RemoteStore shutting down."),r.Ea.add(5),await Uh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Uw.provider={build:()=>new Uw};class rL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const cl="FirestoreClient";class DK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wr.UNAUTHENTICATED,this.clientId=Jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{ke(cl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ke(cl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ME(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jx(t,e){t.asyncQueue.verifyOperationInProgress(),ke(cl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await M4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ZC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MK(t);ke(cl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>GC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>GC(e.remoteStore,i))),t._onlineComponents=e}async function MK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(cl,"Using user provided OfflineComponentProvider");try{await jx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;wc("Error using user provided cache. Falling back to memory cache: "+n),await jx(t,new Hg)}}else ke(cl,"Using default OfflineComponentProvider"),await jx(t,new kK(void 0));return t._offlineComponents}async function iL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(cl,"Using user provided OnlineComponentProvider"),await ZC(t,t._uninitializedComponentsProvider._online)):(ke(cl,"Using default OnlineComponentProvider"),await ZC(t,new Uw))),t._onlineComponents}function LK(t){return iL(t).then((e=>e.syncEngine))}async function aL(t){const e=await iL(t),n=e.eventManager;return n.onListen=_K.bind(null,e.syncEngine),n.onUnlisten=AK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SK.bind(null,e.syncEngine),n}function VK(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new rL({next:b=>{p.Nu(),l.enqueueAndForget((()=>G4(s,g)));const _=b.docs.has(u);!_&&b.fromCache?h.reject(new Ce(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&d&&d.source==="server"?h.reject(new Ce(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new Y4(_E(u.path),p,{includeMetadataChanges:!0,qa:!0});return K4(s,g)})(await aL(t),t.asyncQueue,e,n,r))),r.promise}function UK(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new rL({next:b=>{p.Nu(),l.enqueueAndForget((()=>G4(s,g))),b.fromCache&&d.source==="server"?h.reject(new Ce(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),g=new Y4(u,p,{includeMetadataChanges:!0,qa:!0});return K4(s,g)})(await aL(t),t.asyncQueue,e,n,r))),r.promise}function sL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const eO=new Map;const oL="firestore.googleapis.com",tO=!0;class nO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oL,this.ssl=tO}else this.host=e.host,this.ssl=e.ssl??tO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yH)throw new Ce(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ce(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HM;switch(r.type){case"firstParty":return new W$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=eO.get(n);r&&(ke("ComponentProvider","Removing Datastore"),eO.delete(n),r.terminate())})(this),Promise.resolve()}}function lL(t,e,n,r={}){t=Ui(t,dv);const i=kc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(eE(`https://${u}`),tE("Firestore",!0)),s.host!==oL&&s.host!==u&&wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!vc(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=wr.MOCK_USER;else{h=tM(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ce(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new wr(g)}t._authCredentials=new K$(new qM(h,p))}}class bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mh(n,dn._jsonSchema))return new dn(e,r||null,new Be(Bt.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Rn("string",dn._jsonSchemaVersion),referencePath:Rn("string")};class ks extends bl{constructor(e,n,r){super(e,n,_E(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Be(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function Kt(t,e,...n){if(t=ir(t),KM("collection","path",e),t instanceof dv){const r=Bt.fromString(e,...n);return pC(r),new ks(t,null,r)}{if(!(t instanceof dn||t instanceof ks))throw new Ce(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return pC(r),new ks(t.firestore,null,r)}}function Pt(t,e,...n){if(t=ir(t),arguments.length===1&&(e=Jy.newId()),KM("doc","path",e),t instanceof dv){const r=Bt.fromString(e,...n);return mC(r),new dn(t,null,new Be(r))}{if(!(t instanceof dn||t instanceof ks))throw new Ce(pe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return mC(r),new dn(t.firestore,t instanceof ks?t.converter:null,new Be(r))}}const rO="AsyncQueue";class iO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V4(this,"async_queue_retry"),this._c=()=>{const r=Nx();r&&ke(rO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hd(e))throw e;ke(rO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",aO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=DE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ke(47125,{Pc:aO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xl extends dv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iO(e),this._firestoreClient=void 0,await e}}}function cL(t,e){const n=typeof t=="object"?t:iE(),r=typeof t=="string"?t:Vg,i=Yy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JD("firestore");s&&lL(i,...s)}return i}function fv(t){if(t._terminated)throw new Ce(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zK(t),t._firestoreClient}function zK(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new dq(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,sL(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new DK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(ar.fromBase64String(e))}catch(n){throw new Ce(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mh(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Rn("string",ci._jsonSchemaVersion),bytes:Rn("string")};class Bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fh{constructor(e){this._methodName=e}}class la{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:la._jsonSchemaVersion}}static fromJSON(e){if(Mh(e,la._jsonSchema))return new la(e.latitude,e.longitude)}}la._jsonSchemaVersion="firestore/geoPoint/1.0",la._jsonSchema={type:Rn("string",la._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};class ca{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mh(e,ca._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ca(e.vectorValues);throw new Ce(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ca._jsonSchemaVersion="firestore/vectorValue/1.0",ca._jsonSchema={type:Rn("string",ca._jsonSchemaVersion),vectorValues:Rn("object")};const BK=/^__.*__$/;class FK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lh(e,this.data,n,this.fieldTransforms)}}class uL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{Ac:t})}}class zE{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dL(this.Ac)&&BK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $K{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lv(e)}Cc(e,n,r,i=!1){return new zE({Ac:e,methodName:n,Dc:r,path:nr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hv(t){const e=t._freezeSettings(),n=lv(t._databaseId);return new $K(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fL(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);FE("Data must be an object, but it was:",l,r);const u=hL(r,l);let d,h;if(s.merge)d=new di(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=zw(e,g,n);if(!l.contains(b))throw new Ce(pe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);pL(p,b)||p.push(b)}d=new di(p),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new FK(new Gr(u),d,h)}class mv extends Fh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mv}}class BE extends Fh{_toFieldTransform(e){return new Lq(e.path,new oh)}isEqual(e){return e instanceof BE}}function qK(t,e,n,r){const i=t.Cc(1,e,n);FE("Data must be an object, but it was:",i,r);const s=[],l=Gr.empty();yl(r,((d,h)=>{const p=$E(e,d,n);h=ir(h);const g=i.yc(p);if(h instanceof mv)s.push(p);else{const b=$h(h,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new di(s);return new uL(l,u,i.fieldTransforms)}function HK(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[zw(e,r,n)],d=[i];if(s.length%2!=0)throw new Ce(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(zw(e,s[b])),d.push(s[b+1]);const h=[],p=Gr.empty();for(let b=u.length-1;b>=0;--b)if(!pL(h,u[b])){const _=u[b];let E=d[b];E=ir(E);const A=l.yc(_);if(E instanceof mv)h.push(_);else{const S=$h(E,A);S!=null&&(h.push(_),p.set(_,S))}}const g=new di(h);return new uL(p,g,l.fieldTransforms)}function KK(t,e,n,r=!1){return $h(n,t.Cc(r?4:3,e))}function $h(t,e){if(mL(t=ir(t)))return FE("Unsupported field value:",e,t),hL(t,e);if(t instanceof Fh)return(function(r,i){if(!dL(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=$h(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Lt.fromDate(r);return{timestampValue:Fg(i.serializer,s)}}if(r instanceof Lt){const s=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fg(i.serializer,s)}}if(r instanceof la)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:N4(i.serializer,r._byteString)};if(r instanceof dn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:TE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ca)return(function(l,u){return{mapValue:{fields:{[n4]:{stringValue:r4},[Ug]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return wE(u.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Zy(r)}`)})(t,e)}function hL(t,e){const n={};return XM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,((r,i)=>{const s=$h(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function mL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof la||t instanceof ci||t instanceof dn||t instanceof Fh||t instanceof ca)}function FE(t,e,n){if(!mL(n)||!YM(n)){const r=Zy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function zw(t,e,n){if((e=ir(e))instanceof Bh)return e._internalPath;if(typeof e=="string")return $E(t,e);throw Kg("Field path arguments must be of type string or ",t,!1,void 0,n)}const GK=new RegExp("[~\\*/\\[\\]]");function $E(t,e,n){if(e.search(GK)>=0)throw Kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bh(...e.split("."))._internalPath}catch{throw Kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ce(pe.INVALID_ARGUMENT,u+t+d)}function pL(t,e){return t.some((n=>n.isEqual(e)))}class gL{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YK extends gL{data(){return super.data()}}function pv(t,e){return typeof e=="string"?$E(t,e):e instanceof Bh?e._internalPath:e._delegate._internalPath}function WK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qE{}class HE extends qE{}function fa(t,e,...n){let r=[];e instanceof qE&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof gv)).length,u=s.filter((d=>d instanceof qh)).length;if(l>1||l>0&&u>0)throw new Ce(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class qh extends HE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qh(e,n,r)}_apply(e){const n=this._parse(e);return yL(e._query,n),new bl(e.firestore,e.converter,Cw(e._query,n))}_parse(e){const n=hv(e.firestore);return(function(s,l,u,d,h,p,g){let b;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ce(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){oO(g,p);const E=[];for(const A of g)E.push(sO(d,s,A));b={arrayValue:{values:E}}}else b=sO(d,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||oO(g,p),b=KK(u,l,g,p==="in"||p==="not-in");return Pn.create(h,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bw(t,e,n){const r=e,i=pv("where",t);return qh._create(i,r,n)}class gv extends qE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:da.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)yL(l,d),l=Cw(l,d)})(e._query,n),new bl(e.firestore,e.converter,Cw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yv extends HE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yv(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ce(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ce(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sh(s,l)})(e._query,this._field,this._direction);return new bl(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new md(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function ul(t,e="asc"){const n=e,r=pv("orderBy",t);return yv._create(r,n)}function sO(t,e,n){if(typeof(n=ir(n))=="string"){if(n==="")throw new Ce(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d4(e)&&n.indexOf("/")!==-1)throw new Ce(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bt.fromString(n));if(!Be.isDocumentKey(r))throw new Ce(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EC(t,new Be(r))}if(n instanceof dn)return EC(t,n._key);throw new Ce(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zy(n)}.`)}function oO(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yL(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ce(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vL{convertValue(e,n="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Ug].arrayValue?.values?.map((r=>bn(r.doubleValue)));return new ca(n)}convertGeoPoint(e){return new la(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=al(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);wt(R4(r),9688,{name:e});const i=new Wu(r.get(1),r.get(3)),s=new Be(r.popFirst(5));return i.isEqual(n)||zs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function bL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class el extends gL{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=el._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}el._jsonSchemaVersion="firestore/documentSnapshot/1.0",el._jsonSchema={type:Rn("string",el._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class Qf extends el{data(e={}){return super.data(e)}}class hc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Qf(this._firestore,this._userDataWriter,r.key,r,new Mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new Qf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Mu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new Qf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Mu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:XK(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}function dl(t){t=Ui(t,dn);const e=Ui(t.firestore,xl);return VK(fv(e),t._key).then((n=>QK(e,t,n)))}hc._jsonSchemaVersion="firestore/querySnapshot/1.0",hc._jsonSchema={type:Rn("string",hc._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class xL extends vL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function Bn(t){t=Ui(t,bl);const e=Ui(t.firestore,xl),n=fv(e),r=new xL(e);return WK(t._query),UK(n,t._query).then((i=>new hc(e,r,t,i)))}function _l(t,e,n){t=Ui(t,dn);const r=Ui(t.firestore,xl),i=bL(t.converter,e,n);return Hh(r,[fL(hv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Li.none())])}function gd(t,e,n,...r){t=Ui(t,dn);const i=Ui(t.firestore,xl),s=hv(i);let l;return l=typeof(e=ir(e))=="string"||e instanceof Bh?HK(s,"updateDoc",t._key,e,n,r):qK(s,"updateDoc",t._key,e),Hh(i,[l.toMutation(t._key,Li.exists(!0))])}function Vc(t){return Hh(Ui(t.firestore,xl),[new EE(t._key,Li.none())])}function fl(t,e){const n=Ui(t.firestore,xl),r=Pt(t),i=bL(t.converter,e);return Hh(n,[fL(hv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Li.exists(!1))]).then((()=>r))}function Hh(t,e){return(function(r,i){const s=new Rs;return r.asyncQueue.enqueueAndForget((async()=>TK(await LK(r),i,s))),s.promise})(fv(t),e)}function QK(t,e,n){const r=n.docs.get(e._key),i=new xL(t);return new el(t,i,e._key,r,new Mu(n.hasPendingWrites,n.fromCache),e.converter)}function kn(){return new BE("serverTimestamp")}(function(e,n=!0){(function(i){dd=i})(Dc),bc(new rl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new xl(new G$(r.getProvider("auth-internal")),new X$(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ce(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Ma(uC,dC,e),Ma(uC,dC,"esm2020")})();const JK=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:vL,Bytes:ci,CollectionReference:ks,DocumentReference:dn,DocumentSnapshot:el,FieldPath:Bh,FieldValue:Fh,Firestore:xl,FirestoreError:Ce,GeoPoint:la,Query:bl,QueryCompositeFilterConstraint:gv,QueryConstraint:HE,QueryDocumentSnapshot:Qf,QueryFieldFilterConstraint:qh,QueryOrderByConstraint:yv,QuerySnapshot:hc,SnapshotMetadata:Mu,Timestamp:Lt,VectorValue:ca,_AutoId:Jy,_ByteString:ar,_DatabaseId:Wu,_DocumentKey:Be,_EmptyAuthCredentialsProvider:HM,_FieldPath:nr,_cast:Ui,_logWarn:wc,_validateIsNotUsedTogether:GM,addDoc:fl,collection:Kt,connectFirestoreEmulator:lL,deleteDoc:Vc,doc:Pt,ensureFirestoreConfigured:fv,executeWrite:Hh,getDoc:dl,getDocs:Bn,getFirestore:cL,orderBy:ul,query:fa,serverTimestamp:kn,setDoc:_l,updateDoc:gd,where:Bw},Symbol.toStringTag,{value:"Module"}));const _L="firebasestorage.googleapis.com",ZK="storageBucket",eG=120*1e3,tG=600*1e3;class Qa extends Xa{constructor(e,n,r=0){super(Cx(e),`Firebase Storage: ${n} (${Cx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $a;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($a||($a={}));function Cx(t){return"storage/"+t}function nG(){const t="An unknown error occurred, please check the error payload for server response.";return new Qa($a.UNKNOWN,t)}function rG(){return new Qa($a.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iG(){return new Qa($a.CANCELED,"User canceled the upload/download.")}function aG(t){return new Qa($a.INVALID_URL,"Invalid URL '"+t+"'.")}function sG(t){return new Qa($a.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lO(t){return new Qa($a.INVALID_ARGUMENT,t)}function wL(){return new Qa($a.APP_DELETED,"The Firebase app was deleted.")}function oG(t){return new Qa($a.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class sa{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sa.makeFromUrl(e,n)}catch{return new sa(e,"")}if(r.path==="")return r;throw sG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function h(U){U.path_=decodeURIComponent(U.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${p}/b/${i}/o${b}`,"i"),E={bucket:1,path:3},A=n===_L?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",j=new RegExp(`^https?://${A}/${i}/${S}`,"i"),P=[{regex:u,indices:d,postModify:s},{regex:_,indices:E,postModify:h},{regex:j,indices:{bucket:1,path:2},postModify:h}];for(let U=0;U<P.length;U++){const V=P[U],$=V.regex.exec(e);if($){const O=$[V.indices.bucket];let I=$[V.indices.path];I||(I=""),r=new sa(O,I),V.postModify(r);break}}if(r==null)throw aG(e);return r}}class lG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cG(t,e,n){let r=1,i=null,s=null,l=!1,u=0;function d(){return u===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(_,d())},S)}function b(){s&&clearTimeout(s)}function _(S,...j){if(h){b();return}if(S){b(),p.call(null,S,...j);return}if(d()||l){b(),p.call(null,S,...j);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,g(P)}let E=!1;function A(S){E||(E=!0,b(),!h&&(i!==null?(S||(u=2),clearTimeout(i),g(0)):S||(u=1)))}return g(0),s=setTimeout(()=>{l=!0,A(!0)},n),A}function uG(t){t(!1)}function dG(t){return t!==void 0}function cO(t,e,n,r){if(r<e)throw lO(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lO(`Invalid value for '${t}'. Expected ${n} or less.`)}function fG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Gg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gg||(Gg={}));function hG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class mG{constructor(e,n,r,i,s,l,u,d,h,p,g,b=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=b,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Gp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===Gg.NO_ERROR,d=s.getStatus();if(!u||hG(d,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Gg.ABORT;r(!1,new Gp(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Gp(h,s))})},n=(r,i)=>{const s=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());dG(d)?s(d):s()}catch(d){l(d)}else if(u!==null){const d=nG();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?wL():iG();l(d)}else{const d=rG();l(d)}};this.canceled_?n(!1,new Gp(!1,null,!0)):this.backoffId_=cG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bG(t,e,n,r,i,s,l=!0,u=!1){const d=fG(t.urlParams),h=t.url+d,p=Object.assign({},t.headers);return yG(p,e),pG(p,n),gG(p,s),vG(p,r),new mG(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}function xG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _G(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Yg{constructor(e,n){this._service=e,n instanceof sa?this._location=n:this._location=sa.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yg(e,n)}get root(){const e=new sa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _G(this._location.path)}get storage(){return this._service}get parent(){const e=xG(this._location.path);if(e===null)return null;const n=new sa(this._location.bucket,e);return new Yg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oG(e)}}function uO(t,e){const n=e?.[ZK];return n==null?null:sa.makeFromBucketSpec(n,t)}function wG(t,e,n,r={}){t.host=`${e}:${n}`;const i=kc(e);i&&(eE(`https://${t.host}/b`),tE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:tM(s,t.app.options.projectId))}class EG{constructor(e,n,r,i,s,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=l,this._bucket=null,this._host=_L,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eG,this._maxUploadRetryTime=tG,this._requests=new Set,i!=null?this._bucket=sa.makeFromBucketSpec(i,this._host):this._bucket=uO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sa.makeFromBucketSpec(this._url,e):this._bucket=uO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yg(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new lG(wL());{const l=bG(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const dO="@firebase/storage",fO="0.14.0";const EL="storage";function AG(t=iE(),e){t=ir(t);const r=Yy(t,EL).getImmediate({identifier:e}),i=JD("storage");return i&&SG(r,...i),r}function SG(t,e,n,r={}){wG(t,e,n,r)}function TG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new EG(n,r,i,e,Dc)}function NG(){bc(new rl(EL,TG,"PUBLIC").setMultipleInstances(!0)),Ma(dO,fO,""),Ma(dO,fO,"esm2020")}NG();const jG={apiKey:"AIzaSyDz3vsbqrhPE4lBtcn2uYxkhPL5HkY7L5g",authDomain:"portfolio-migration-sim-12345.firebaseapp.com",projectId:"portfolio-migration-sim-12345",storageBucket:"portfolio-migration-sim-12345.firebasestorage.app",messagingSenderId:"17043064316",appId:"1:17043064316:web:743f01331a943f58f0de79",measurementId:"G-WJCM13NSQP"},KE=iM(jG),Ox=F$(KE),He=cL(KE);AG(KE);const AL=w.createContext();function gi(){return w.useContext(AL)}function CG({children:t}){const[e,n]=w.useState(null),[r,i]=w.useState(!0);function s(){const d=new Ss;return Q7(Ox,d)}function l(){return I7(Ox)}w.useEffect(()=>O7(Ox,h=>{n(h),i(!1)}),[]);const u={currentUser:e,loginWithGoogle:s,logout:l};return f.jsx(AL.Provider,{value:u,children:!r&&t})}function OG(){const{currentUser:t,logout:e}=gi(),n=qy();async function r(){try{await e(),n("/login")}catch{console.error("Failed to log out")}}return t?f.jsx("nav",{className:"bg-white shadow",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex",children:[f.jsx(On,{to:"/",className:"flex-shrink-0 flex items-center font-bold text-xl text-blue-600",children:"LifeScape"}),f.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[f.jsx(On,{to:"/",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:""}),f.jsx(On,{to:"/assets",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:""}),f.jsx(On,{to:"/properties",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:""}),f.jsx(On,{to:"/loans",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:""}),f.jsx(On,{to:"/cashflow",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:""}),f.jsx(On,{to:"/investments",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:""}),f.jsx(On,{to:"/life-plan",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:""}),f.jsx(On,{to:"/chat",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"AI"})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(On,{to:"/help",className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:""}),f.jsx(On,{to:"/settings",className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:""}),f.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:""})]})]})})}):null}function IG(){const t=Qs(),e=r=>t.pathname===r,n=[{path:"/",label:"",icon:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{path:"/assets",label:"",icon:f.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})},{path:"/properties",label:"",icon:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{path:"/life-plan",label:"",icon:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{path:"/settings",label:"",icon:f.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];return f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe md:hidden z-50",children:f.jsx("div",{className:"flex justify-around items-center h-16",children:n.map(r=>f.jsxs(On,{to:r.path,className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${e(r.path)?"text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:[r.icon,f.jsx("span",{className:"text-[10px] font-medium",children:r.label})]},r.path))})})}function SL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ht(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SL(t))&&(r&&(r+=" "),r+=e);return r}var PG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GE(t){if(typeof t!="string")return!1;var e=PG;return e.includes(t)}var RG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kG=new Set(RG);function TL(t){return typeof t!="string"?!1:kG.has(t)}function NL(t){return typeof t=="string"&&t.startsWith("data-")}function kr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(TL(n)||NL(n))&&(e[n]=t[n]);return e}function Ac(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return kr(e)}return typeof t=="object"&&!Array.isArray(t)?kr(t):null}function jr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(TL(n)||NL(n)||GE(n))&&(e[n]=t[n]);return e}function DG(t){return t==null?null:w.isValidElement(t)?jr(t.props):typeof t=="object"&&!Array.isArray(t)?jr(t):null}var MG=["children","width","height","viewBox","className","style","title","desc"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(null,arguments)}function LG(t,e){if(t==null)return{};var n,r,i=VG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YE=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:h}=t,p=LG(t,MG),g=s||{width:r,height:i,x:0,y:0},b=ht("recharts-surface",l);return w.createElement("svg",Fw({},jr(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,h),n)}),UG=["children","className"];function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}function zG(t,e){if(t==null)return{};var n,r,i=BG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hn=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=zG(t,UG),s=ht("recharts-layer",r);return w.createElement("g",$w({className:s},jr(i),{ref:e}),n)}),jL=w.createContext(null),FG=()=>w.useContext(jL);function zt(t){return function(){return t}}const CL=Math.cos,Wg=Math.sin,ma=Math.sqrt,Xg=Math.PI,vv=2*Xg,qw=Math.PI,Hw=2*qw,nc=1e-6,$G=Hw-nc;function OL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return OL;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class HG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?OL:qG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-e,h=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>nc)if(!(Math.abs(g*d-h*p)>nc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=i-u,A=d*d+h*h,S=_*_+E*E,j=Math.sqrt(A),R=Math.sqrt(b),P=s*Math.tan((qw-Math.acos((A+b-S)/(2*j*R)))/2),U=P/R,V=P/j;Math.abs(U-1)>nc&&this._append`L${e+U*p},${n+U*g}`,this._append`A${s},${s},0,0,${+(g*_>p*E)},${this._x1=e+V*d},${this._y1=n+V*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=e+u,p=n+d,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>nc||Math.abs(this._y1-p)>nc)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%Hw+Hw),b>$G?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:b>nc&&this._append`A${r},${r},0,${+(b>=qw)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function WE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new HG(e)}function XE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IL(t){this._context=t}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bv(t){return new IL(t)}function PL(t){return t[0]}function RL(t){return t[1]}function kL(t,e){var n=zt(!0),r=null,i=bv,s=null,l=WE(u);t=typeof t=="function"?t:t===void 0?PL:zt(t),e=typeof e=="function"?e:e===void 0?RL:zt(e);function u(d){var h,p=(d=XE(d)).length,g,b=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(g=d[h],h,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,h,d),+e(g,h,d));if(_)return s=null,_+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:zt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Yp(t,e,n){var r=null,i=zt(!0),s=null,l=bv,u=null,d=WE(h);t=typeof t=="function"?t:t===void 0?PL:zt(+t),e=typeof e=="function"?e:zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?RL:zt(+n);function h(g){var b,_,E,A=(g=XE(g)).length,S,j=!1,R,P=new Array(A),U=new Array(A);for(s==null&&(u=l(R=d())),b=0;b<=A;++b){if(!(b<A&&i(S=g[b],b,g))===j)if(j=!j)_=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=b-1;E>=_;--E)u.point(P[E],U[E]);u.lineEnd(),u.areaEnd()}j&&(P[b]=+t(S,b,g),U[b]=+e(S,b,g),u.point(r?+r(S,b,g):P[b],n?+n(S,b,g):U[b]))}if(R)return u=null,R+""||null}function p(){return kL().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:zt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:zt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:zt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:zt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:zt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:zt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:zt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class DL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function KG(t){return new DL(t,!0)}function GG(t){return new DL(t,!1)}const QE={draw(t,e){const n=ma(e/Xg);t.moveTo(n,0),t.arc(0,0,n,0,vv)}},YG={draw(t,e){const n=ma(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ML=ma(1/3),WG=ML*2,XG={draw(t,e){const n=ma(e/WG),r=n*ML;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},QG={draw(t,e){const n=ma(e),r=-n/2;t.rect(r,r,n,n)}},JG=.8908130915292852,LL=Wg(Xg/10)/Wg(7*Xg/10),ZG=Wg(vv/10)*LL,eY=-CL(vv/10)*LL,tY={draw(t,e){const n=ma(e*JG),r=ZG*n,i=eY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=vv*s/5,u=CL(l),d=Wg(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},Ix=ma(3),nY={draw(t,e){const n=-ma(e/(Ix*3));t.moveTo(0,n*2),t.lineTo(-Ix*n,-n),t.lineTo(Ix*n,-n),t.closePath()}},Oi=-.5,Ii=ma(3)/2,Kw=1/ma(12),rY=(Kw/2+1)*3,iY={draw(t,e){const n=ma(e/rY),r=n/2,i=n*Kw,s=r,l=n*Kw+n,u=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(Oi*r-Ii*i,Ii*r+Oi*i),t.lineTo(Oi*s-Ii*l,Ii*s+Oi*l),t.lineTo(Oi*u-Ii*d,Ii*u+Oi*d),t.lineTo(Oi*r+Ii*i,Oi*i-Ii*r),t.lineTo(Oi*s+Ii*l,Oi*l-Ii*s),t.lineTo(Oi*u+Ii*d,Oi*d-Ii*u),t.closePath()}};function aY(t,e){let n=null,r=WE(i);t=typeof t=="function"?t:zt(t||QE),e=typeof e=="function"?e:zt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:zt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:zt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Qg(){}function Jg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function VL(t){this._context=t}VL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sY(t){return new VL(t)}function UL(t){this._context=t}UL.prototype={areaStart:Qg,areaEnd:Qg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oY(t){return new UL(t)}function zL(t){this._context=t}zL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Jg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lY(t){return new zL(t)}function BL(t){this._context=t}BL.prototype={areaStart:Qg,areaEnd:Qg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cY(t){return new BL(t)}function hO(t){return t<0?-1:1}function mO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(hO(s)+hO(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function pO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Px(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function Zg(t){this._context=t}Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Px(this,this._t0,pO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Px(this,pO(this,n=mO(this,t,e)),n);break;default:Px(this,this._t0,n=mO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function FL(t){this._context=new $L(t)}(FL.prototype=Object.create(Zg.prototype)).point=function(t,e){Zg.prototype.point.call(this,e,t)};function $L(t){this._context=t}$L.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function uY(t){return new Zg(t)}function dY(t){return new FL(t)}function qL(t){this._context=t}qL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=gO(t),i=gO(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function gO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function fY(t){return new qL(t)}function xv(t,e){this._context=t,this._t=e}xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hY(t){return new xv(t,.5)}function mY(t){return new xv(t,0)}function pY(t){return new xv(t,1)}function Sc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Gw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gY(t,e){return t[e]}function yY(t){const e=[];return e.key=t,e}function vY(){var t=zt([]),e=Gw,n=Sc,r=gY;function i(s){var l=Array.from(t.apply(this,arguments),yY),u,d=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=XE(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:zt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:zt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Gw:typeof s=="function"?s:zt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Sc,i):n},i}function bY(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Sc(t,e)}}function xY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Sc(t,e)}}function _Y(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,_=(g-b)/2,E=0;E<u;++E){var A=t[e[E]],S=A[r][1]||0,j=A[r-1][1]||0;_+=S-j}d+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,Sc(t,e)}}var Rx={},kx={},yO;function wY(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(kx)),kx}var Dx={},vO;function HL(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Dx)),Dx}var Mx={},bO;function JE(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Mx)),Mx}var Lx={},Vx={},xO;function EY(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Vx)),Vx}var _O;function ZE(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EY(),n=JE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,d+=i[u]):g===h?h="":d+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}t.toPath=r})(Lx)),Lx}var wO;function eA(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wY(),n=HL(),r=JE(),i=ZE();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function l(u,d,h){if(d.length===0)return h;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return h;p=p[d[g]]}return p===void 0?h:p}t.get=s})(Rx)),Rx}var Ux,EO;function AY(){return EO||(EO=1,Ux=eA().get),Ux}var SY=AY();const Tc=Xs(SY);var TY=4;function Xo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TY,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function cn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+Xo(u)+s:i+s},"")}var rr=t=>t===0?0:t>0?1:-1,zi=t=>typeof t=="number"&&t!=+t,Fs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!zi(t),qa=t=>Pe(t)||typeof t=="string",NY=0,uh=t=>{var e=++NY;return"".concat(t||"").concat(e)},Tr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&typeof e!="string")return r;var s;if(Fs(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return zi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},KL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function xt(t,e,n){return Pe(t)&&Pe(e)?Xo(t+n*(e-t)):e}function GL(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Tc(r,e))===n)}var Gt=t=>t===null||typeof t>"u",Kh=t=>Gt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function jY(t){return t!=null}function Gh(){}var CY=["type","size","sizeType"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){OY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OY(t,e,n){return(e=IY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IY(t){var e=PY(t,"string");return typeof e=="symbol"?e:e+""}function PY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t,e){if(t==null)return{};var n,r,i=kY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YL={symbolCircle:QE,symbolCross:YG,symbolDiamond:XG,symbolSquare:QG,symbolStar:tY,symbolTriangle:nY,symbolWye:iY},DY=Math.PI/180,MY=t=>{var e="symbol".concat(Kh(t));return YL[e]||QE},LY=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*DY;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},VY=(t,e)=>{YL["symbol".concat(Kh(t))]=e},tA=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=RY(t,CY),s=SO(SO({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=MY(l),_=aY().type(b).size(LY(n,r,l)),E=_();if(E!==null)return E},{className:d,cx:h,cy:p}=s,g=jr(s);return Pe(h)&&Pe(p)&&Pe(n)?w.createElement("path",Yw({},g,{className:ht("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};tA.registerSymbol=VY;var WL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,nA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{GE(i)&&(r[i]=(s=>n[i](n,s)))}),r},UY=(t,e,n)=>r=>(t(e,n,r),null),Yh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];GE(i)&&typeof s=="function"&&(r||(r={}),r[i]=UY(s,e,n))}),r};function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return(e=FY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FY(t){var e=$Y(t,"string");return typeof e=="symbol"?e:e+""}function $Y(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mn(t,e){var n=zY({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(null,arguments)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){HY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HY(t,e,n){return(e=KY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KY(t){var e=GY(t,"string");return typeof e=="symbol"?e:e+""}function GY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ki=32,YY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function WY(t){var{data:e,iconType:n,inactiveColor:r}=t,i=ki/2,s=ki/6,l=ki/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var h;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:ki,y2:i,className:"recharts-legend-icon"})}if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ki,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ki/8,"h").concat(ki,"v").concat(ki*3/4,"h").concat(-ki,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var p=qY({},e);return delete p.legendIcon,w.cloneElement(e.legendIcon,p)}return w.createElement(tA,{fill:u,cx:i,cy:i,size:ki,sizeType:"diameter",type:d})}function XY(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:ki,height:ki},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,_=ht({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var E=p.inactive?s:p.color,A=b?b(p.value,p,g):p.value;return w.createElement("li",ey({className:_,style:d,key:"legend-item-".concat(g)},Yh(t,p,g)),w.createElement(YE,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(A," legend icon")},w.createElement(WY,{data:p,iconType:l,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},A))})}var QY=t=>{var e=mn(t,YY),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(XY,ey({},e,{payload:n})))},zx={},Bx={},jO;function JY(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Bx)),Bx}var Fx={},CO;function XL(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Fx)),Fx}var $x={},qx={},Hx={},OO;function ZY(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Hx)),Hx}var IO;function rA(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZY();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(qx)),qx}var Kx={},PO;function eW(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Kx)),Kx}var RO;function tW(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rA(),n=eW();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})($x)),$x}var Gx={},Yx={},kO;function nW(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Yx)),Yx}var Wx={},Xx={},Qx={},Jx={},DO;function QL(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Jx)),Jx}var Zx={},MO;function JL(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Zx)),Zx}var e_={},LO;function ZL(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(e_)),e_}var VO;function rW(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QL(),n=JL(),r=ZL();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function _(E,A,S,j,R,P){const U=b(E,A,S,j,R,P);return U!==void 0?!!U:s(E,A,_,P)},new Map)}function s(p,g,b,_){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,_);case"function":return Object.keys(g).length>0?s(p,{...g},b,_):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,_){if(g==null)return!0;if(Array.isArray(g))return d(p,g,b,_);if(g instanceof Map)return u(p,g,b,_);if(g instanceof Set)return h(p,g,b,_);const E=Object.keys(g);if(p==null||n.isPrimitive(p))return E.length===0;if(E.length===0)return!0;if(_?.has(g))return _.get(g)===p;_?.set(g,p);try{for(let A=0;A<E.length;A++){const S=E[A];if(!n.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!b(p[S],g[S],S,p,g,_))return!1}return!0}finally{_?.delete(g)}}function u(p,g,b,_){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,A]of g.entries()){const S=p.get(E);if(b(S,A,E,p,g,_)===!1)return!1}return!0}function d(p,g,b,_){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let A=0;A<g.length;A++){const S=g[A];let j=!1;for(let R=0;R<p.length;R++){if(E.has(R))continue;const P=p[R];let U=!1;if(b(P,S,A,p,g,_)&&(U=!0),U){E.add(R),j=!0;break}}if(!j)return!1}return!0}function h(p,g,b,_){return g.size===0?!0:p instanceof Set?d([...p],[...g],b,_):!1}t.isMatchWith=i,t.isSetMatch=h})(Qx)),Qx}var UO;function e5(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rW();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Xx)),Xx}var t_={},n_={},r_={},zO;function iW(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(r_)),r_}var i_={},BO;function t5(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(i_)),i_}var a_={},FO;function n5(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",_="[object Object]",E="[object Error]",A="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",R="[object Uint16Array]",P="[object Uint32Array]",U="[object BigUint64Array]",V="[object Int8Array]",$="[object Int16Array]",O="[object Int32Array]",I="[object BigInt64Array]",D="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=A,t.dateTag=u,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=z,t.functionTag=g,t.int16ArrayTag=$,t.int32ArrayTag=O,t.int8ArrayTag=V,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=R,t.uint32ArrayTag=P,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=j})(a_)),a_}var s_={},$O;function aW(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(s_)),s_}var qO;function r5(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iW(),n=t5(),r=n5(),i=JL(),s=aW();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,_=new Map,E=void 0){const A=E?.(p,g,b,_);if(A!==void 0)return A;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const S=new Array(p.length);_.set(p,S);for(let j=0;j<p.length;j++)S[j]=u(p[j],j,b,_,E);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;_.set(p,S);for(const[j,R]of p)S.set(j,u(R,j,b,_,E));return S}if(p instanceof Set){const S=new Set;_.set(p,S);for(const j of p)S.add(u(j,void 0,b,_,E));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,S);for(let j=0;j<p.length;j++)S[j]=u(p[j],j,b,_,E);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,S),d(S,p,b,_,E),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return _.set(p,S),d(S,p,b,_,E),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return _.set(p,S),d(S,p,b,_,E),S}if(p instanceof Error){const S=new p.constructor;return _.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,d(S,p,b,_,E),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return _.set(p,S),d(S,p,b,_,E),S}if(p instanceof Number){const S=new Number(p.valueOf());return _.set(p,S),d(S,p,b,_,E),S}if(p instanceof String){const S=new String(p.valueOf());return _.set(p,S),d(S,p,b,_,E),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return _.set(p,S),d(S,p,b,_,E),S}return p}function d(p,g,b=p,_,E){const A=[...Object.keys(g),...e.getSymbols(g)];for(let S=0;S<A.length;S++){const j=A[S],R=Object.getOwnPropertyDescriptor(p,j);(R==null||R.writable)&&(p[j]=u(g[j],j,b,_,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(n_)),n_}var HO;function sW(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r5();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(t_)),t_}var KO;function oW(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e5(),n=sW();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Wx)),Wx}var o_={},l_={},c_={},GO;function lW(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r5(),n=n5();function r(i,s){return e.cloneDeepWith(i,(l,u,d,h)=>{const p=s?.(l,u,d,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(c_)),c_}var YO;function cW(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lW();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(l_)),l_}var u_={},d_={},WO;function i5(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(d_)),d_}var f_={},XO;function uW(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t5();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(f_)),f_}var QO;function dW(){return QO||(QO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HL(),n=i5(),r=uW(),i=ZE();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const g=d[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(u_)),u_}var JO;function fW(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e5(),n=JE(),r=cW(),i=eA(),s=dW();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(o_)),o_}var ZO;function hW(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XL(),n=nW(),r=oW(),i=fW();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Gx)),Gx}var eI;function mW(){return eI||(eI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JY(),n=XL(),r=tW(),i=hW();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(zx)),zx}var h_,tI;function pW(){return tI||(tI=1,h_=mW().uniqBy),h_}var gW=pW();const nI=Xs(gW);function a5(t,e,n){return e===!0?nI(t,n):typeof e=="function"?nI(t,e):t}var m_={exports:{}},p_={},g_={exports:{}},y_={};var rI;function yW(){if(rI)return y_;rI=1;var t=sd();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var _=b(),E=r({inst:{value:_,getSnapshot:b}}),A=E[0].inst,S=E[1];return s(function(){A.value=_,A.getSnapshot=b,d(A)&&S({inst:A})},[g,_,b]),i(function(){return d(A)&&S({inst:A}),g(function(){d(A)&&S({inst:A})})},[g]),l(_),_}function d(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return y_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,y_}var iI;function vW(){return iI||(iI=1,g_.exports=yW()),g_.exports}var aI;function bW(){if(aI)return p_;aI=1;var t=sd(),e=vW();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return p_.useSyncExternalStoreWithSelector=function(h,p,g,b,_){var E=s(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=u(function(){function j($){if(!R){if(R=!0,P=$,$=b($),_!==void 0&&A.hasValue){var O=A.value;if(_(O,$))return U=O}return U=$}if(O=U,r(P,$))return O;var I=b($);return _!==void 0&&_(O,I)?(P=$,O):(P=$,U=I)}var R=!1,P,U,V=g===void 0?null:g;return[function(){return j(p())},V===null?void 0:function(){return j(V())}]},[p,g,b,_]);var S=i(h,E[0],E[1]);return l(function(){A.hasValue=!0,A.value=S},[S]),d(S),S},p_}var sI;function xW(){return sI||(sI=1,m_.exports=bW()),m_.exports}var _W=xW(),iA=w.createContext(null),wW=t=>t,Ft=()=>{var t=w.useContext(iA);return t?t.store.dispatch:wW},wg=()=>{},EW=()=>wg,AW=(t,e)=>t===e;function Ve(t){var e=w.useContext(iA);return _W.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:EW,e?e.store.getState:wg,e?e.store.getState:wg,e?t:wg,AW)}function SW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function TW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function NW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var oI=t=>Array.isArray(t)?t:[t];function jW(t){const e=Array.isArray(t[0])?t[0]:t;return NW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function CW(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var OW=class{constructor(t){this.value=t}deref(){return this.value}},IW=typeof WeakRef<"u"?WeakRef:OW,PW=0,lI=1;function Wp(){return{s:PW,v:void 0,o:null,p:null}}function s5(t,e={}){let n=Wp();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const _=arguments[g];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const A=E.get(_);A===void 0?(u=Wp(),E.set(_,u)):u=A}else{let E=u.p;E===null&&(u.p=E=new Map);const A=E.get(_);A===void 0?(u=Wp(),E.set(_,u)):u=A}}const h=u;let p;if(u.s===lI)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new IW(p):p}return h.s=lI,h.v=p,p}return l.clearCache=()=>{n=Wp(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function RW(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),SW(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:_=s5,argsMemoizeOptions:E=[]}=p,A=oI(b),S=oI(E),j=jW(i),R=g(function(){return s++,h.apply(null,arguments)},...A),P=_(function(){l++;const V=CW(j,arguments);return u=R.apply(null,V),u},...S);return Object.assign(P,{resultFunc:h,memoizedResultFunc:R,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var re=RW(s5),kW=Object.assign((t,e=re)=>{TW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>kW}),v_={},b_={},x_={},cI;function DW(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(x_)),x_}var __={},w_={},uI;function o5(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(w_)),w_}var dI;function MW(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(__)),__}var fI;function LW(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DW(),n=MW(),r=ZE();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const h=(_,E)=>{let A=_;for(let S=0;S<E.length&&A!=null;++S)A=A[E[S]];return A},p=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:h(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?h(E,_):typeof E=="object"?E[_]:E,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(E=>p(E,_))})).slice().sort((_,E)=>{for(let A=0;A<g.length;A++){const S=e.compareValues(_.criteria[A],E.criteria[A],u[A]);if(S!==0)return S}return 0}).map(_=>_.original)}t.orderBy=i})(b_)),b_}var E_={},hI;function VW(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(E_)),E_}var A_={},mI;function l5(){return mI||(mI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i5(),n=rA(),r=QL(),i=ZL();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=s})(A_)),A_}var pI;function UW(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LW(),n=VW(),r=l5();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(v_)),v_}var S_,gI;function zW(){return gI||(gI=1,S_=UW().sortBy),S_}var BW=zW();const _v=Xs(BW);var c5=t=>t.legend.settings,FW=t=>t.legend.size,$W=t=>t.legend.payload,qW=re([$W,c5],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?_v(r,n):r});function HW(){return Ve(qW)}var Xp=1;function u5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Xp||Math.abs(l.left-e.left)>Xp||Math.abs(l.top-e.top)>Xp||Math.abs(l.width-e.width)>Xp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function mr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var KW=typeof Symbol=="function"&&Symbol.observable||"@@observable",yI=KW,T_=()=>Math.random().toString(36).substring(7).split("").join("."),GW={INIT:`@@redux/INIT${T_()}`,REPLACE:`@@redux/REPLACE${T_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${T_()}`},ty=GW;function aA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function d5(t,e,n){if(typeof t!="function")throw new Error(mr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mr(1));return n(d5)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((S,j)=>{l.set(j,S)}))}function p(){if(d)throw new Error(mr(3));return i}function g(S){if(typeof S!="function")throw new Error(mr(4));if(d)throw new Error(mr(5));let j=!0;h();const R=u++;return l.set(R,S),function(){if(j){if(d)throw new Error(mr(6));j=!1,h(),l.delete(R),s=null}}}function b(S){if(!aA(S))throw new Error(mr(7));if(typeof S.type>"u")throw new Error(mr(8));if(typeof S.type!="string")throw new Error(mr(17));if(d)throw new Error(mr(9));try{d=!0,i=r(i,S)}finally{d=!1}return(s=l).forEach(R=>{R()}),S}function _(S){if(typeof S!="function")throw new Error(mr(10));r=S,b({type:ty.REPLACE})}function E(){const S=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(mr(11));function R(){const U=j;U.next&&U.next(p())}return R(),{unsubscribe:S(R)}},[yI](){return this}}}return b({type:ty.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:_,[yI]:E}}function YW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ty.INIT})>"u")throw new Error(mr(12));if(typeof n(void 0,{type:ty.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mr(13))})}function f5(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{YW(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],_=l[g],E=b(_,u);if(typeof E>"u")throw u&&u.type,new Error(mr(14));h[g]=E,d=d||E!==_}return d=d||r.length!==Object.keys(l).length,d?h:l}}function ny(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function WW(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(mr(15))};const l={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},u=t.map(d=>d(l));return s=ny(...u)(i.dispatch),{...i,dispatch:s}}}function h5(t){return aA(t)&&"type"in t&&typeof t.type=="string"}var m5=Symbol.for("immer-nothing"),vI=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function na(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fi=Object,ed=fi.getPrototypeOf,ry="constructor",wv="prototype",Ww="configurable",iy="enumerable",Eg="writable",dh="value",$s=t=>!!t&&!!t[Dr];function ha(t){return t?p5(t)||Ev(t)||!!t[vI]||!!t[ry]?.[vI]||Av(t)||Sv(t):!1}var XW=fi[wv][ry].toString(),bI=new WeakMap;function p5(t){if(!t||!sA(t))return!1;const e=ed(t);if(e===null||e===fi[wv])return!0;const n=fi.hasOwnProperty.call(e,ry)&&e[ry];if(n===Object)return!0;if(!Du(n))return!1;let r=bI.get(n);return r===void 0&&(r=Function.toString.call(n),bI.set(n,r)),r===XW}function Wh(t,e,n=!0){Xh(t)===0?(n?Reflect.ownKeys(t):fi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Xh(t){const e=t[Dr];return e?e.type_:Ev(t)?1:Av(t)?2:Sv(t)?3:0}var xI=(t,e,n=Xh(t))=>n===2?t.has(e):fi[wv].hasOwnProperty.call(t,e),Xw=(t,e,n=Xh(t))=>n===2?t.get(e):t[e],ay=(t,e,n,r=Xh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function QW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ev=Array.isArray,Av=t=>t instanceof Map,Sv=t=>t instanceof Set,sA=t=>typeof t=="object",Du=t=>typeof t=="function",N_=t=>typeof t=="boolean";function JW(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Es=t=>t.copy_||t.base_,oA=t=>t.modified_?t.copy_:t.base_;function Qw(t,e){if(Av(t))return new Map(t);if(Sv(t))return new Set(t);if(Ev(t))return Array[wv].slice.call(t);const n=p5(t);if(e===!0||e==="class_only"&&!n){const r=fi.getOwnPropertyDescriptors(t);delete r[Dr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[Eg]===!1&&(u[Eg]=!0,u[Ww]=!0),(u.get||u.set)&&(r[l]={[Ww]:!0,[Eg]:!0,[iy]:u[iy],[dh]:t[l]})}return fi.create(ed(t),r)}else{const r=ed(t);if(r!==null&&n)return{...t};const i=fi.create(r);return fi.assign(i,t)}}function lA(t,e=!1){return Tv(t)||$s(t)||!ha(t)||(Xh(t)>1&&fi.defineProperties(t,{set:Qp,add:Qp,clear:Qp,delete:Qp}),fi.freeze(t),e&&Wh(t,(n,r)=>{lA(r,!0)},!1)),t}function ZW(){na(2)}var Qp={[dh]:ZW};function Tv(t){return t===null||!sA(t)?!0:fi.isFrozen(t)}var sy="MapSet",Jw="Patches",_I="ArrayMethods",g5={};function Nc(t){const e=g5[t];return e||na(0,t),e}var wI=t=>!!g5[t],fh,y5=()=>fh,eX=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:wI(sy)?Nc(sy):void 0,arrayMethodsPlugin_:wI(_I)?Nc(_I):void 0});function EI(t,e){e&&(t.patchPlugin_=Nc(Jw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Zw(t){e1(t),t.drafts_.forEach(tX),t.drafts_=null}function e1(t){t===fh&&(fh=t.parent_)}var AI=t=>fh=eX(fh,t);function tX(t){const e=t[Dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function SI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Dr].modified_&&(Zw(e),na(4)),ha(t)&&(t=TI(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Dr].base_,t,e)}else t=TI(e,n);return nX(e,t,!0),Zw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==m5?t:void 0}function TI(t,e){if(Tv(e))return e;const n=e[Dr];if(!n)return cA(e,t.handledSet_,t);if(!Nv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);x5(n,t)}return n.copy_}function nX(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lA(e,n)}function v5(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Nv=(t,e)=>t.scope_===e,rX=[];function b5(t,e,n,r){const i=Es(t),s=t.type_;if(r!==void 0&&Xw(i,r,s)===e){ay(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Wh(i,(d,h)=>{if($s(h)){const p=u.get(h)||[];p.push(d),u.set(h,p)}})}const l=t.draftLocations_.get(e)??rX;for(const u of l)ay(i,u,n,s)}function iX(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Nv(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=oA(s);b5(t,s.draft_??s,l,n),x5(s,i)})}function x5(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}v5(t)}}function aX(t,e,n){const{scope_:r}=t;if($s(n)){const i=n[Dr];Nv(i,r)&&i.callbacks_.push(function(){Ag(t);const l=oA(i);b5(t,n,l,e)})}else ha(n)&&t.callbacks_.push(function(){const s=Es(t);Xw(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&cA(Xw(t.copy_,e,t.type_),r.handledSet_,r)})}function cA(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$s(t)||e.has(t)||!ha(t)||Tv(t)||(e.add(t),Wh(t,(r,i)=>{if($s(i)){const s=i[Dr];if(Nv(s,n)){const l=oA(s);ay(t,r,l,t.type_),v5(s)}}else ha(i)&&cA(i,e,n)})),t}function sX(t,e){const n=Ev(t),r={type_:n?1:0,scope_:e?e.scope_:y5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=uA;n&&(i=[r],s=hh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var uA={get(t,e){if(e===Dr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Es(t);if(!xI(i,e,t.type_))return oX(t,i,e);const s=i[e];if(t.finalized_||!ha(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&JW(e))return s;if(s===j_(t.base_,e)){Ag(t);const l=t.type_===1?+e:e,u=n1(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in Es(t)},ownKeys(t){return Reflect.ownKeys(Es(t))},set(t,e,n){const r=_5(Es(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=j_(Es(t),e),s=i?.[Dr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(QW(n,i)&&(n!==void 0||xI(t.base_,e,t.type_)))return!0;Ag(t),t1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),aX(t,e,n)),!0},deleteProperty(t,e){return Ag(t),j_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),t1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Es(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Eg]:!0,[Ww]:t.type_!==1||e!=="length",[iy]:r[iy],[dh]:n[e]}},defineProperty(){na(11)},getPrototypeOf(t){return ed(t.base_)},setPrototypeOf(){na(12)}},hh={};Wh(uA,(t,e)=>{hh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});hh.deleteProperty=function(t,e){return hh.set.call(this,t,e,void 0)};hh.set=function(t,e,n){return uA.set.call(this,t[0],e,n,t[0])};function j_(t,e){const n=t[Dr];return(n?Es(n):t)[e]}function oX(t,e,n){const r=_5(e,n);return r?dh in r?r[dh]:r.get?.call(t.draft_):void 0}function _5(t,e){if(!(e in t))return;let n=ed(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ed(n)}}function t1(t){t.modified_||(t.modified_=!0,t.parent_&&t1(t.parent_))}function Ag(t){t.copy_||(t.assigned_=new Map,t.copy_=Qw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Du(n)&&!Du(r)){const l=r;r=n;const u=this;return function(h=l,...p){return u.produce(h,g=>r.call(this,g,...p))}}Du(r)||na(6),i!==void 0&&!Du(i)&&na(7);let s;if(ha(n)){const l=AI(this),u=n1(l,n,void 0);let d=!0;try{s=r(u),d=!1}finally{d?Zw(l):e1(l)}return EI(l,i),SI(s,l)}else if(!n||!sA(n)){if(s=r(n),s===void 0&&(s=n),s===m5&&(s=void 0),this.autoFreeze_&&lA(s,!0),i){const l=[],u=[];Nc(Jw).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else na(1,n)},this.produceWithPatches=(n,r)=>{if(Du(n))return(u,...d)=>this.produceWithPatches(u,h=>n(h,...d));let i,s;return[this.produce(n,r,(u,d)=>{i=u,s=d}),i,s]},N_(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),N_(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),N_(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ha(e)||na(8),$s(e)&&(e=ua(e));const n=AI(this),r=n1(n,e,void 0);return r[Dr].isManual_=!0,e1(n),r}finishDraft(e,n){const r=e&&e[Dr];(!r||!r.isManual_)&&na(9);const{scope_:i}=r;return EI(i,n),SI(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Nc(Jw).applyPatches_;return $s(e)?i(e,n):this.produce(e,s=>i(s,n))}};function n1(t,e,n,r){const[i,s]=Av(e)?Nc(sy).proxyMap_(e,n):Sv(e)?Nc(sy).proxySet_(e,n):sX(e,n);return(n?.scope_??y5()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?iX(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=d;s.modified_&&h&&h.generatePatches_(s,[],d)}),i}function ua(t){return $s(t)||na(10,t),w5(t)}function w5(t){if(!ha(t)||Tv(t))return t;const e=t[Dr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Qw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Qw(t,!0);return Wh(n,(i,s)=>{ay(n,i,w5(s))},r),e&&(e.finalized_=!1),n}var cX=new lX,E5=cX.produce;function A5(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var uX=A5(),dX=A5,fX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ny:ny.apply(null,arguments)};function Bi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(hi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>h5(r)&&r.type===t,n}var S5=class $f extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$f.prototype)}static get[Symbol.species](){return $f}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new $f(...e[0].concat(this)):new $f(...e.concat(this))}};function NI(t){return ha(t)?E5(t,()=>{}):t}function Jp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function hX(t){return typeof t=="boolean"}var mX=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new S5;return n&&(hX(n)?l.push(uX):l.push(dX(n.extraArgument))),l},T5="RTK_autoBatch",Qt=()=>t=>({payload:t,meta:{[T5]:!0}}),jI=t=>e=>{setTimeout(e,t)},N5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jI(10):t.type==="callback"?t.queueNotification:jI(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[T5],s=!i,s&&(l||(l=!0,d(h))),r.dispatch(p)}finally{i=!0}}})},pX=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new S5(t);return r&&i.push(N5(typeof r=="object"?r:void 0)),i};function gX(t){const e=mX(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(aA(n))u=f5(n);else throw new Error(hi(1));let d;typeof r=="function"?d=r(e):d=e();let h=ny;i&&(h=fX({trace:!1,...typeof i=="object"&&i}));const p=WW(...d),g=pX(p);let b=typeof l=="function"?l(g):g();const _=h(...b);return d5(u,s,_)}function j5(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(hi(28));if(u in e)throw new Error(hi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function yX(t){return typeof t=="function"}function vX(t,e){let[n,r,i]=j5(e),s;if(yX(t))s=()=>NI(t());else{const u=NI(t);s=()=>u}function l(u=s(),d){let h=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if($s(p)){const _=g(p,d);return _===void 0?p:_}else{if(ha(p))return E5(p,b=>g(b,d));{const b=g(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var bX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xX=(t=21)=>{let e="",n=t;for(;n--;)e+=bX[Math.random()*64|0];return e},_X=Symbol.for("rtk-slice-createasyncthunk");function wX(t,e){return`${t}/${e}`}function EX({creators:t}={}){const e=t?.asyncThunk?.[_X];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(hi(11));const l=(typeof r.reducers=="function"?r.reducers(SX()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,U){const V=typeof P=="string"?P:P.type;if(!V)throw new Error(hi(12));if(V in d.sliceCaseReducersByType)throw new Error(hi(13));return d.sliceCaseReducersByType[V]=U,h},addMatcher(P,U){return d.sliceMatchers.push({matcher:P,reducer:U}),h},exposeAction(P,U){return d.actionCreators[P]=U,h},exposeCaseReducer(P,U){return d.sliceCaseReducersByName[P]=U,h}};u.forEach(P=>{const U=l[P],V={reducerName:P,type:wX(i,P),createNotation:typeof r.reducers=="function"};NX(U)?CX(V,U,h,e):TX(V,U,h)});function p(){const[P={},U=[],V=void 0]=typeof r.extraReducers=="function"?j5(r.extraReducers):[r.extraReducers],$={...P,...d.sliceCaseReducersByType};return vX(r.initialState,O=>{for(let I in $)O.addCase(I,$[I]);for(let I of d.sliceMatchers)O.addMatcher(I.matcher,I.reducer);for(let I of U)O.addMatcher(I.matcher,I.reducer);V&&O.addDefaultCase(V)})}const g=P=>P,b=new Map,_=new WeakMap;let E;function A(P,U){return E||(E=p()),E(P,U)}function S(){return E||(E=p()),E.getInitialState()}function j(P,U=!1){function V(O){let I=O[P];return typeof I>"u"&&U&&(I=Jp(_,V,S)),I}function $(O=g){const I=Jp(b,U,()=>new WeakMap);return Jp(I,O,()=>{const D={};for(const[z,M]of Object.entries(r.selectors??{}))D[z]=AX(M,O,()=>Jp(_,O,S),U);return D})}return{reducerPath:P,getSelectors:$,get selectors(){return $(V)},selectSlice:V}}const R={name:i,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...j(s),injectInto(P,{reducerPath:U,...V}={}){const $=U??s;return P.inject({reducerPath:$,reducer:A},V),{...R,...j($,!0)}}};return R}}function AX(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var Wr=EX();function SX(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function TX({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!jX(r))throw new Error(hi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Bi(t,l):Bi(t))}function NX(t){return t._reducerDefinitionType==="asyncThunk"}function jX(t){return t._reducerDefinitionType==="reducerWithPrepare"}function CX({type:t,reducerName:e},n,r,i){if(!i)throw new Error(hi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||Zp,pending:u||Zp,rejected:d||Zp,settled:h||Zp})}function Zp(){}var OX="task",C5="listener",O5="completed",dA="cancelled",IX=`task-${dA}`,PX=`task-${O5}`,r1=`${C5}-${dA}`,RX=`${C5}-${O5}`,jv=class{constructor(t){this.code=t,this.message=`${OX} ${dA} (reason: ${t})`}name="TaskAbortError";message},fA=(t,e)=>{if(typeof t!="function")throw new TypeError(hi(32))},oy=()=>{},I5=(t,e=oy)=>(t.catch(e),t),P5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),mc=t=>{if(t.aborted)throw new jv(t.reason)};function R5(t,e){let n=oy;return new Promise((r,i)=>{const s=()=>i(new jv(t.reason));if(t.aborted){s();return}n=P5(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=oy})}var kX=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof jv?"cancelled":"rejected",error:n}}finally{e?.()}},ly=t=>e=>I5(R5(t,e).then(n=>(mc(t),n))),k5=t=>{const e=ly(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:qu}=Object,CI={},Cv="listenerMiddleware",DX=(t,e)=>{const n=r=>P5(t,()=>r.abort(t.reason));return(r,i)=>{fA(r);const s=new AbortController;n(s);const l=kX(async()=>{mc(t),mc(s.signal);const u=await r({pause:ly(s.signal),delay:k5(s.signal),signal:s.signal});return mc(s.signal),u},()=>s.abort(PX));return i?.autoJoin&&e.push(l.catch(oy)),{result:ly(t)(l),cancel(){s.abort(IX)}}}},MX=(t,e)=>{const n=async(r,i)=>{mc(e);let s=()=>{};const u=[new Promise((d,h)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await R5(e,Promise.race(u));return mc(e),d}finally{s()}};return(r,i)=>I5(n(r,i))},D5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Bi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(hi(21));return fA(s),{predicate:i,type:e,effect:s}},M5=qu(t=>{const{type:e,predicate:n,effect:r}=D5(t);return{id:xX(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(hi(22))}}},{withTypes:()=>M5}),OI=(t,e)=>{const{type:n,effect:r,predicate:i}=D5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},i1=t=>{t.pending.forEach(e=>{e.abort(r1)})},LX=(t,e)=>()=>{for(const n of e.keys())i1(n);t.clear()},II=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},L5=qu(Bi(`${Cv}/add`),{withTypes:()=>L5}),VX=Bi(`${Cv}/removeAll`),V5=qu(Bi(`${Cv}/remove`),{withTypes:()=>V5}),UX=(...t)=>{console.error(`${Cv}/error`,...t)},Qh=(t={})=>{const e=new Map,n=new Map,r=_=>{const E=n.get(_)??0;n.set(_,E+1)},i=_=>{const E=n.get(_)??1;E===1?n.delete(_):n.set(_,E-1)},{extra:s,onError:l=UX}=t;fA(l);const u=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),E=>{_.unsubscribe(),E?.cancelActive&&i1(_)}),d=_=>{const E=OI(e,_)??M5(_);return u(E)};qu(d,{withTypes:()=>d});const h=_=>{const E=OI(e,_);return E&&(E.unsubscribe(),_.cancelActive&&i1(E)),!!E};qu(h,{withTypes:()=>h});const p=async(_,E,A,S)=>{const j=new AbortController,R=MX(d,j.signal),P=[];try{_.pending.add(j),r(_),await Promise.resolve(_.effect(E,qu({},A,{getOriginalState:S,condition:(U,V)=>R(U,V).then(Boolean),take:R,delay:k5(j.signal),pause:ly(j.signal),extra:s,signal:j.signal,fork:DX(j.signal,P),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((U,V,$)=>{U!==j&&(U.abort(r1),$.delete(U))})},cancel:()=>{j.abort(r1),_.pending.delete(j)},throwIfCancelled:()=>{mc(j.signal)}})))}catch(U){U instanceof jv||II(l,U,{raisedBy:"effect"})}finally{await Promise.all(P),j.abort(RX),i(_),_.pending.delete(j)}},g=LX(e,n);return{middleware:_=>E=>A=>{if(!h5(A))return E(A);if(L5.match(A))return d(A.payload);if(VX.match(A)){g();return}if(V5.match(A))return h(A.payload);let S=_.getState();const j=()=>{if(S===CI)throw new Error(hi(23));return S};let R;try{if(R=E(A),e.size>0){const P=_.getState(),U=Array.from(e.values());for(const V of U){let $=!1;try{$=V.predicate(A,P,S)}catch(O){$=!1,II(l,O,{raisedBy:"predicate"})}$&&p(V,A,_,j)}}}finally{S=CI}return R},startListening:d,stopListening:h,clearListeners:g}};function hi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},U5=Wr({name:"chartLayout",initialState:zX,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:BX,setLayout:FX,setChartSize:$X,setScale:qX}=U5.actions,HX=U5.reducer;function z5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ut(t){return Number.isFinite(t)}function Ha(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){KX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KX(t,e,n){return(e=GX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _t(t,e,n){return Gt(t)||Gt(e)?n:qa(e)?Tc(t,e,n):typeof e=="function"?e(t):n}var WX=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Pe(t[s]))return Lu(Lu({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Pe(t[l]))return Lu(Lu({},t),{},{[l]:t[l]+(i||0)})}return t},Ja=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",B5=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},F5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:b,axisType:_}=t;if(!l)return null;var E=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=i==="category"&&l.bandwidth?l.bandwidth()/E:0;if(A=_==="angleAxis"&&s&&s.length>=2?rr(s[0]-s[1])*2*A:A,g||b){var S=(g||b||[]).map((j,R)=>{var P=r?r.indexOf(j):j;return{coordinate:l(P)+A,value:j,offset:A,index:R}});return S.filter(j=>!zi(j.coordinate))}return d&&h?h.map((j,R)=>({coordinate:l(j)+A,value:j,index:R,offset:A})):l.ticks&&p!=null?l.ticks(p).map((j,R)=>({coordinate:l(j)+A,value:j,offset:A,index:R})):l.domain().map((j,R)=>({coordinate:l(j)+A,value:r?r[j]:j,index:R,offset:A}))},RI=1e-4,XX=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-RI,s=Math.max(r[0],r[1])+RI,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},QX=(t,e)=>{if(!e||e.length!==2||!Pe(e[0])||!Pe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<n)&&(i[0]=n),(!Pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},JX=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var d=t[u],h=d?.[i];if(h!=null){var p=h[1],g=h[0],b=zi(p)?g:p;b>=0?(h[0]=s,h[1]=s+b,s=p):(h[0]=l,h[1]=l+b,l=p)}}}},ZX=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],d=u?.[i];if(d!=null){var h=zi(d[1])?d[0]:d[1];h>=0?(d[0]=s,d[1]=s+h,s=d[1]):(d[0]=0,d[1]=0)}}}},eQ={sign:JX,expand:bY,none:Sc,silhouette:xY,wiggle:_Y,positive:ZX},tQ=(t,e,n)=>{var r,i=(r=eQ[n])!==null&&r!==void 0?r:Sc,s=vY().keys(e).value((u,d)=>Number(_t(u,d,0))).order(Gw).offset(i),l=s(t);return l.forEach((u,d)=>{u.forEach((h,p)=>{var g=_t(t[p],e[d],0);Array.isArray(g)&&g.length===2&&Pe(g[0])&&Pe(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function $5(t){return t==null?void 0:String(t)}function cy(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gt(i[e.dataKey])){var u=GL(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=_t(i,Gt(l)?e.dataKey:l);return Gt(d)?null:e.scale(d)}var kI=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=_t(s,e.dataKey,e.scale.domain()[l]);return Gt(u)?null:e.scale(u)-i/2+r},nQ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},rQ=t=>{var e=t.flat(2).filter(Pe);return[Math.min(...e),Math.max(...e)]},iQ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],aQ=(t,e,n)=>{if(t!=null)return iQ(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((d,h)=>{var p=z5(h,e,n),g=rQ(p);return!Ut(g[0])||!Ut(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},DI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=_v(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];s=Math.min((d?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function LI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Lu(Lu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function wl(t,e){if(t)return String(t);if(typeof e=="string")return e}var sQ=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},oQ=(t,e)=>e==="centric"?t.angle:t.radius,Js=t=>t.layout.width,Zs=t=>t.layout.height,lQ=t=>t.layout.scale,q5=t=>t.layout.margin,Ov=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Iv=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),H5="data-recharts-item-index",K5="data-recharts-item-id",Jh=60;function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){cQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cQ(t,e,n){return(e=uQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(t){var e=dQ(t,"string");return typeof e=="symbol"?e:e+""}function dQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fQ=t=>t.brush.height;function hQ(t){var e=Iv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Jh;return n+i}return n},0)}function mQ(t){var e=Iv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Jh;return n+i}return n},0)}function pQ(t){var e=Ov(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function gQ(t){var e=Ov(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var $n=re([Js,Zs,q5,fQ,hQ,mQ,pQ,gQ,c5,FW],(t,e,n,r,i,s,l,u,d,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=eg(eg({},g),p),_=b.bottom;b.bottom+=r,b=WX(b,d,h);var E=t-b.left-b.right,A=e-b.top-b.bottom;return eg(eg({brushBottom:_},b),{},{width:Math.max(E,0),height:Math.max(A,0)})}),yQ=re($n,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),hA=re(Js,Zs,(t,e)=>({x:0,y:0,width:t,height:e})),vQ=w.createContext(null),sr=()=>w.useContext(vQ)!=null,Pv=t=>t.brush,Rv=re([Pv,$n,q5],(t,e,n)=>({height:t.height,x:Pe(t.x)?t.x:e.left,y:Pe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Pe(t.width)?t.width:e.width})),C_={},O_={},I_={},UI;function bQ(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),A()};let b=null;const _=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},E=()=>{b!==null&&(clearTimeout(b),b=null)},A=()=>{E(),l=void 0,u=null},S=()=>{p()},j=function(...R){if(i?.aborted)return;l=this,u=R;const P=b==null;_(),d&&P&&p()};return j.schedule=_,j.cancel=A,j.flush=S,i?.addEventListener("abort",A,{once:!0}),j}t.debounce=e})(I_)),I_}var zI;function xQ(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bQ();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const b=e.debounce(function(...A){p=r.apply(this,A),g=null},i,{edges:h}),_=function(...A){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,A),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,A),p)},E=()=>(b.flush(),p);return _.cancel=b.cancel,_.flush=E,_}t.debounce=n})(O_)),O_}var BI;function _Q(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xQ();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(C_)),C_}var P_,FI;function wQ(){return FI||(FI=1,P_=_Q().throttle),P_}var EQ=wQ();const AQ=Xs(EQ);var uy=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},G5=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Fs(r)?t:Number(r),d=Fs(i)?e:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},SQ={width:0,height:0,overflow:"visible"},TQ={width:0,overflowX:"visible"},NQ={height:0,overflowY:"visible"},jQ={},CQ=t=>{var{width:e,height:n}=t,r=Fs(e),i=Fs(n);return r&&i?SQ:r?TQ:i?NQ:jQ};function OQ(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){IQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IQ(t,e,n){return(e=PQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PQ(t){var e=RQ(t,"string");return typeof e=="symbol"?e:e+""}function RQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y5=w.createContext({width:-1,height:-1});function kQ(t){return Ha(t.width)&&Ha(t.height)}function W5(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return kQ(i)?w.createElement(Y5.Provider,{value:i},e):null}var mA=()=>w.useContext(Y5),DQ=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:g,className:b,onResize:_,style:E={}}=t,A=w.useRef(null),S=w.useRef();S.current=_,w.useImperativeHandle(e,()=>A.current);var[j,R]=w.useState({containerWidth:r.width,containerHeight:r.height}),P=w.useCallback((I,D)=>{R(z=>{var M=Math.round(I),B=Math.round(D);return z.containerWidth===M&&z.containerHeight===B?z:{containerWidth:M,containerHeight:B}})},[]);w.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return Gh;var I=B=>{var k,{width:he,height:Ae}=B[0].contentRect;P(he,Ae),(k=S.current)===null||k===void 0||k.call(S,he,Ae)};p>0&&(I=AQ(I,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(I),{width:z,height:M}=A.current.getBoundingClientRect();return P(z,M),D.observe(A.current),()=>{D.disconnect()}},[P,p]);var{containerWidth:U,containerHeight:V}=j;uy(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:$,calculatedHeight:O}=G5(U,V,{width:i,height:s,aspect:n,maxHeight:d});return uy($!=null&&$>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,O,i,s,l,u,n),w.createElement("div",{id:g?"".concat(g):void 0,className:ht("recharts-responsive-container",b),style:qI(qI({},E),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:A},w.createElement("div",{style:CQ({width:i,height:s})},w.createElement(W5,{width:$,height:O},h)))}),pA=w.forwardRef((t,e)=>{var n=mA();if(Ha(n.width)&&Ha(n.height))return t.children;var{width:r,height:i}=OQ({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=G5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Pe(s)&&Pe(l)?w.createElement(W5,{width:s,height:l},t.children):w.createElement(DQ,a1({},t,{width:r,height:i,ref:e}))});function X5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var kv=()=>{var t,e=sr(),n=Ve(yQ),r=Ve(Rv),i=(t=Ve(Pv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},MQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Q5=()=>{var t;return(t=Ve($n))!==null&&t!==void 0?t:MQ},gA=()=>Ve(Js),yA=()=>Ve(Zs),LQ=()=>Ve(t=>t.layout.margin),it=t=>t.layout.layoutType,El=()=>Ve(it),VQ=()=>{var t=El();if(t==="horizontal"||t==="vertical")return t},UQ=()=>{var t=El();return t!==void 0},Dv=t=>{var e=Ft(),n=sr(),{width:r,height:i}=t,s=mA(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),w.useEffect(()=>{!n&&Ha(l)&&Ha(u)&&e($X({width:l,height:u}))},[e,n,l,u]),null},J5=Symbol.for("immer-nothing"),HI=Symbol.for("immer-draftable"),mi=Symbol.for("immer-state");function ra(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var mh=Object.getPrototypeOf;function td(t){return!!t&&!!t[mi]}function jc(t){return t?Z5(t)||Array.isArray(t)||!!t[HI]||!!t.constructor?.[HI]||Zh(t)||Lv(t):!1}var zQ=Object.prototype.constructor.toString(),KI=new WeakMap;function Z5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=KI.get(n);return r===void 0&&(r=Function.toString.call(n),KI.set(n,r)),r===zQ}function dy(t,e,n=!0){Mv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Mv(t){const e=t[mi];return e?e.type_:Array.isArray(t)?1:Zh(t)?2:Lv(t)?3:0}function s1(t,e){return Mv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function e6(t,e,n){const r=Mv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function BQ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Zh(t){return t instanceof Map}function Lv(t){return t instanceof Set}function rc(t){return t.copy_||t.base_}function o1(t,e){if(Zh(t))return new Map(t);if(Lv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Z5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[mi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(mh(t),r)}else{const r=mh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function vA(t,e=!1){return Vv(t)||td(t)||!jc(t)||(Mv(t)>1&&Object.defineProperties(t,{set:tg,add:tg,clear:tg,delete:tg}),Object.freeze(t),e&&Object.values(t).forEach(n=>vA(n,!0))),t}function FQ(){ra(2)}var tg={value:FQ};function Vv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var $Q={};function Cc(t){const e=$Q[t];return e||ra(0,t),e}var ph;function t6(){return ph}function qQ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GI(t,e){e&&(Cc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function l1(t){c1(t),t.drafts_.forEach(HQ),t.drafts_=null}function c1(t){t===ph&&(ph=t.parent_)}function YI(t){return ph=qQ(ph,t)}function HQ(t){const e=t[mi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function WI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mi].modified_&&(l1(e),ra(4)),jc(t)&&(t=fy(e,t),e.parent_||hy(e,t)),e.patches_&&Cc("Patches").generateReplacementPatches_(n[mi].base_,t,e.patches_,e.inversePatches_)):t=fy(e,n,[]),l1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==J5?t:void 0}function fy(t,e,n){if(Vv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[mi];if(!i)return dy(e,(s,l)=>XI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return hy(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),dy(l,(d,h)=>XI(t,i,s,d,h,n,u),r),hy(t,s,!1),n&&t.patches_&&Cc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function XI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=Vv(i);if(!(u&&!l)){if(td(i)){const d=s&&e&&e.type_!==3&&!s1(e.assigned_,r)?s.concat(r):void 0,h=fy(t,i,d);if(e6(n,r,h),td(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(jc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;fy(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Zh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&hy(t,i)}}}function hy(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&vA(e,n)}function KQ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:t6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=bA;n&&(i=[r],s=gh);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var bA={get(t,e){if(e===mi)return t;const n=rc(t);if(!s1(n,e))return GQ(t,n,e);const r=n[e];return t.finalized_||!jc(r)?r:r===R_(t.base_,e)?(k_(t),t.copy_[e]=d1(r,t)):r},has(t,e){return e in rc(t)},ownKeys(t){return Reflect.ownKeys(rc(t))},set(t,e,n){const r=n6(rc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=R_(rc(t),e),s=i?.[mi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(BQ(n,i)&&(n!==void 0||s1(t.base_,e)))return!0;k_(t),u1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return R_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,k_(t),u1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ra(11)},getPrototypeOf(t){return mh(t.base_)},setPrototypeOf(){ra(12)}},gh={};dy(bA,(t,e)=>{gh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gh.deleteProperty=function(t,e){return gh.set.call(this,t,e,void 0)};gh.set=function(t,e,n){return bA.set.call(this,t[0],e,n,t[0])};function R_(t,e){const n=t[mi];return(n?rc(n):t)[e]}function GQ(t,e,n){const r=n6(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function n6(t,e){if(!(e in t))return;let n=mh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=mh(n)}}function u1(t){t.modified_||(t.modified_=!0,t.parent_&&u1(t.parent_))}function k_(t){t.copy_||(t.copy_=o1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var YQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...h){return l.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&ra(6),r!==void 0&&typeof r!="function"&&ra(7);let i;if(jc(e)){const s=YI(this),l=d1(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?l1(s):c1(s)}return GI(s,r),WI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===J5&&(i=void 0),this.autoFreeze_&&vA(i,!0),r){const s=[],l=[];Cc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else ra(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){jc(t)||ra(8),td(t)&&(t=WQ(t));const e=YI(this),n=d1(t,void 0);return n[mi].isManual_=!0,c1(e),n}finishDraft(t,e){const n=t&&t[mi];(!n||!n.isManual_)&&ra(9);const{scope_:r}=n;return GI(r,e),WI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Cc("Patches").applyPatches_;return td(t)?r(t,e):this.produce(t,i=>r(i,e))}};function d1(t,e){const n=Zh(t)?Cc("MapSet").proxyMap_(t,e):Lv(t)?Cc("MapSet").proxySet_(t,e):KQ(t,e);return(e?e.scope_:t6()).drafts_.push(n),n}function WQ(t){return td(t)||ra(10,t),r6(t)}function r6(t){if(!jc(t)||Vv(t))return t;const e=t[mi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=o1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=o1(t,!0);return dy(n,(i,s)=>{e6(n,i,r6(s))},r),e&&(e.finalized_=!1),n}var XQ=new YQ;XQ.produce;var QQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},i6=Wr({name:"legend",initialState:QQ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Qt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Qt()},removeLegendPayload:{reducer(t,e){var n=ua(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Qt()}}}),{setLegendSize:QI,setLegendSettings:JQ,addLegendPayload:a6,replaceLegendPayload:s6,removeLegendPayload:o6}=i6.actions,ZQ=i6.reducer,eJ=["contextPayload"];function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f1.apply(null,arguments)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){tJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tJ(t,e,n){return(e=nJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=rJ(t,"string");return typeof e=="symbol"?e:e+""}function rJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iJ(t,e){if(t==null)return{};var n,r,i=aJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sJ(t){return t.value}function oJ(t){var{contextPayload:e}=t,n=iJ(t,eJ),r=a5(e,t.payloadUniqBy,sJ),i=nd(nd({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(QY,i)}function lJ(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:d}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-s.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),nd(nd({},h),p)}function cJ(t){var e=Ft();return w.useEffect(()=>{e(JQ(t))},[e,t]),null}function uJ(t){var e=Ft();return w.useEffect(()=>(e(QI(t)),()=>{e(QI({width:0,height:0}))}),[e,t]),null}function dJ(t,e,n,r){return t==="vertical"&&Pe(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var fJ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Uv(t){var e=mn(t,fJ),n=HW(),r=FG(),i=LQ(),{width:s,height:l,wrapperStyle:u,portal:d}=e,[h,p]=u5([n]),g=gA(),b=yA();if(g==null||b==null)return null;var _=g-(i?.left||0)-(i?.right||0),E=dJ(e.layout,l,s,_),A=d?u:nd(nd({position:"absolute",width:E?.width||s||"auto",height:E?.height||l||"auto"},lJ(u,e,i,g,b,h)),u),S=d??r;if(S==null||n==null)return null;var j=w.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:p},w.createElement(cJ,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&w.createElement(uJ,{width:h.width,height:h.height}),w.createElement(oJ,f1({},e,E,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return Ky.createPortal(j,S)}Uv.displayName="Legend";function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1.apply(null,arguments)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gJ(t){return Array.isArray(t)&&qa(t[0])&&qa(t[1])?t.join(" ~ "):t}var yJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,_=()=>{if(s&&s.length){var V={padding:0,margin:0},$=(u?_v(s,u):s).map((O,I)=>{if(O.type==="none")return null;var D=O.formatter||l||gJ,{value:z,name:M}=O,B=z,k=M;if(D){var he=D(z,M,O,I,s);if(Array.isArray(he))[B,k]=he;else if(he!=null)B=he;else return null}var Ae=D_({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:Ae},qa(k)?w.createElement("span",{className:"recharts-tooltip-item-name"},k):null,qa(k)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},B),w.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},E=D_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=D_({margin:0},i),S=!Gt(p),j=S?p:"",R=ht("recharts-default-tooltip",d),P=ht("recharts-tooltip-label",h);S&&g&&s!==void 0&&s!==null&&(j=g(p,s));var U=b?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",h1({className:R,style:E},U),w.createElement("p",{className:P,style:A},w.isValidElement(j)?j:"".concat(j)),_())},Pf="recharts-tooltip-wrapper",vJ={visibility:"hidden"};function bJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return ht(Pf,{["".concat(Pf,"-right")]:Pe(n)&&e&&Pe(e.x)&&n>=e.x,["".concat(Pf,"-left")]:Pe(n)&&e&&Pe(e.x)&&n<e.x,["".concat(Pf,"-bottom")]:Pe(r)&&e&&Pe(e.y)&&r>=e.y,["".concat(Pf,"-top")]:Pe(r)&&e&&Pe(e.y)&&r<e.y})}function eP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=t;if(s&&Pe(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=d[r];if(b==null)return 0;if(l[r]){var _=p,E=b;return _<E?Math.max(g,b):Math.max(p,b)}if(h==null)return 0;var A=g+u,S=b+h;return A>S?Math.max(p,b):Math.max(g,b)}function xJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function _J(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=eP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=eP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=xJ({translateX:p,translateY:g,useTranslate3d:u})):h=vJ,{cssProperties:h,cssClasses:bJ({translateX:p,translateY:g,coordinate:n})}}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){m1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1(t,e,n){return(e=wJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=EJ(t,"string");return typeof e=="symbol"?e:e+""}function EJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AJ extends w.PureComponent{constructor(){super(...arguments),m1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),m1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:g,useTranslate3d:b,viewBox:_,wrapperStyle:E,lastBoundingBox:A,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:R,cssProperties:P}=_J({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:A.height,width:A.width},useTranslate3d:b,viewBox:_}),U=j?{}:ng(ng({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),V=ng(ng({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},E);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:V,ref:S},s)}}var l6=()=>{var t;return(t=Ve(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(null,arguments)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){SJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SJ(t,e,n){return(e=TJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TJ(t){var e=NJ(t,"string");return typeof e=="symbol"?e:e+""}function NJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iP={curveBasisClosed:oY,curveBasisOpen:lY,curveBasis:sY,curveBumpX:KG,curveBumpY:GG,curveLinearClosed:cY,curveLinear:bv,curveMonotoneX:uY,curveMonotoneY:dY,curveNatural:fY,curveStep:hY,curveStepAfter:pY,curveStepBefore:mY},my=t=>Ut(t.x)&&Ut(t.y),aP=t=>t.base!=null&&my(t.base)&&my(t),Rf=t=>t.x,kf=t=>t.y,jJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Kh(t));return(n==="curveMonotone"||n==="curveBump")&&e?iP["".concat(n).concat(e==="vertical"?"Y":"X")]:iP[n]||bv},CJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=jJ(e,i),u=s?n.filter(my):n,d;if(Array.isArray(r)){var h=n.map((_,E)=>rP(rP({},_),{},{base:r[E]}));i==="vertical"?d=Yp().y(kf).x1(Rf).x0(_=>_.base.x):d=Yp().x(Rf).y1(kf).y0(_=>_.base.y);var p=d.defined(aP).curve(l),g=s?h.filter(aP):h;return p(g)}i==="vertical"&&Pe(r)?d=Yp().y(kf).x1(Rf).x0(r):Pe(r)?d=Yp().x(Rf).y1(kf).y0(r):d=kL().x(Rf).y(kf);var b=d.defined(my).curve(l);return b(u)},Hu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=El();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?CJ(l):r;return w.createElement("path",p1({},kr(t),nA(t),{className:ht("recharts-curve",e),d:u===null?void 0:u,ref:i}))},OJ=["x","y","top","left","width","height","className"];function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g1.apply(null,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){PJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PJ(t,e,n){return(e=RJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=kJ(t,"string");return typeof e=="symbol"?e:e+""}function kJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DJ(t,e){if(t==null)return{};var n,r,i=MJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LJ=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),VJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,d=DJ(t,OJ),h=IJ({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Pe(e)||!Pe(n)||!Pe(s)||!Pe(l)||!Pe(r)||!Pe(i)?null:w.createElement("path",g1({},jr(h),{className:ht("recharts-cross",u),d:LJ(e,n,s,l,r,i)}))};function UJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){zJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zJ(t,e,n){return(e=BJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BJ(t){var e=FJ(t,"string");return typeof e=="symbol"?e:e+""}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $J=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),c6=(t,e,n)=>t.map(r=>"".concat($J(r)," ").concat(e,"ms ").concat(n)).join(","),qJ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),yh=(t,e)=>Object.keys(e).reduce((n,r)=>lP(lP({},n),{},{[r]:t(r,e[r])}),{});function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){HJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HJ(t,e,n){return(e=KJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJ(t){var e=GJ(t,"string");return typeof e=="symbol"?e:e+""}function GJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var py=(t,e,n)=>t+(e-t)*n,y1=t=>{var{from:e,to:n}=t;return e!==n},u6=(t,e,n)=>{var r=yh((i,s)=>{if(y1(s)){var[l,u]=t(s.from,s.to,s.velocity);return zn(zn({},s),{},{from:l,velocity:u})}return s},e);return n<1?yh((i,s)=>y1(s)&&r[i]!=null?zn(zn({},s),{},{velocity:py(s.velocity,r[i].velocity,n),from:py(s.from,r[i].from,n)}):s,e):u6(t,r,n-1)};function YJ(t,e,n,r,i,s){var l,u=r.reduce((b,_)=>zn(zn({},b),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>yh((b,_)=>_.from,u),h=()=>!Object.values(u).filter(y1).length,p=null,g=b=>{l||(l=b);var _=b-l,E=_/n.dt;u=u6(n,u,E),i(zn(zn(zn({},t),e),d())),l=b,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function WJ(t,e,n,r,i,s,l){var u=null,d=i.reduce((g,b)=>{var _=t[b],E=e[b];return _==null||E==null?g:zn(zn({},g),{},{[b]:[_,E]})},{}),h,p=g=>{h||(h=g);var b=(g-h)/r,_=yh((A,S)=>py(...S,n(b)),d);if(s(zn(zn(zn({},t),e),_)),b<1)u=l.setTimeout(p);else{var E=yh((A,S)=>py(...S,n(1)),d);s(zn(zn(zn({},t),e),E))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const XJ=(t,e,n,r,i,s)=>{var l=qJ(t,e);return n==null?()=>(i(zn(zn({},t),e)),()=>{}):n.isStepper===!0?YJ(t,e,n,l,i,s):WJ(t,e,n,r,l,i,s)};var gy=1e-4,d6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],f6=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),uP=(t,e)=>n=>{var r=d6(t,e);return f6(r,n)},QJ=(t,e)=>n=>{var r=d6(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return f6(i,n)},JJ=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},ZJ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=JJ(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},eZ=(t,e,n,r)=>{var i=uP(t,n),s=uP(e,r),l=QJ(t,n),u=h=>h>1?1:h<0?0:h,d=h=>{for(var p=h>1?1:h,g=p,b=0;b<8;++b){var _=i(g)-p,E=l(g);if(Math.abs(_-p)<gy||E<gy)return s(g);g=u(g-_/E)}return s(g)};return d.isStepper=!1,d},dP=function(){return eZ(...ZJ(...arguments))},tZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,d)=>{var h=-(l-u)*n,p=d*r,g=d+(h-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<gy&&Math.abs(g)<gy?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},nZ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dP(t);case"spring":return tZ();default:if(t.split("(")[0]==="cubic-bezier")return dP(t)}return typeof t=="function"?t:null};function rZ(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){i=t.setTimeout(s.bind(null,h),d);return}s(d),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class iZ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function aZ(){return rZ(new iZ)}var sZ=w.createContext(aZ);function oZ(t,e){var n=w.useContext(sZ);return w.useMemo(()=>e??n(t),[t,e,n])}var lZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),em={isSsr:lZ()},cZ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},fP={t:0},M_={t:1};function yd(t){var e=mn(t,cZ),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=e,p=n==="auto"?!em.isSsr:n,g=oZ(e.animationId,e.animationManager),[b,_]=w.useState(p?fP:M_),E=w.useRef(null);return w.useEffect(()=>{p||_(M_)},[p]),w.useEffect(()=>{if(!p||!r)return Gh;var A=XJ(fP,M_,nZ(s),i,_,g.getTimeoutController()),S=()=>{E.current=A()};return g.start([d,l,S,i,u]),()=>{g.stop(),E.current&&E.current(),u()}},[p,r,i,s,l,d,u,g]),h(b.t)}function vd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(uh(e)),r=w.useRef(t);return r.current!==t&&(n.current=uh(e),r.current=t),n.current}var uZ=["radius"],dZ=["radius"],hP,mP,pP,gP,yP,vP,bP,xP,_P,wP;function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){fZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fZ(t,e,n){return(e=hZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hZ(t){var e=mZ(t,"string");return typeof e=="symbol"?e:e+""}function mZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(null,arguments)}function SP(t,e){if(t==null)return{};var n,r,i=pZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var TP=(t,e,n,r,i)=>{var s=Xo(n),l=Xo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],_=0,E=4;_<E;_++)b[_]=i[_]>u?u:i[_];g=cn(hP||(hP=Pa(["M",",",""])),t,e+d*b[0]),b[0]>0&&(g+=cn(mP||(mP=Pa(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+h*b[0],e)),g+=cn(pP||(pP=Pa(["L ",",",""])),t+n-h*b[1],e),b[1]>0&&(g+=cn(gP||(gP=Pa(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),g+=cn(yP||(yP=Pa(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(g+=cn(vP||(vP=Pa(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-h*b[2],e+r)),g+=cn(bP||(bP=Pa(["L ",",",""])),t+h*b[3],e+r),b[3]>0&&(g+=cn(xP||(xP=Pa(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var A=Math.min(u,i);g=cn(_P||(_P=Pa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*A,A,A,p,t+h*A,e,t+n-h*A,e,A,A,p,t+n,e+d*A,t+n,e+r-d*A,A,A,p,t+n-h*A,e+r,t+h*A,e+r,A,A,p,t,e+r-d*A)}else g=cn(wP||(wP=Pa(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},NP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h6=t=>{var e=mn(t,NP),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:h,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:A}=e,S=w.useRef(u),j=w.useRef(d),R=w.useRef(s),P=w.useRef(l),U=w.useMemo(()=>({x:s,y:l,width:u,height:d,radius:h}),[s,l,u,d,h]),V=vd(U,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var $=ht("recharts-rectangle",p);if(!A){var O=jr(e),{radius:I}=O,D=SP(O,uZ);return w.createElement("path",yy({},D,{x:Xo(s),y:Xo(l),width:Xo(u),height:Xo(d),radius:typeof h=="number"?h:void 0,className:$,d:TP(s,l,u,d,h)}))}var z=S.current,M=j.current,B=R.current,k=P.current,he="0px ".concat(r===-1?1:r,"px"),Ae="".concat(r,"px 0px"),X=c6(["strokeDasharray"],b,typeof g=="string"?g:NP.animationEasing);return w.createElement(yd,{animationId:V,key:V,canBegin:r>0,duration:b,easing:g,isActive:A,begin:_},oe=>{var _e=xt(z,u,oe),Z=xt(M,d,oe),Se=xt(B,s,oe),H=xt(k,l,oe);n.current&&(S.current=_e,j.current=Z,R.current=Se,P.current=H);var q;E?oe>0?q={transition:X,strokeDasharray:Ae}:q={strokeDasharray:he}:q={strokeDasharray:Ae};var K=jr(e),{radius:J}=K,fe=SP(K,dZ);return w.createElement("path",yy({},fe,{radius:typeof h=="number"?h:void 0,className:$,d:TP(Se,H,_e,Z,h),ref:n,style:AP(AP({},q),e.style)}))})};function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){gZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gZ(t,e,n){return(e=yZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vy=Math.PI/180,bZ=t=>t*180/Math.PI,Dn=(t,e,n,r)=>({x:t+Math.cos(-vy*r)*n,y:e+Math.sin(-vy*r)*n}),m6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xZ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},_Z=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=xZ({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:bZ(d),angleInRadian:d}},wZ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},EZ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},AZ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=_Z({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:h}=wZ(e),p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?CP(CP({},e),{},{radius:i,angle:EZ(p,e)}):null};function p6(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=Dn(e,n,r,i),u=Dn(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var OP,IP,PP,RP,kP,DP,MP;function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v1.apply(null,arguments)}function lc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var SZ=(t,e)=>{var n=rr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},rg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/vy,g=d?i:i+s*p,b=Dn(e,n,h,g),_=Dn(e,n,r,g),E=d?i-s*p:i,A=Dn(e,n,h*Math.cos(p*vy),E);return{center:b,circleTangency:_,lineTangency:A,theta:p}},g6=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=SZ(s,l),d=s+u,h=Dn(e,n,i,s),p=Dn(e,n,i,d),g=cn(OP||(OP=lc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(u)>180),+(s>d),p.x,p.y);if(r>0){var b=Dn(e,n,r,s),_=Dn(e,n,r,d);g+=cn(IP||(IP=lc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(s<=d),b.x,b.y)}else g+=cn(PP||(PP=lc(["L ",","," Z"])),e,n);return g},TZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=t,p=rr(h-d),{circleTangency:g,lineTangency:b,theta:_}=rg({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:E,lineTangency:A,theta:S}=rg({cx:e,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-h):Math.abs(d-h)-_-S;if(j<0)return l?cn(RP||(RP=lc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):g6({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var R=cn(kP||(kP=lc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(j>180),+(p<0),E.x,E.y,s,s,+(p<0),A.x,A.y);if(r>0){var{circleTangency:P,lineTangency:U,theta:V}=rg({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:$,lineTangency:O,theta:I}=rg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),D=u?Math.abs(d-h):Math.abs(d-h)-V-I;if(D<0&&s===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+=cn(DP||(DP=lc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,s,s,+(p<0),$.x,$.y,r,r,+(D>180),+(p>0),P.x,P.y,s,s,+(p<0),U.x,U.y)}else R+=cn(MP||(MP=lc(["L",",","Z"])),e,n);return R},NZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},y6=t=>{var e=mn(t,NZ),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:g}=e;if(s<i||h===p)return null;var b=ht("recharts-sector",g),_=s-i,E=Tr(l,_,0,!0),A;return E>0&&Math.abs(h-p)<360?A=TZ({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(E,_/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):A=g6({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",v1({},jr(e),{className:b,d:A}))};function jZ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(WL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,d=Dn(r,i,s,u),h=Dn(r,i,l,u);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return p6(e)}}var L_={},V_={},U_={},LP;function CZ(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o5();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(U_)),U_}var VP;function OZ(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CZ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(V_)),V_}var UP;function IZ(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l5(),n=OZ();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=l;return d}t.range=r})(L_)),L_}var z_,zP;function PZ(){return zP||(zP=1,z_=IZ().range),z_}var RZ=PZ();const v6=Xs(RZ);function tl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xA(t){let e,n,r;t.length!==2?(e=tl,n=(u,d)=>tl(t(u),d),r=(u,d)=>t(u)-d):(e=t===tl||t===kZ?t:DZ,n=t,r=t);function i(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<0?h=g+1:p=g}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(e(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,d,h=0,p=u.length){const g=i(u,d,h,p-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function DZ(){return 0}function b6(t){return t===null?NaN:+t}function*MZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const LZ=xA(tl),tm=LZ.right;xA(b6).center;class BP extends Map{constructor(e,n=zZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(FP(this,e))}has(e){return super.has(FP(this,e))}set(e,n){return super.set(VZ(this,e),n)}delete(e){return super.delete(UZ(this,e))}}function FP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function VZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function UZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function BZ(t=tl){if(t===tl)return x6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function x6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const FZ=Math.sqrt(50),$Z=Math.sqrt(10),qZ=Math.sqrt(2);function by(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=FZ?10:s>=$Z?5:s>=qZ?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(t*h),d=Math.round(e*h),u/h<t&&++u,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(t/h),d=Math.round(e/h),u*h<t&&++u,d*h>e&&--d),d<u&&.5<=n&&n<2?by(t,e,n*2):[u,d,h]}function b1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?by(e,t,n):by(t,e,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function x1(t,e,n){return e=+e,t=+t,n=+n,by(t,e,n)[2]}function _1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?x1(e,t,n):x1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function $P(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?x6:BZ(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(h-d/2<0?-1:1),_=Math.max(n,Math.floor(e-h*g/d+b)),E=Math.min(r,Math.floor(e+(d-h)*g/d+b));_6(t,e,_,E,i)}const s=t[e];let l=n,u=r;for(Df(t,n,e),i(t[r],s)>0&&Df(t,n,r);l<u;){for(Df(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?Df(t,n,u):(++u,Df(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Df(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function HZ(t,e,n){if(t=Float64Array.from(MZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qP(t);if(e>=1)return $P(t);var r,i=(r-1)*e,s=Math.floor(i),l=$P(_6(t,s).subarray(0,s+1)),u=qP(t.subarray(s+1));return l+(u-l)*(i-s)}}function KZ(t,e,n=b6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function GZ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function $i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function eo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const w1=Symbol("implicit");function _A(){var t=new BP,e=[],n=[],r=w1;function i(s){let l=t.get(s);if(l===void 0){if(r!==w1)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new BP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _A(e,n).unknown(r)},$i.apply(i,arguments),i}function wA(){var t=_A().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,d=0,h=0,p=.5;delete t.unknown;function g(){var b=e().length,_=i<r,E=_?i:r,A=_?r:i;s=(A-E)/Math.max(1,b-d+h*2),u&&(s=Math.floor(s)),E+=(A-E-s*(b-d))*p,l=s*(1-d),u&&(E=Math.round(E),l=Math.round(l));var S=GZ(b).map(function(j){return E+s*j});return n(_?S.reverse():S)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,h=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return wA(e(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},$i.apply(g(),arguments)}function w6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w6(e())},t}function YZ(){return w6(wA.apply(null,arguments).paddingInner(1))}function EA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function E6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nm(){}var vh=.7,xy=1/vh,Ku="\\s*([+-]?\\d+)\\s*",bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WZ=/^#([0-9a-f]{3,8})$/,XZ=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),QZ=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),JZ=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${bh}\\)$`),ZZ=new RegExp(`^rgba\\(${za},${za},${za},${bh}\\)$`),eee=new RegExp(`^hsl\\(${bh},${za},${za}\\)$`),tee=new RegExp(`^hsla\\(${bh},${za},${za},${bh}\\)$`),HP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EA(nm,xh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:KP,formatHex:KP,formatHex8:nee,formatHsl:ree,formatRgb:GP,toString:GP});function KP(){return this.rgb().formatHex()}function nee(){return this.rgb().formatHex8()}function ree(){return A6(this).formatHsl()}function GP(){return this.rgb().formatRgb()}function xh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=WZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?YP(e):n===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ig(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ig(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XZ.exec(t))?new Yr(e[1],e[2],e[3],1):(e=QZ.exec(t))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JZ.exec(t))?ig(e[1],e[2],e[3],e[4]):(e=ZZ.exec(t))?ig(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eee.exec(t))?QP(e[1],e[2]/100,e[3]/100,1):(e=tee.exec(t))?QP(e[1],e[2]/100,e[3]/100,e[4]):HP.hasOwnProperty(t)?YP(HP[t]):t==="transparent"?new Yr(NaN,NaN,NaN,0):null}function YP(t){return new Yr(t>>16&255,t>>8&255,t&255,1)}function ig(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yr(t,e,n,r)}function iee(t){return t instanceof nm||(t=xh(t)),t?(t=t.rgb(),new Yr(t.r,t.g,t.b,t.opacity)):new Yr}function E1(t,e,n,r){return arguments.length===1?iee(t):new Yr(t,e,n,r??1)}function Yr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}EA(Yr,E1,E6(nm,{brighter(t){return t=t==null?xy:Math.pow(xy,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vh:Math.pow(vh,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yr(pc(this.r),pc(this.g),pc(this.b),_y(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WP,formatHex:WP,formatHex8:aee,formatRgb:XP,toString:XP}));function WP(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}`}function aee(){return`#${cc(this.r)}${cc(this.g)}${cc(this.b)}${cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function XP(){const t=_y(this.opacity);return`${t===1?"rgb(":"rgba("}${pc(this.r)}, ${pc(this.g)}, ${pc(this.b)}${t===1?")":`, ${t})`}`}function _y(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cc(t){return t=pc(t),(t<16?"0":"")+t.toString(16)}function QP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,n,r)}function A6(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof nm||(t=xh(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new ia(l,u,d,t.opacity)}function see(t,e,n,r){return arguments.length===1?A6(t):new ia(t,e,n,r??1)}function ia(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}EA(ia,see,E6(nm,{brighter(t){return t=t==null?xy:Math.pow(xy,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vh:Math.pow(vh,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yr(B_(t>=240?t-240:t+120,i,r),B_(t,i,r),B_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ia(JP(this.h),ag(this.s),ag(this.l),_y(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_y(this.opacity);return`${t===1?"hsl(":"hsla("}${JP(this.h)}, ${ag(this.s)*100}%, ${ag(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JP(t){return t=(t||0)%360,t<0?t+360:t}function ag(t){return Math.max(0,Math.min(1,t||0))}function B_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const AA=t=>()=>t;function oee(t,e){return function(n){return t+n*e}}function lee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cee(t){return(t=+t)==1?S6:function(e,n){return n-e?lee(e,n,t):AA(isNaN(e)?n:e)}}function S6(t,e){var n=e-t;return n?oee(t,n):AA(isNaN(t)?e:t)}const ZP=(function t(e){var n=cee(e);function r(i,s){var l=n((i=E1(i)).r,(s=E1(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),h=S6(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function uee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function dee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=bd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function hee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var A1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F_=new RegExp(A1.source,"g");function pee(t){return function(){return t}}function gee(t){return function(e){return t(e)+""}}function yee(t,e){var n=A1.lastIndex=F_.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=A1.exec(t))&&(i=F_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:wy(r,i)})),n=F_.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?gee(d[0].x):pee(e):(e=d.length,function(h){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(h);return u.join("")})}function bd(t,e){var n=typeof e,r;return e==null||n==="boolean"?AA(e):(n==="number"?wy:n==="string"?(r=xh(e))?(e=r,ZP):yee:e instanceof xh?ZP:e instanceof Date?hee:dee(e)?uee:Array.isArray(e)?fee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mee:wy)(t,e)}function SA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vee(t,e){e===void 0&&(e=t,t=bd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function bee(t){return function(){return t}}function Ey(t){return+t}var eR=[0,1];function Rr(t){return t}function S1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bee(isNaN(e)?NaN:.5)}function xee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _ee(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=S1(i,r),s=n(l,s)):(r=S1(r,i),s=n(s,l)),function(u){return s(r(u))}}function wee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=S1(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var d=tm(t,u,1,r)-1;return s[d](i[d](u))}}function rm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zv(){var t=eR,e=eR,n=bd,r,i,s,l=Rr,u,d,h;function p(){var b=Math.min(t.length,e.length);return l!==Rr&&(l=xee(t[0],t[b-1])),u=b>2?wee:_ee,d=h=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((h||(h=u(e,t.map(r),wy)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,Ey),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=SA,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Rr,p()):l!==Rr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,_){return r=b,i=_,p()}}function TA(){return zv()(Rr,Rr)}function Eee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ay(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function rd(t){return t=Ay(Math.abs(t)),t?t[1]:NaN}function Aee(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function See(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Tee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _h(t){if(!(e=Tee.exec(t)))throw new Error("invalid format: "+t);var e;return new NA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_h.prototype=NA.prototype;function NA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}NA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var T6;function jee(t,e){var n=Ay(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(T6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ay(t,Math.max(0,e+s-1))[0]}function tR(t,e){var n=Ay(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Eee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tR(t*100,e),r:tR,s:jee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rR(t){return t}var iR=Array.prototype.map,aR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cee(t){var e=t.grouping===void 0||t.thousands===void 0?rR:Aee(iR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?rR:See(iR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(g){g=_h(g);var b=g.fill,_=g.align,E=g.sign,A=g.symbol,S=g.zero,j=g.width,R=g.comma,P=g.precision,U=g.trim,V=g.type;V==="n"?(R=!0,V="g"):nR[V]||(P===void 0&&(P=12),U=!0,V="g"),(S||b==="0"&&_==="=")&&(S=!0,b="0",_="=");var $=A==="$"?n:A==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",O=A==="$"?r:/[%p]/.test(V)?l:"",I=nR[V],D=/[defgprs%]/.test(V);P=P===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function z(M){var B=$,k=O,he,Ae,X;if(V==="c")k=I(M)+k,M="";else{M=+M;var oe=M<0||1/M<0;if(M=isNaN(M)?d:I(Math.abs(M),P),U&&(M=Nee(M)),oe&&+M==0&&E!=="+"&&(oe=!1),B=(oe?E==="("?E:u:E==="-"||E==="("?"":E)+B,k=(V==="s"?aR[8+T6/3]:"")+k+(oe&&E==="("?")":""),D){for(he=-1,Ae=M.length;++he<Ae;)if(X=M.charCodeAt(he),48>X||X>57){k=(X===46?i+M.slice(he+1):M.slice(he))+k,M=M.slice(0,he);break}}}R&&!S&&(M=e(M,1/0));var _e=B.length+M.length+k.length,Z=_e<j?new Array(j-_e+1).join(b):"";switch(R&&S&&(M=e(Z+M,Z.length?j-k.length:1/0),Z=""),_){case"<":M=B+M+k+Z;break;case"=":M=B+Z+M+k;break;case"^":M=Z.slice(0,_e=Z.length>>1)+B+M+k+Z.slice(_e);break;default:M=Z+B+M+k;break}return s(M)}return z.toString=function(){return g+""},z}function p(g,b){var _=h((g=_h(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(rd(b)/3)))*3,A=Math.pow(10,-E),S=aR[8+E/3];return function(j){return _(A*j)+S}}return{format:h,formatPrefix:p}}var sg,jA,N6;Oee({thousands:",",grouping:[3],currency:["$",""]});function Oee(t){return sg=Cee(t),jA=sg.format,N6=sg.formatPrefix,sg}function Iee(t){return Math.max(0,-rd(Math.abs(t)))}function Pee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rd(e)/3)))*3-rd(Math.abs(t)))}function Ree(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rd(e)-rd(t))+1}function j6(t,e,n,r){var i=_1(t,e,n),s;switch(r=_h(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Pee(i,l))&&(r.precision=s),N6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Ree(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Iee(i))&&(r.precision=s-(r.type==="%")*2);break}}return jA(r)}function Al(t){var e=t.domain;return t.ticks=function(n){var r=e();return b1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return j6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=x1(l,u,n),h===d)return r[i]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return t},t}function C6(){var t=TA();return t.copy=function(){return rm(t,C6())},$i.apply(t,arguments),Al(t)}function O6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ey),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return O6(t).unknown(e)},t=arguments.length?Array.from(t,Ey):[0,1],Al(n)}function I6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function sR(t){return Math.log(t)}function oR(t){return Math.exp(t)}function kee(t){return-Math.log(-t)}function Dee(t){return-Math.exp(-t)}function Mee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lee(t){return t===10?Mee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Vee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lR(t){return(e,n)=>-t(-e,n)}function CA(t){const e=t(sR,oR),n=e.domain;let r=10,i,s;function l(){return i=Vee(r),s=Lee(r),n()[0]<0?(i=lR(i),s=lR(s),t(kee,Dee)):t(sR,oR),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const g=p<h;g&&([h,p]=[p,h]);let b=i(h),_=i(p),E,A;const S=u==null?10:+u;let j=[];if(!(r%1)&&_-b<S){if(b=Math.floor(b),_=Math.ceil(_),h>0){for(;b<=_;++b)for(E=1;E<r;++E)if(A=b<0?E/s(-b):E*s(b),!(A<h)){if(A>p)break;j.push(A)}}else for(;b<=_;++b)for(E=r-1;E>=1;--E)if(A=b>0?E/s(-b):E*s(b),!(A<h)){if(A>p)break;j.push(A)}j.length*2<S&&(j=b1(h,p,S))}else j=b1(b,_,Math.min(_-b,S)).map(s);return g?j.reverse():j},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=_h(d)).precision==null&&(d.trim=!0),d=jA(d)),u===1/0)return d;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?d(p):""}},e.nice=()=>n(I6(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function P6(){const t=CA(zv()).domain([1,10]);return t.copy=()=>rm(t,P6()).base(t.base()),$i.apply(t,arguments),t}function cR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OA(t){var e=1,n=t(cR(e),uR(e));return n.constant=function(r){return arguments.length?t(cR(e=+r),uR(e)):e},Al(n)}function R6(){var t=OA(zv());return t.copy=function(){return rm(t,R6()).constant(t.constant())},$i.apply(t,arguments)}function dR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Uee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zee(t){return t<0?-t*t:t*t}function IA(t){var e=t(Rr,Rr),n=1;function r(){return n===1?t(Rr,Rr):n===.5?t(Uee,zee):t(dR(n),dR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Al(e)}function PA(){var t=IA(zv());return t.copy=function(){return rm(t,PA()).exponent(t.exponent())},$i.apply(t,arguments),t}function Bee(){return PA.apply(null,arguments).exponent(.5)}function fR(t){return Math.sign(t)*t*t}function Fee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function k6(){var t=TA(),e=[0,1],n=!1,r;function i(s){var l=Fee(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(fR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ey)).map(fR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return k6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$i.apply(i,arguments),Al(i)}function D6(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=KZ(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[tm(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(tl),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return D6().domain(t).range(e).unknown(r)},$i.apply(s,arguments)}function M6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[tm(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return M6().domain([t,e]).range(i).unknown(s)},$i.apply(Al(l),arguments)}function L6(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[tm(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return L6().domain(t).range(e).unknown(n)},$i.apply(i,arguments)}const $_=new Date,q_=new Date;function qn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return d},i.filter=s=>qn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>($_.setTime(+s),q_.setTime(+l),t($_),t(q_),Math.floor(n($_,q_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Sy=qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Sy);Sy.range;const Os=1e3,Mi=Os*60,Is=Mi*60,qs=Is*24,RA=qs*7,hR=qs*30,H_=qs*365,uc=qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCSeconds());uc.range;const kA=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getMinutes());kA.range;const DA=qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCMinutes());DA.range;const MA=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os-t.getMinutes()*Mi)},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getHours());MA.range;const LA=qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Is)},(t,e)=>(e-t)/Is,t=>t.getUTCHours());LA.range;const im=qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mi)/qs,t=>t.getDate()-1);im.range;const Bv=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>t.getUTCDate()-1);Bv.range;const V6=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qs,t=>Math.floor(t/qs));V6.range;function Uc(t){return qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/RA)}const Fv=Uc(0),Ty=Uc(1),$ee=Uc(2),qee=Uc(3),id=Uc(4),Hee=Uc(5),Kee=Uc(6);Fv.range;Ty.range;$ee.range;qee.range;id.range;Hee.range;Kee.range;function zc(t){return qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/RA)}const $v=zc(0),Ny=zc(1),Gee=zc(2),Yee=zc(3),ad=zc(4),Wee=zc(5),Xee=zc(6);$v.range;Ny.range;Gee.range;Yee.range;ad.range;Wee.range;Xee.range;const VA=qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VA.range;const UA=qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());UA.range;const Hs=qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Hs.range;const Ks=qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ks.range;function U6(t,e,n,r,i,s){const l=[[uc,1,Os],[uc,5,5*Os],[uc,15,15*Os],[uc,30,30*Os],[s,1,Mi],[s,5,5*Mi],[s,15,15*Mi],[s,30,30*Mi],[i,1,Is],[i,3,3*Is],[i,6,6*Is],[i,12,12*Is],[r,1,qs],[r,2,2*qs],[n,1,RA],[e,1,hR],[e,3,3*hR],[t,1,H_]];function u(h,p,g){const b=p<h;b&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:d(h,p,g),E=_?_.range(h,+p+1):[];return b?E.reverse():E}function d(h,p,g){const b=Math.abs(p-h)/g,_=xA(([,,S])=>S).right(l,b);if(_===l.length)return t.every(_1(h/H_,p/H_,g));if(_===0)return Sy.every(Math.max(_1(h,p,g),1));const[E,A]=l[b/l[_-1][2]<l[_][2]/b?_-1:_];return E.every(A)}return[u,d]}const[Qee,Jee]=U6(Ks,UA,$v,V6,LA,DA),[Zee,ete]=U6(Hs,VA,Fv,im,MA,kA);function K_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function G_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,h=Lf(i),p=Vf(i),g=Lf(s),b=Vf(s),_=Lf(l),E=Vf(l),A=Lf(u),S=Vf(u),j=Lf(d),R=Vf(d),P={a:oe,A:_e,b:Z,B:Se,c:null,d:bR,e:bR,f:Ate,g:kte,G:Mte,H:_te,I:wte,j:Ete,L:z6,m:Ste,M:Tte,p:H,q,Q:wR,s:ER,S:Nte,u:jte,U:Cte,V:Ote,w:Ite,W:Pte,x:null,X:null,y:Rte,Y:Dte,Z:Lte,"%":_R},U={a:K,A:J,b:fe,B:xe,c:null,d:xR,e:xR,f:Bte,g:Qte,G:Zte,H:Vte,I:Ute,j:zte,L:F6,m:Fte,M:$te,p:we,q:Te,Q:wR,s:ER,S:qte,u:Hte,U:Kte,V:Gte,w:Yte,W:Wte,x:null,X:null,y:Xte,Y:Jte,Z:ene,"%":_R},V={a:z,A:M,b:B,B:k,c:he,d:yR,e:yR,f:yte,g:gR,G:pR,H:vR,I:vR,j:hte,L:gte,m:fte,M:mte,p:D,q:dte,Q:bte,s:xte,S:pte,u:ste,U:ote,V:lte,w:ate,W:cte,x:Ae,X,y:gR,Y:pR,Z:ute,"%":vte};P.x=$(n,P),P.X=$(r,P),P.c=$(e,P),U.x=$(n,U),U.X=$(r,U),U.c=$(e,U);function $(te,Re){return function(je){var ge=[],Ie=-1,Oe=0,dt=te.length,W,Ee,be;for(je instanceof Date||(je=new Date(+je));++Ie<dt;)te.charCodeAt(Ie)===37&&(ge.push(te.slice(Oe,Ie)),(Ee=mR[W=te.charAt(++Ie)])!=null?W=te.charAt(++Ie):Ee=W==="e"?" ":"0",(be=Re[W])&&(W=be(je,Ee)),ge.push(W),Oe=Ie+1);return ge.push(te.slice(Oe,Ie)),ge.join("")}}function O(te,Re){return function(je){var ge=Mf(1900,void 0,1),Ie=I(ge,te,je+="",0),Oe,dt;if(Ie!=je.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Re&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Oe=G_(Mf(ge.y,0,1)),dt=Oe.getUTCDay(),Oe=dt>4||dt===0?Ny.ceil(Oe):Ny(Oe),Oe=Bv.offset(Oe,(ge.V-1)*7),ge.y=Oe.getUTCFullYear(),ge.m=Oe.getUTCMonth(),ge.d=Oe.getUTCDate()+(ge.w+6)%7):(Oe=K_(Mf(ge.y,0,1)),dt=Oe.getDay(),Oe=dt>4||dt===0?Ty.ceil(Oe):Ty(Oe),Oe=im.offset(Oe,(ge.V-1)*7),ge.y=Oe.getFullYear(),ge.m=Oe.getMonth(),ge.d=Oe.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),dt="Z"in ge?G_(Mf(ge.y,0,1)).getUTCDay():K_(Mf(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(dt+5)%7:ge.w+ge.U*7-(dt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,G_(ge)):K_(ge)}}function I(te,Re,je,ge){for(var Ie=0,Oe=Re.length,dt=je.length,W,Ee;Ie<Oe;){if(ge>=dt)return-1;if(W=Re.charCodeAt(Ie++),W===37){if(W=Re.charAt(Ie++),Ee=V[W in mR?Re.charAt(Ie++):W],!Ee||(ge=Ee(te,je,ge))<0)return-1}else if(W!=je.charCodeAt(ge++))return-1}return ge}function D(te,Re,je){var ge=h.exec(Re.slice(je));return ge?(te.p=p.get(ge[0].toLowerCase()),je+ge[0].length):-1}function z(te,Re,je){var ge=_.exec(Re.slice(je));return ge?(te.w=E.get(ge[0].toLowerCase()),je+ge[0].length):-1}function M(te,Re,je){var ge=g.exec(Re.slice(je));return ge?(te.w=b.get(ge[0].toLowerCase()),je+ge[0].length):-1}function B(te,Re,je){var ge=j.exec(Re.slice(je));return ge?(te.m=R.get(ge[0].toLowerCase()),je+ge[0].length):-1}function k(te,Re,je){var ge=A.exec(Re.slice(je));return ge?(te.m=S.get(ge[0].toLowerCase()),je+ge[0].length):-1}function he(te,Re,je){return I(te,e,Re,je)}function Ae(te,Re,je){return I(te,n,Re,je)}function X(te,Re,je){return I(te,r,Re,je)}function oe(te){return l[te.getDay()]}function _e(te){return s[te.getDay()]}function Z(te){return d[te.getMonth()]}function Se(te){return u[te.getMonth()]}function H(te){return i[+(te.getHours()>=12)]}function q(te){return 1+~~(te.getMonth()/3)}function K(te){return l[te.getUTCDay()]}function J(te){return s[te.getUTCDay()]}function fe(te){return d[te.getUTCMonth()]}function xe(te){return u[te.getUTCMonth()]}function we(te){return i[+(te.getUTCHours()>=12)]}function Te(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Re=$(te+="",P);return Re.toString=function(){return te},Re},parse:function(te){var Re=O(te+="",!1);return Re.toString=function(){return te},Re},utcFormat:function(te){var Re=$(te+="",U);return Re.toString=function(){return te},Re},utcParse:function(te){var Re=O(te+="",!0);return Re.toString=function(){return te},Re}}}var mR={"-":"",_:" ",0:"0"},or=/^\s*\d+/,nte=/^%/,rte=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ite(t){return t.replace(rte,"\\$&")}function Lf(t){return new RegExp("^(?:"+t.map(ite).join("|")+")","i")}function Vf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ate(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ste(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ote(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lte(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function cte(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pR(t,e,n){var r=or.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gR(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ute(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dte(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fte(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yR(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hte(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vR(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mte(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pte(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gte(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yte(t,e,n){var r=or.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vte(t,e,n){var r=nte.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bte(t,e,n){var r=or.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xte(t,e,n){var r=or.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bR(t,e){return yt(t.getDate(),e,2)}function _te(t,e){return yt(t.getHours(),e,2)}function wte(t,e){return yt(t.getHours()%12||12,e,2)}function Ete(t,e){return yt(1+im.count(Hs(t),t),e,3)}function z6(t,e){return yt(t.getMilliseconds(),e,3)}function Ate(t,e){return z6(t,e)+"000"}function Ste(t,e){return yt(t.getMonth()+1,e,2)}function Tte(t,e){return yt(t.getMinutes(),e,2)}function Nte(t,e){return yt(t.getSeconds(),e,2)}function jte(t){var e=t.getDay();return e===0?7:e}function Cte(t,e){return yt(Fv.count(Hs(t)-1,t),e,2)}function B6(t){var e=t.getDay();return e>=4||e===0?id(t):id.ceil(t)}function Ote(t,e){return t=B6(t),yt(id.count(Hs(t),t)+(Hs(t).getDay()===4),e,2)}function Ite(t){return t.getDay()}function Pte(t,e){return yt(Ty.count(Hs(t)-1,t),e,2)}function Rte(t,e){return yt(t.getFullYear()%100,e,2)}function kte(t,e){return t=B6(t),yt(t.getFullYear()%100,e,2)}function Dte(t,e){return yt(t.getFullYear()%1e4,e,4)}function Mte(t,e){var n=t.getDay();return t=n>=4||n===0?id(t):id.ceil(t),yt(t.getFullYear()%1e4,e,4)}function Lte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function xR(t,e){return yt(t.getUTCDate(),e,2)}function Vte(t,e){return yt(t.getUTCHours(),e,2)}function Ute(t,e){return yt(t.getUTCHours()%12||12,e,2)}function zte(t,e){return yt(1+Bv.count(Ks(t),t),e,3)}function F6(t,e){return yt(t.getUTCMilliseconds(),e,3)}function Bte(t,e){return F6(t,e)+"000"}function Fte(t,e){return yt(t.getUTCMonth()+1,e,2)}function $te(t,e){return yt(t.getUTCMinutes(),e,2)}function qte(t,e){return yt(t.getUTCSeconds(),e,2)}function Hte(t){var e=t.getUTCDay();return e===0?7:e}function Kte(t,e){return yt($v.count(Ks(t)-1,t),e,2)}function $6(t){var e=t.getUTCDay();return e>=4||e===0?ad(t):ad.ceil(t)}function Gte(t,e){return t=$6(t),yt(ad.count(Ks(t),t)+(Ks(t).getUTCDay()===4),e,2)}function Yte(t){return t.getUTCDay()}function Wte(t,e){return yt(Ny.count(Ks(t)-1,t),e,2)}function Xte(t,e){return yt(t.getUTCFullYear()%100,e,2)}function Qte(t,e){return t=$6(t),yt(t.getUTCFullYear()%100,e,2)}function Jte(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function Zte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ad(t):ad.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function ene(){return"+0000"}function _R(){return"%"}function wR(t){return+t}function ER(t){return Math.floor(+t/1e3)}var Nu,q6,H6;tne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tne(t){return Nu=tte(t),q6=Nu.format,Nu.parse,H6=Nu.utcFormat,Nu.utcParse,Nu}function nne(t){return new Date(t)}function rne(t){return t instanceof Date?+t:+new Date(+t)}function zA(t,e,n,r,i,s,l,u,d,h){var p=TA(),g=p.invert,b=p.domain,_=h(".%L"),E=h(":%S"),A=h("%I:%M"),S=h("%I %p"),j=h("%a %d"),R=h("%b %d"),P=h("%B"),U=h("%Y");function V($){return(d($)<$?_:u($)<$?E:l($)<$?A:s($)<$?S:r($)<$?i($)<$?j:R:n($)<$?P:U)($)}return p.invert=function($){return new Date(g($))},p.domain=function($){return arguments.length?b(Array.from($,rne)):b().map(nne)},p.ticks=function($){var O=b();return t(O[0],O[O.length-1],$??10)},p.tickFormat=function($,O){return O==null?V:h(O)},p.nice=function($){var O=b();return(!$||typeof $.range!="function")&&($=e(O[0],O[O.length-1],$??10)),$?b(I6(O,$)):p},p.copy=function(){return rm(p,zA(t,e,n,r,i,s,l,u,d,h))},p}function ine(){return $i.apply(zA(Zee,ete,Hs,VA,Fv,im,MA,kA,uc,q6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ane(){return $i.apply(zA(Qee,Jee,Ks,UA,$v,Bv,LA,DA,uc,H6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qv(){var t=0,e=1,n,r,i,s,l=Rr,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(b){var _,E;return arguments.length?([_,E]=b,l=g(_,E),h):[l(0),l(1)]}}return h.range=p(bd),h.rangeRound=p(SA),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function Sl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function K6(){var t=Al(qv()(Rr));return t.copy=function(){return Sl(t,K6())},eo.apply(t,arguments)}function G6(){var t=CA(qv()).domain([1,10]);return t.copy=function(){return Sl(t,G6()).base(t.base())},eo.apply(t,arguments)}function Y6(){var t=OA(qv());return t.copy=function(){return Sl(t,Y6()).constant(t.constant())},eo.apply(t,arguments)}function BA(){var t=IA(qv());return t.copy=function(){return Sl(t,BA()).exponent(t.exponent())},eo.apply(t,arguments)}function sne(){return BA.apply(null,arguments).exponent(.5)}function W6(){var t=[],e=Rr;function n(r){if(r!=null&&!isNaN(r=+r))return e((tm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>HZ(t,s/r))},n.copy=function(){return W6(e).domain(t)},eo.apply(n,arguments)}function Hv(){var t=0,e=.5,n=1,r=1,i,s,l,u,d,h=Rr,p,g=!1,b;function _(A){return isNaN(A=+A)?b:(A=.5+((A=+p(A))-s)*(r*A<r*s?u:d),h(g?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(g=!!A,_):g},_.interpolator=function(A){return arguments.length?(h=A,_):h};function E(A){return function(S){var j,R,P;return arguments.length?([j,R,P]=S,h=vee(A,[j,R,P]),_):[h(0),h(.5),h(1)]}}return _.range=E(bd),_.rangeRound=E(SA),_.unknown=function(A){return arguments.length?(b=A,_):b},function(A){return p=A,i=A(t),s=A(e),l=A(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function X6(){var t=Al(Hv()(Rr));return t.copy=function(){return Sl(t,X6())},eo.apply(t,arguments)}function Q6(){var t=CA(Hv()).domain([.1,1,10]);return t.copy=function(){return Sl(t,Q6()).base(t.base())},eo.apply(t,arguments)}function J6(){var t=OA(Hv());return t.copy=function(){return Sl(t,J6()).constant(t.constant())},eo.apply(t,arguments)}function FA(){var t=IA(Hv());return t.copy=function(){return Sl(t,FA()).exponent(t.exponent())},eo.apply(t,arguments)}function one(){return FA.apply(null,arguments).exponent(.5)}const qf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wA,scaleDiverging:X6,scaleDivergingLog:Q6,scaleDivergingPow:FA,scaleDivergingSqrt:one,scaleDivergingSymlog:J6,scaleIdentity:O6,scaleImplicit:w1,scaleLinear:C6,scaleLog:P6,scaleOrdinal:_A,scalePoint:YZ,scalePow:PA,scaleQuantile:D6,scaleQuantize:M6,scaleRadial:k6,scaleSequential:K6,scaleSequentialLog:G6,scaleSequentialPow:BA,scaleSequentialQuantile:W6,scaleSequentialSqrt:sne,scaleSequentialSymlog:Y6,scaleSqrt:Bee,scaleSymlog:R6,scaleThreshold:L6,scaleTime:ine,scaleUtc:ane,tickFormat:j6},Symbol.toStringTag,{value:"Module"}));var to=t=>t.chartData,Kv=re([to],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),$A=(t,e,n,r)=>r?Kv(t):to(t),Z6=(t,e,n)=>n?Kv(t):to(t);function ml(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ut(e)&&Ut(n))return!0}return!1}function AR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function e3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Ut(n))i=n;else if(typeof n=="function")return;if(Ut(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(ml(l))return l}}function lne(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ml(r))return AR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Pe(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&DI.test(i)){var d=DI.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Pe(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&MI.test(s)){var p=MI.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(ml(b))return e==null?b:AR(b,e,n)}}}var xd=1e9,cne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HA,Jt=!0,Fi="[DecimalError] ",gc=Fi+"Invalid argument: ",qA=Fi+"Exponent out of range: ",_d=Math.floor,ic=Math.pow,une=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ui,tr=1e7,Ht=7,t3=9007199254740991,jy=_d(t3/Ht),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Ds(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return Vt(Ds(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return Mn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ui))throw Error(Fi+"NaN");if(n.s<1)throw Error(Fi+(n.s?"NaN":"-Infinity"));return n.eq(ui)?new r(0):(Jt=!1,e=Ds(wh(n,s),wh(t,s),s),Jt=!0,Vt(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?i3(e,t):n3(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fi+"NaN");return n.s?(Jt=!1,e=Ds(n,t,0,1).times(t),Jt=!0,n.minus(e)):Vt(new r(n),i)};Me.naturalExponential=Me.exp=function(){return r3(this)};Me.naturalLogarithm=Me.ln=function(){return wh(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?n3(e,t):i3(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gc+t);if(e=Mn(i)+1,r=i.d.length-1,n=r*Ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Fi+"NaN")}for(t=Mn(u),Jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Da(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_d((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Ds(u,s,l+2)).times(.5),Da(s.d).slice(0,l)===(e=Da(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Vt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return Jt=!0,Vt(r,n)};Me.times=Me.mul=function(t){var e,n,r,i,s,l,u,d,h,p=this,g=p.constructor,b=p.d,_=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,h=_.length,d<h&&(s=b,b=_,_=s,l=d,d=h,h=l),s=[],l=d+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)u=s[i]+_[r]*b[i-r-1]+e,s[i--]=u%tr|0,e=u/tr|0;s[i]=(s[i]+e)%tr|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Jt?Vt(t,g.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ka(t,0,xd),e===void 0?e=r.rounding:Ka(e,0,8),Vt(n,t+Mn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Oc(r,!0):(Ka(t,0,xd),e===void 0?e=i.rounding:Ka(e,0,8),r=Vt(new i(r),t+1,e),n=Oc(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Oc(i):(Ka(t,0,xd),e===void 0?e=s.rounding:Ka(e,0,8),r=Vt(new s(i),t+Mn(i)+1,e),n=Oc(r.abs(),!1,t+Mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return Vt(new e(t),Mn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,i,s,l,u=this,d=u.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(ui);if(u=new d(u),!u.s){if(t.s<1)throw Error(Fi+"Infinity");return u}if(u.eq(ui))return u;if(r=d.precision,t.eq(ui))return Vt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=t3){for(i=new d(ui),e=Math.ceil(r/Ht+4),Jt=!1;n%2&&(i=i.times(u),TR(i.d,e)),n=_d(n/2),n!==0;)u=u.times(u),TR(u.d,e);return Jt=!0,t.s<0?new d(ui).div(i):Vt(i,r)}}else if(s<0)throw Error(Fi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Jt=!1,i=t.times(wh(u,r+h)),Jt=!0,i=r3(i),i.s=s,i};Me.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Mn(i),r=Oc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ka(t,1,xd),e===void 0?e=s.rounding:Ka(e,0,8),i=Vt(new s(i),t,e),n=Mn(i),r=Oc(i,t<=n||n<=s.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ka(t,1,xd),e===void 0?e=r.rounding:Ka(e,0,8)),Vt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),n=t.constructor;return Oc(t,e<=n.toExpNeg||e>=n.toExpPos)};function n3(t,e){var n,r,i,s,l,u,d,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Jt?Vt(e,g):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=h.length):(r=h,i=l,u=d.length),l=Math.ceil(g/Ht),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/tr|0,d[s]%=tr;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Jt?Vt(e,g):e}function Ka(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gc+t)}function Da(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Ht-r.length,n&&(s+=Fo(n)),s+=r;l=t[e],r=l+"",n=Ht-r.length,n&&(s+=Fo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ds=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%tr|0,l=s/tr|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*tr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,h,p,g,b,_,E,A,S,j,R,P,U,V,$,O,I,D=r.constructor,z=r.s==i.s?1:-1,M=r.d,B=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Fi+"Division by zero");for(d=r.e-i.e,O=B.length,V=M.length,_=new D(z),E=_.d=[],h=0;B[h]==(M[h]||0);)++h;if(B[h]>(M[h]||0)&&--d,s==null?R=s=D.precision:l?R=s+(Mn(r)-Mn(i))+1:R=s,R<0)return new D(0);if(R=R/Ht+2|0,h=0,O==1)for(p=0,B=B[0],R++;(h<V||p)&&R--;h++)P=p*tr+(M[h]||0),E[h]=P/B|0,p=P%B|0;else{for(p=tr/(B[0]+1)|0,p>1&&(B=t(B,p),M=t(M,p),O=B.length,V=M.length),U=O,A=M.slice(0,O),S=A.length;S<O;)A[S++]=0;I=B.slice(),I.unshift(0),$=B[0],B[1]>=tr/2&&++$;do p=0,u=e(B,A,O,S),u<0?(j=A[0],O!=S&&(j=j*tr+(A[1]||0)),p=j/$|0,p>1?(p>=tr&&(p=tr-1),g=t(B,p),b=g.length,S=A.length,u=e(g,A,b,S),u==1&&(p--,n(g,O<b?I:B,b))):(p==0&&(u=p=1),g=B.slice()),b=g.length,b<S&&g.unshift(0),n(A,g,S),u==-1&&(S=A.length,u=e(B,A,O,S),u<1&&(p++,n(A,O<S?I:B,S))),S=A.length):u===0&&(p++,A=[0]),E[h++]=p,u&&A[0]?A[S++]=M[U]||0:(A=[M[U]],S=1);while((U++<V||A[0]!==void 0)&&R--)}return E[0]||E.shift(),_.e=d,Vt(_,l?s+Mn(_)+1:s)}})();function r3(t,e){var n,r,i,s,l,u,d=0,h=0,p=t.constructor,g=p.precision;if(Mn(t)>16)throw Error(qA+Mn(t));if(!t.s)return new p(ui);for(Jt=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ic(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(ui),p.precision=u;;){if(i=Vt(i.times(t),u),n=n.times(++d),l=s.plus(Ds(i,n,u)),Da(l.d).slice(0,u)===Da(s.d).slice(0,u)){for(;h--;)s=Vt(s.times(s),u);return p.precision=g,e==null?(Jt=!0,Vt(s,g)):s}s=l}}function Mn(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function Y_(t,e,n){if(e>t.LN10.sd())throw Jt=!0,n&&(t.precision=n),Error(Fi+"LN10 precision limit exceeded");return Vt(new t(t.LN10),e)}function Fo(t){for(var e="";t--;)e+="0";return e}function wh(t,e){var n,r,i,s,l,u,d,h,p,g=1,b=10,_=t,E=_.d,A=_.constructor,S=A.precision;if(_.s<1)throw Error(Fi+(_.s?"NaN":"-Infinity"));if(_.eq(ui))return new A(0);if(e==null?(Jt=!1,h=S):h=e,_.eq(10))return e==null&&(Jt=!0),Y_(A,h);if(h+=b,A.precision=h,n=Da(E),r=n.charAt(0),s=Mn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Da(_.d),r=n.charAt(0),g++;s=Mn(_),r>1?(_=new A("0."+n),s++):_=new A(r+"."+n.slice(1))}else return d=Y_(A,h+2,S).times(s+""),_=wh(new A(r+"."+n.slice(1)),h-b).plus(d),A.precision=S,e==null?(Jt=!0,Vt(_,S)):_;for(u=l=_=Ds(_.minus(ui),_.plus(ui),h),p=Vt(_.times(_),h),i=3;;){if(l=Vt(l.times(p),h),d=u.plus(Ds(l,new A(i),h)),Da(d.d).slice(0,h)===Da(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(Y_(A,h+2,S).times(s+""))),u=Ds(u,new A(g),h),A.precision=S,e==null?(Jt=!0,Vt(u,S)):u;u=d,i+=2}}function SR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=_d(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ht;r<i;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jt&&(t.e>jy||t.e<-jy))throw Error(qA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Vt(t,e,n){var r,i,s,l,u,d,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Ht,i=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Ht),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=Ht,i=r-Ht+l}if(n!==void 0&&(s=ic(10,l-i-1),u=h/s%10|0,d=e<0||g[p+1]!==void 0||h%s,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/ic(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(s=Mn(t),g.length=1,e=e-s-1,g[0]=ic(10,(Ht-e%Ht)%Ht),t.e=_d(-e/Ht)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ic(10,Ht-r),g[p]=i>0?(h/ic(10,l-i)%ic(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==tr&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=tr)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Jt&&(t.e>jy||t.e<-jy))throw Error(qA+Mn(t));return t}function i3(t,e){var n,r,i,s,l,u,d,h,p,g,b=t.constructor,_=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Jt?Vt(e,_):e;if(d=t.d,g=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(_/Ht),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=tr-1;--d[s],d[i]+=tr}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Jt?Vt(e,_):e):new b(0)}function Oc(t,e,n){var r,i=Mn(t),s=Da(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Fo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Fo(-i-1)+s,n&&(r=n-l)>0&&(s+=Fo(r))):i>=l?(s+=Fo(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Fo(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Fo(r))),t.s<0?"-"+s:s}function TR(t,e){if(t.length>e)return t.length=e,!0}function a3(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return SR(l,s.toString())}else if(typeof s!="string")throw Error(gc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,une.test(s))SR(l,s);else throw Error(gc+s)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=a3,i.config=i.set=dne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function dne(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,n,r,i=["precision",1,xd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(_d(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gc+n+": "+r);return this}var HA=a3(cne);ui=new HA(1);const Tt=HA;var fne=t=>t,s3={},o3=t=>t===s3,NR=t=>function e(){return arguments.length===0||arguments.length===1&&o3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},l3=(t,e)=>t===1?e:NR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==s3).length;return s>=t?e(...r):l3(t-s,NR(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=r.map(p=>o3(p)?u.shift():p);return e(...h,...u)}))}),hne=t=>l3(t.length,t),T1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},mne=hne((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),pne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return fne;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}};function c3(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function u3(t,e,n){for(var r=new Tt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var d3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},f3=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=c3(t.toNumber()),i=new Tt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new Tt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new Tt(d.toNumber()):new Tt(Math.ceil(d.toNumber()))},gne=(t,e,n)=>{var r=new Tt(1),i=new Tt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(c3(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));var l=Math.floor((e-1)/2),u=pne(mne(d=>i.add(new Tt(d-l).mul(r)).toNumber()),T1);return u(0,e)},h3=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var l=f3(new Tt(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new Tt(0):(u=new Tt(e).add(n).div(2),u=u.sub(new Tt(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new Tt(n).sub(u).div(l).toNumber()),p=d+h+1;return p>r?h3(e,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new Tt(d).mul(l)),tickMax:u.add(new Tt(h).mul(l))})},yne=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=d3([n,r]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...T1(0,i-1).map(()=>1/0)]:[...T1(0,i-1).map(()=>-1/0),d];return n>r?h.reverse():h}if(u===d)return gne(u,i,s);var{step:p,tickMin:g,tickMax:b}=h3(u,d,l,s,0),_=u3(g,b.add(new Tt(.1).mul(p)),p);return n>r?_.reverse():_},vne=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=d3([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),h=f3(new Tt(u).sub(l).div(d-1),s,0),p=[...u3(new Tt(l),new Tt(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},m3=t=>t.rootProps.maxBarSize,bne=t=>t.rootProps.barGap,p3=t=>t.rootProps.barCategoryGap,xne=t=>t.rootProps.barSize,am=t=>t.rootProps.stackOffset,g3=t=>t.rootProps.reverseStackOrder,KA=t=>t.options.chartName,GA=t=>t.rootProps.syncId,y3=t=>t.rootProps.syncMethod,YA=t=>t.options.eventEmitter,_ne=t=>t.rootProps.baseValue,xn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},li={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Gv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},wne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:Ts.reversed,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:Ts.type,unit:void 0},Ene={allowDataOverflow:li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:li.scale,tick:li.tick,tickCount:li.tickCount,ticks:void 0,type:li.type,unit:void 0},Ane={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ts.scale,tick:Ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sne={allowDataOverflow:li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:li.scale,tick:li.tick,tickCount:li.tickCount,ticks:void 0,type:"category",unit:void 0},WA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Ane:wne,XA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Sne:Ene,Yv=t=>t.polarOptions,QA=re([Js,Zs,$n],m6),v3=re([Yv,QA],(t,e)=>{if(t!=null)return Tr(t.innerRadius,e,0)}),b3=re([Yv,QA],(t,e)=>{if(t!=null)return Tr(t.outerRadius,e,e*.8)}),Tne=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},x3=re([Yv],Tne);re([WA,x3],Gv);var _3=re([QA,v3,b3],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([XA,_3],Gv);var w3=re([it,Yv,v3,b3,Js,Zs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=e;return{cx:Tr(l,i,i/2),cy:Tr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),en=(t,e)=>e,sm=(t,e,n)=>n;function Wv(t){return t?.id}function E3(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var p=Wv(u);h.forEach((g,b)=>{var _=s==null||i?b:String(_t(g,s,null)),E=_t(g,u.dataKey,0),A;l.has(_)?A=l.get(_):A={},Object.assign(A,{[p]:E}),l.set(_,A)})}}),Array.from(l.values())}function Xv(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Qv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Jv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Nne(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Hn=t=>{var e=it(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},wd=t=>t.tooltip.settings.axisId;function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=Cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N1=[0,"auto"],Jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},A3=(t,e)=>t.cartesianAxis.xAxis[e],no=(t,e)=>{var n=A3(t,e);return n??Jn},Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:N1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jh},S3=(t,e)=>t.cartesianAxis.yAxis[e],ro=(t,e)=>{var n=S3(t,e);return n??Zn},Ine={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},JA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Ine},an=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);case"zAxis":return JA(t,n);case"angleAxis":return WA(t,n);case"radiusAxis":return XA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Pne=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},om=(t,e,n)=>{switch(e){case"xAxis":return no(t,n);case"yAxis":return ro(t,n);case"angleAxis":return WA(t,n);case"radiusAxis":return XA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},T3=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function ZA(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var lm=t=>t.graphicalItems.cartesianItems,Rne=re([en,sm],ZA),eS=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),cm=re([lm,an,Rne],eS,{memoizeOptions:{resultEqualityCheck:Jv}}),N3=re([cm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Xv)),j3=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),kne=re([cm],j3),tS=t=>t.map(e=>e.data).filter(Boolean).flat(1),Dne=re([cm],tS,{memoizeOptions:{resultEqualityCheck:Jv}}),nS=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},rS=re([Dne,$A],nS),iS=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:_t(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:_t(i,r)}))):t.map(r=>({value:r})),Zv=re([rS,an,cm],iS);function C3(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Sg(t){if(qa(t)||t instanceof Date){var e=Number(t);if(Ut(e))return e}}function CR(t){if(Array.isArray(t)){var e=[Sg(t[0]),Sg(t[1])];return ml(e)?e:void 0}var n=Sg(t);if(n!=null)return[n,n]}function Gs(t){return t.map(Sg).filter(jY)}function Mne(t,e,n){return!n||typeof e!="number"||zi(e)?[]:n.length?Gs(n.flatMap(r=>{var i=_t(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Ut(s)||!Ut(l)))return[e-s,e+l]})):[]}var Kn=t=>{var e=Hn(t),n=wd(t);return om(t,e,n)},um=re([Kn],t=>t?.dataKey),Lne=re([N3,$A,Kn],E3),O3=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,h=r?[...d].reverse():d,p=h.map(Wv);return[u,{stackedData:tQ(t,p,n),graphicalItems:h}]}))},Oy=re([Lne,N3,am,g3],O3),I3=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=aQ(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Vne=re([an],t=>t.allowDataOverflow),aS=t=>{var e;if(t==null||!("domain"in t))return N1;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Gs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:N1},sS=re([an],aS),oS=re([sS,Vne],e3),Une=re([Oy,to,en,oS],I3,{memoizeOptions:{resultEqualityCheck:Qv}}),e0=t=>t.errorBars,zne=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>C3(n,r)),Iy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},lS=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var h,p,g=(h=r[d.id])===null||h===void 0?void 0:h.filter(j=>C3(i,j)),b=_t(u,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),_=Mne(u,b,g);if(_.length>=2){var E=Math.min(..._),A=Math.max(..._);(s==null||E<s)&&(s=E),(l==null||A>l)&&(l=A)}var S=CR(b);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=CR(_t(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Ut(s)&&Ut(l))return[s,l]},Bne=re([rS,an,kne,e0,en],lS,{memoizeOptions:{resultEqualityCheck:Qv}});function Fne(t){var{value:e}=t;if(qa(e)||e instanceof Date)return e}var $ne=(t,e,n)=>{var r=t.map(Fne).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&KL(r))?v6(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},P3=t=>t.referenceElements.dots,Ed=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),qne=re([P3,en,sm],Ed),R3=t=>t.referenceElements.areas,Hne=re([R3,en,sm],Ed),k3=t=>t.referenceElements.lines,Kne=re([k3,en,sm],Ed),D3=(t,e)=>{if(t!=null){var n=Gs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Gne=re(qne,en,D3),M3=(t,e)=>{if(t!=null){var n=Gs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Yne=re([Hne,en],M3);function Wne(t){var e;if(t.x!=null)return Gs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Gs(n)}function Xne(t){var e;if(t.y!=null)return Gs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Gs(n)}var L3=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Wne(r):Xne(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Qne=re([Kne,en],L3),Jne=re(Gne,Qne,Yne,(t,e,n)=>Iy(t,n,e)),cS=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?Iy(r,s,i):Iy(s,i);return lne(e,h,t.allowDataOverflow)},Zne=re([an,sS,oS,Une,Bne,Jne,it,en],cS,{memoizeOptions:{resultEqualityCheck:Qv}}),ere=[0,1],uS=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,h=Ja(e,s);if(h&&u==null){var p;return v6(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?$ne(r,t,h):i==="expand"?ere:l}},dS=re([an,it,rS,Zv,am,en,Zne],uS),V3=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Kh(s));return u in qf?u:"point"}}},Ad=re([an,it,T3,KA,en],V3);function tre(t){if(t!=null){if(t in qf)return qf[t]();var e="scale".concat(Kh(t));if(e in qf)return qf[e]()}}function fS(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=tre(e);if(i!=null){var s=i.domain(n).range(r);return XX(s),s}}}var hS=(t,e,n)=>{var r=aS(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ml(t))return yne(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ml(t))return vne(t,e.tickCount,e.allowDecimals)}},mS=re([dS,om,Ad],hS),pS=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ml(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},nre=re([an,dS,mS,en],pS),rre=re(Zv,an,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Gs(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],h=r[u+1];if(!(d==null||h==null)){var p=h-d;n=Math.min(n,p)}}return n/l}}),U3=re(rre,it,p3,$n,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ut(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Tr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),ire=(t,e,n)=>{var r=no(t,e);return r==null||typeof r.padding!="string"?0:U3(t,"xAxis",e,n,r.padding)},are=(t,e,n)=>{var r=ro(t,e);return r==null||typeof r.padding!="string"?0:U3(t,"yAxis",e,n,r.padding)},sre=re(no,ire,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),ore=re(ro,are,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),lre=re([$n,sre,Rv,Pv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),cre=re([$n,it,ore,Rv,Pv,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),dm=(t,e,n,r)=>{var i;switch(e){case"xAxis":return lre(t,n,r);case"yAxis":return cre(t,n,r);case"zAxis":return(i=JA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return x3(t);case"radiusAxis":return _3(t,n);default:return}},z3=re([an,dm],Gv),t0=re([an,Ad,nre,z3],fS);re([cm,e0,en],zne);function B3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var n0=(t,e)=>e,r0=(t,e,n)=>n,ure=re(Ov,n0,r0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(B3)),dre=re(Iv,n0,r0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(B3)),F3=(t,e)=>({width:t.width,height:e.height}),fre=(t,e)=>{var n=typeof e.width=="number"?e.width:Jh;return{width:n,height:t.height}},$3=re($n,no,F3),hre=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},mre=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},pre=re(Zs,$n,ure,n0,r0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=F3(e,u);l==null&&(l=hre(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),gre=re(Js,$n,dre,n0,r0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=fre(e,u);l==null&&(l=mre(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),yre=(t,e)=>{var n=no(t,e);if(n!=null)return pre(t,n.orientation,n.mirror)},vre=re([$n,no,yre,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),bre=(t,e)=>{var n=ro(t,e);if(n!=null)return gre(t,n.orientation,n.mirror)},xre=re([$n,ro,bre,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),q3=re($n,ro,(t,e)=>{var n=typeof e.width=="number"?e.width:Jh;return{width:n,height:t.height}}),OR=(t,e,n)=>{switch(e){case"xAxis":return $3(t,n).width;case"yAxis":return q3(t,n).height;default:return}},H3=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=Ja(t,r),d=e.map(h=>h.value);if(l&&u&&s==="category"&&i&&KL(d))return d}},gS=re([it,Zv,an,en],H3),K3=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Ja(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},yS=re([it,Zv,om,en],K3),IR=re([it,Pne,Ad,t0,gS,yS,dm,mS,en],(t,e,n,r,i,s,l,u,d)=>{if(e!=null){var h=Ja(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),_re=(t,e,n,r,i,s,l,u,d)=>{if(!(e==null||r==null)){var h=Ja(t,d),{type:p,ticks:g,tickCount:b}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/_:0;E=d==="angleAxis"&&s!=null&&s.length>=2?rr(s[0]-s[1])*2*E:E;var A=g||i;if(A){var S=A.map((j,R)=>{var P=l?l.indexOf(j):j;return{index:R,coordinate:r(P)+E,value:j,offset:E}});return S.filter(j=>Ut(j.coordinate))}return h&&u?u.map((j,R)=>({coordinate:r(j)+E,value:j,index:R,offset:E})).filter(j=>Ut(j.coordinate)):r.ticks?r.ticks(b).map(j=>({coordinate:r(j)+E,value:j,offset:E})):r.domain().map((j,R)=>({coordinate:r(j)+E,value:l?l[j]:j,index:R,offset:E}))}},G3=re([it,om,Ad,t0,mS,dm,gS,yS,en],_re),wre=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Ja(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?rr(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},Ga=re([it,om,t0,dm,gS,yS,en],wre),Ya=re(an,t0,(t,e)=>{if(!(t==null||e==null))return Cy(Cy({},t),{},{scale:e})}),Ere=re([an,Ad,dS,z3],fS);re((t,e,n)=>JA(t,n),Ere,(t,e)=>{if(!(t==null||e==null))return Cy(Cy({},t),{},{scale:e})});var Are=re([it,Ov,Iv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Y3=t=>t.options.defaultTooltipEventType,W3=t=>t.options.validateTooltipEventTypes;function X3(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function vS(t,e){var n=Y3(t),r=W3(t);return X3(e,n,r)}function Sre(t){return Ve(e=>vS(e,t))}var Q3=(t,e)=>{var n,r=Number(e);if(!(zi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Tre=t=>t.tooltip.settings,Yo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Nre={itemInteraction:{click:Yo,hover:Yo},axisInteraction:{click:Yo,hover:Yo},keyboardInteraction:Yo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},J3=Wr({name:"tooltip",initialState:Nre,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Qt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Qt()},removeTooltipEntrySettings:{reducer(t,e){var n=ua(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Qt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:jre,replaceTooltipEntrySettings:Cre,removeTooltipEntrySettings:Ore,setTooltipSettingsState:Ire,setActiveMouseOverItemIndex:Z3,mouseLeaveItem:Pre,mouseLeaveChart:eV,setActiveClickItemIndex:Rre,setMouseOverAxisIndex:tV,setMouseClickAxisIndex:kre,setSyncInteraction:j1,setKeyboardInteraction:C1}=J3.actions,Dre=J3.reducer;function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mre(t,e,n){return(e=Lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=Vre(t,"string");return typeof e=="symbol"?e:e+""}function Vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ure(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function zre(t){return t.index!=null}var nV=(t,e,n,r)=>{if(e==null)return Yo;var i=Ure(t,e,n);if(i==null)return Yo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(zre(i)){if(s)return og(og({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return og(og({},Yo),{},{coordinate:i.coordinate})};function Bre(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Fre(t,e){var n=Bre(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function $re(t,e,n){if(n==null||e==null)return!0;var r=_t(t,e);return r==null||!ml(n)?!0:Fre(r,n)}var bS=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Ut(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),h=e[d];return h==null||$re(h,n,r)?String(d):null},rV=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},iV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},fm=t=>t.options.tooltipPayloadSearcher,Sd=t=>t.tooltip;function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qre(t,e,n){return(e=Hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hre(t){var e=Kre(t,"string");return typeof e=="symbol"?e:e+""}function Kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gre(t,e){return t??e}var aV=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((b,_)=>{var E,{dataDefinedOnItem:A,settings:S}=_,j=Gre(A,u),R=Array.isArray(j)?z5(j,h,p):j,P=(E=S?.dataKey)!==null&&E!==void 0?E:r,U=S?.nameKey,V;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&l==="axis"?V=GL(R,r,i):V=s(R,e,d,U),Array.isArray(V))V.forEach(O=>{var I=kR(kR({},S),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});b.push(LI({tooltipEntrySettings:I,dataKey:O.dataKey,payload:O.payload,value:_t(O.payload,O.dataKey),name:O.name}))});else{var $;b.push(LI({tooltipEntrySettings:S,dataKey:P,payload:V,value:_t(V,P),name:($=_t(V,U))!==null&&$!==void 0?$:S?.name}))}return b},g)}},xS=re([Kn,it,T3,KA,Hn],V3),Yre=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Wre=re([Hn,wd],ZA),Td=re([Yre,Kn,Wre],eS,{memoizeOptions:{resultEqualityCheck:Jv}}),Xre=re([Td],t=>t.filter(Xv)),Qre=re([Td],tS,{memoizeOptions:{resultEqualityCheck:Jv}}),Nd=re([Qre,to],nS),Jre=re([Xre,to,Kn],E3),_S=re([Nd,Kn,Td],iS),sV=re([Kn],aS),Zre=re([Kn],t=>t.allowDataOverflow),oV=re([sV,Zre],e3),eie=re([Td],t=>t.filter(Xv)),tie=re([Jre,eie,am,g3],O3),nie=re([tie,to,Hn,oV],I3),rie=re([Td],j3),iie=re([Nd,Kn,rie,e0,Hn],lS,{memoizeOptions:{resultEqualityCheck:Qv}}),aie=re([P3,Hn,wd],Ed),sie=re([aie,Hn],D3),oie=re([R3,Hn,wd],Ed),lie=re([oie,Hn],M3),cie=re([k3,Hn,wd],Ed),uie=re([cie,Hn],L3),die=re([sie,uie,lie],Iy),fie=re([Kn,sV,oV,nie,iie,die,it,Hn],cS),hm=re([Kn,it,Nd,_S,am,Hn,fie],uS),hie=re([hm,Kn,xS],hS),mie=re([Kn,hm,hie,Hn],pS),lV=t=>{var e=Hn(t),n=wd(t),r=!1;return dm(t,e,n,r)},cV=re([Kn,lV],Gv),uV=re([Kn,xS,mie,cV],fS),pie=re([it,_S,Kn,Hn],H3),gie=re([it,_S,Kn,Hn],K3),yie=(t,e,n,r,i,s,l,u)=>{if(e){var{type:d}=e,h=Ja(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?rr(i[0]-i[1])*2*g:g,h&&l?l.map((b,_)=>({coordinate:r(b)+g,value:b,index:_,offset:g})):r.domain().map((b,_)=>({coordinate:r(b)+g,value:s?s[b]:b,index:_,offset:g}))}}},io=re([it,Kn,xS,uV,lV,pie,gie,Hn],yie),wS=re([Y3,W3,Tre],(t,e,n)=>X3(n.shared,t,e)),dV=t=>t.tooltip.settings.trigger,ES=t=>t.tooltip.settings.defaultIndex,mm=re([Sd,wS,dV,ES],nV),pl=re([mm,Nd,um,hm],bS),fV=re([io,pl],Q3),AS=re([mm],t=>{if(t)return t.dataKey}),vie=re([mm],t=>{if(t)return t.graphicalItemId}),hV=re([Sd,wS,dV,ES],iV),bie=re([Js,Zs,it,$n,io,ES,hV,fm],rV),xie=re([mm,bie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),_ie=re([mm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),wie=re([hV,pl,to,um,fV,fm,wS],aV),Eie=re([wie],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aie(t,e,n){return(e=Sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Tie(t,"string");return typeof e=="symbol"?e:e+""}function Tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nie=()=>Ve(Kn),jie=()=>{var t=Nie(),e=Ve(io),n=Ve(uV);return hl(!t||!n?void 0:MR(MR({},t),{},{scale:n}),e)};function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return(e=Oie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oie(t){var e=Iie(t,"string");return typeof e=="symbol"?e:e+""}function Iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pie=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Rie=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return ju(ju(ju({},r),Dn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return ju(ju(ju({},r),Dn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kie(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var mV=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,h,p,g,b,_=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,E=(p=n[u])===null||p===void 0?void 0:p.coordinate,A=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,S=void 0;if(!(_==null||E==null||A==null))if(rr(E-_)!==rr(A-E)){var j=[];if(rr(A-E)===rr(i[1]-i[0])){S=A;var R=E+i[1]-i[0];j[0]=Math.min(R,(R+_)/2),j[1]=Math.max(R,(R+_)/2)}else{S=_;var P=A+i[1]-i[0];j[0]=Math.min(E,(P+E)/2),j[1]=Math.max(E,(P+E)/2)}var U=[Math.min(E,(S+E)/2),Math.max(E,(S+E)/2)];if(t>U[0]&&t<=U[1]||t>=j[0]&&t<=j[1]){var V;return(V=n[u])===null||V===void 0?void 0:V.index}}else{var $=Math.min(_,A),O=Math.max(_,A);if(t>($+E)/2&&t<=(O+E)/2){var I;return(I=n[u])===null||I===void 0?void 0:I.index}}}else if(e)for(var D=0;D<l;D++){var z=e[D];if(z!=null){var M=e[D+1],B=e[D-1];if(D===0&&M!=null&&t<=(z.coordinate+M.coordinate)/2||D===l-1&&B!=null&&t>(z.coordinate+B.coordinate)/2||D>0&&D<l-1&&B!=null&&M!=null&&t>(z.coordinate+B.coordinate)/2&&t<=(z.coordinate+M.coordinate)/2)return z.index}}return-1},pV=()=>Ve(KA),SS=(t,e)=>e,gV=(t,e,n)=>n,TS=(t,e,n,r)=>r,Die=re(io,t=>_v(t,e=>e.coordinate)),NS=re([Sd,SS,gV,TS],nV),jS=re([NS,Nd,um,hm],bS),Mie=(t,e,n)=>{if(e!=null){var r=Sd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},yV=re([Sd,SS,gV,TS],iV),Py=re([Js,Zs,it,$n,io,TS,yV,fm],rV),Lie=re([NS,Py],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),vV=re([io,jS],Q3),Vie=re([yV,jS,to,um,vV,fm,SS],aV),Uie=re([NS,jS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),zie=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&kie(t,l)){var u=sQ(t,e),d=mV(u,s,i,n,r),h=Pie(e,i,d,t);return{activeIndex:String(d),activeCoordinate:h}}},Bie=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=AZ(t,n);if(u){var d=oQ(u,e),h=mV(d,l,s,r,i),p=Rie(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},Fie=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?zie(t,e,r,i,s,l,u):Bie(t,e,n,r,i,s,l)},$ie=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),qie=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(xn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Nne}});function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hie(t,e,n){return(e=Kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Gie(t,"string");return typeof e=="symbol"?e:e+""}function Gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yie={},Wie={zIndexMap:Object.values(xn).reduce((t,e)=>UR(UR({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Yie)},Xie=new Set(Object.values(xn));function Qie(t){return Xie.has(t)}var bV=Wr({name:"zIndex",initialState:Wie,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Qie(n)&&delete t.zIndexMap[n])},prepare:Qt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Qt()}}}),{registerZIndexPortal:Jie,unregisterZIndexPortal:Zie,registerZIndexPortalElement:eae,unregisterZIndexPortalElement:tae}=bV.actions,nae=bV.reducer;function Mr(t){var{zIndex:e,children:n}=t,r=UQ(),i=r&&e!==void 0&&e!==0,s=sr(),l=Ft();w.useLayoutEffect(()=>i?(l(Jie({zIndex:e})),()=>{l(Zie({zIndex:e}))}):Gh,[l,e,i]);var u=Ve(d=>$ie(d,e,s));return i?u?Ky.createPortal(n,u):null:n}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(null,arguments)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return(e=iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=aae(t,"string");return typeof e=="symbol"?e:e+""}function aae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sae(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function oae(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:h,chartName:p}=t,g=n,b=r,_=i;if(!d||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,A,S;if(p==="ScatterChart")E=g,A=VJ,S=xn.cursorLine;else if(p==="BarChart")E=UJ(u,g,s,l),A=h6,S=xn.cursorRectangle;else if(u==="radial"&&WL(g)){var{cx:j,cy:R,radius:P,startAngle:U,endAngle:V}=p6(g);E={cx:j,cy:R,startAngle:U,endAngle:V,innerRadius:P,outerRadius:P},A=y6,S=xn.cursorLine}else E={points:jZ(u,g,s)},A=Hu,S=xn.cursorLine;var $=typeof d=="object"&&"className"in d?d.className:void 0,O=lg(lg(lg(lg({stroke:"#ccc",pointerEvents:"none"},s),E),Ac(d)),{},{payload:b,payloadIndex:_,className:ht("recharts-tooltip-cursor",$)});return w.createElement(Mr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},w.createElement(sae,{cursor:d,cursorComp:A,cursorProps:O}))}function lae(t){var e=jie(),n=Q5(),r=El(),i=pV();return e==null||n==null||r==null||i==null?null:w.createElement(oae,O1({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var xV=w.createContext(null),cae=()=>w.useContext(xV),W_={exports:{}},BR;function uae(){return BR||(BR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||d,b),E=n?n+h:h;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],_]:d._events[E].push(_):(d._events[E]=_,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,_=g.length,E=new Array(_);b<_;b++)E[b]=g[b].fn;return E},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,b,_,E){var A=n?n+h:h;if(!this._events[A])return!1;var S=this._events[A],j=arguments.length,R,P;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,b),!0;case 5:return S.fn.call(S.context,p,g,b,_),!0;case 6:return S.fn.call(S.context,p,g,b,_,E),!0}for(P=1,R=new Array(j-1);P<j;P++)R[P-1]=arguments[P];S.fn.apply(S.context,R)}else{var U=S.length,V;for(P=0;P<U;P++)switch(S[P].once&&this.removeListener(h,S[P].fn,void 0,!0),j){case 1:S[P].fn.call(S[P].context);break;case 2:S[P].fn.call(S[P].context,p);break;case 3:S[P].fn.call(S[P].context,p,g);break;case 4:S[P].fn.call(S[P].context,p,g,b);break;default:if(!R)for(V=1,R=new Array(j-1);V<j;V++)R[V-1]=arguments[V];S[P].fn.apply(S[P].context,R)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,b){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===p&&(!b||E.once)&&(!g||E.context===g)&&l(this,_);else{for(var A=0,S=[],j=E.length;A<j;A++)(E[A].fn!==p||b&&!E[A].once||g&&E[A].context!==g)&&S.push(E[A]);S.length?this._events[_]=S.length===1?S[0]:S:l(this,_)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(W_)),W_.exports}var dae=uae();const fae=Xs(dae);var Eh=new fae,I1="recharts.syncEvent.tooltip",FR="recharts.syncEvent.brush";function _V(t,e){if(e){var n=Number.parseInt(e,10);if(!zi(n))return t?.[n]}}var hae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wV=Wr({name:"options",initialState:hae,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mae=wV.reducer,{createEventEmitter:pae}=wV.actions;function gae(t){return t.tooltip.syncInteraction}var yae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},EV=Wr({name:"chartData",initialState:yae,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:$R,setDataStartEndIndexes:vae,setComputedData:Vme}=EV.actions,bae=EV.reducer,xae=["x","y"];function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){_ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ae(t,e,n){return(e=wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aae(t,e){if(t==null)return{};var n,r,i=Sae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tae(){var t=Ve(GA),e=Ve(YA),n=Ft(),r=Ve(y3),i=Ve(io),s=El(),l=kv(),u=Ve(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return Gh;var d=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var _=p.payload.coordinate,{x:E,y:A}=_,S=Aae(_,xae),{x:j,y:R,width:P,height:U}=p.payload.sourceViewBox,V=Cu(Cu({},S),{},{x:l.x+(P?(E-j)/P:0)*l.width,y:l.y+(U?(A-R)/U:0)*l.height});n(Cu(Cu({},p),{},{payload:Cu(Cu({},p.payload),{},{coordinate:V})}))}else n(p);return}if(i!=null){var $;if(typeof r=="function"){var O={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=r(i,O);$=i[I]}else r==="value"&&($=i.find(X=>String(X.value)===p.payload.label));var{coordinate:D}=p.payload;if($==null||p.payload.active===!1||D==null||l==null){n(j1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:M}=D,B=Math.min(z,l.x+l.width),k=Math.min(M,l.y+l.height),he={x:s==="horizontal"?$.coordinate:B,y:s==="horizontal"?k:$.coordinate},Ae=j1({active:p.payload.active,coordinate:he,dataKey:p.payload.dataKey,index:String($.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Ae)}}};return Eh.on(I1,d),()=>{Eh.off(I1,d)}},[u,n,e,t,r,i,s,l])}function Nae(){var t=Ve(GA),e=Ve(YA),n=Ft();w.useEffect(()=>{if(t==null)return Gh;var r=(i,s,l)=>{e!==l&&t===i&&n(vae(s))};return Eh.on(FR,r),()=>{Eh.off(FR,r)}},[n,e,t])}function jae(){var t=Ft();w.useEffect(()=>{t(pae())},[t]),Tae(),Nae()}function Cae(t,e,n,r,i,s){var l=Ve(_=>Mie(_,t,e)),u=Ve(YA),d=Ve(GA),h=Ve(y3),p=Ve(gae),g=p?.active,b=kv();w.useEffect(()=>{if(!g&&d!=null&&u!=null){var _=j1({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Eh.emit(I1,d,_,u)}},[g,n,l,i,r,u,d,h,s,b])}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return(e=Iae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rae(t){return t.dataKey}function kae(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(yJ,e)}var GR=[],Dae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function CS(t){var e,n,r=mn(t,Dae),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:b,position:_,reverseDirection:E,useTranslate3d:A,wrapperStyle:S,cursor:j,shared:R,trigger:P,defaultIndex:U,portal:V,axisId:$}=r,O=Ft(),I=typeof U=="number"?String(U):U;w.useEffect(()=>{O(Ire({shared:R,trigger:P,axisId:$,active:i,defaultIndex:I}))},[O,R,P,$,i,I]);var D=kv(),z=l6(),M=Sre(R),{activeIndex:B,isActive:k}=(e=Ve(we=>Uie(we,M,P,I)))!==null&&e!==void 0?e:{},he=Ve(we=>Vie(we,M,P,I)),Ae=Ve(we=>vV(we,M,P,I)),X=Ve(we=>Lie(we,M,P,I)),oe=he,_e=cae(),Z=(n=i??k)!==null&&n!==void 0?n:!1,[Se,H]=u5([oe,Z]),q=M==="axis"?Ae:void 0;Cae(M,P,X,q,B,Z);var K=V??_e;if(K==null||D==null||M==null)return null;var J=oe??GR;Z||(J=GR),h&&J.length&&(J=a5(J.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),b,Rae));var fe=J.length>0,xe=w.createElement(AJ,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:Z,coordinate:X,hasPayload:fe,offset:g,position:_,reverseDirection:E,useTranslate3d:A,viewBox:D,wrapperStyle:S,lastBoundingBox:Se,innerRef:H,hasPortalFromProps:!!V},kae(d,KR(KR({},r),{},{payload:J,label:q,active:Z,activeIndex:B,coordinate:X,accessibilityLayer:z})));return w.createElement(w.Fragment,null,Ky.createPortal(xe,K),Z&&w.createElement(lae,{cursor:j,tooltipEventType:M,coordinate:X,payload:J,index:B}))}var jd=t=>null;jd.displayName="Cell";function Mae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Uae{constructor(e){Mae(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bae(t,e,n){return(e=Fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qae={cacheSize:2e3,enableCache:!0},AV=zae({},qae),WR=new Uae(AV.cacheSize),Hae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XR="recharts_measurement_span";function Kae(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var QR=(t,e)=>{try{var n=document.getElementById(XR);n||(n=document.createElement("span"),n.setAttribute("id",XR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Hae,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Jf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||em.isSsr)return{width:0,height:0};if(!AV.enableCache)return QR(e,n);var r=Kae(e,n),i=WR.get(r);if(i)return i;var s=QR(e,n);return WR.set(r,s),s},SV;function Gae(t,e,n){return(e=Yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zae=["cm","mm","pt","pc","in","Q","px"];function ese(t){return Zae.includes(t)}var Vu="NaN";function tse(t,e){return t*Jae[e]}class pr{static parse(e){var n,[,r,i]=(n=Qae.exec(e))!==null&&n!==void 0?n:[];return r==null?pr.NaN:new pr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,zi(e)&&(this.unit=""),n!==""&&!Xae.test(n)&&(this.num=NaN,this.unit=""),ese(n)&&(this.num=tse(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new pr(NaN,""):new pr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new pr(NaN,""):new pr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return zi(this.num)}}SV=pr;Gae(pr,"NaN",new SV(NaN,""));function TV(t){if(t==null||t.includes(Vu))return Vu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=JR.exec(e))!==null&&n!==void 0?n:[],l=pr.parse(r??""),u=pr.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Vu;e=e.replace(JR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,b]=(h=ZR.exec(e))!==null&&h!==void 0?h:[],_=pr.parse(p??""),E=pr.parse(b??""),A=g==="+"?_.add(E):_.subtract(E);if(A.isNaN())return Vu;e=e.replace(ZR,A.toString())}return e}var ek=/\(([^()]*)\)/;function nse(t){for(var e=t,n;(n=ek.exec(e))!=null;){var[,r]=n;e=e.replace(ek,TV(r))}return e}function rse(t){var e=t.replace(/\s+/g,"");return e=nse(e),e=TV(e),e}function ise(t){try{return rse(t)}catch{return Vu}}function X_(t){var e=ise(t.slice(5,-1));return e===Vu?"":e}var ase=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sse=["dx","dy","angle","className","breakAll"];function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P1.apply(null,arguments)}function tk(t,e){if(t==null)return{};var n,r,i=ose(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ose(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var NV=/[ \f\n\r\t\v\u2028\u2029]+/,jV=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gt(e)||(n?i=e.toString().split(""):i=e.toString().split(NV));var s=i.map(u=>({word:u,width:Jf(u,r).width})),l=n?0:Jf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function lse(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var CV=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),OV=t=>t.reduce((e,n)=>e.width>n.width?e:n),cse="",nk=(t,e,n,r,i,s,l,u)=>{var d=t.slice(0,e),h=jV({breakAll:n,style:r,children:d+cse});if(!h)return[!1,[]];var p=CV(h.wordsWithComputedWidth,s,l,u),g=p.length>i||OV(p).width>Number(s);return[g,p]},use=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,h=Pe(s),p=String(l),g=CV(e,r,n,i);if(!h||i)return g;var b=g.length>s||OV(g).width>Number(r);if(!b)return g;for(var _=0,E=p.length-1,A=0,S;_<=E&&A<=p.length-1;){var j=Math.floor((_+E)/2),R=j-1,[P,U]=nk(p,R,d,u,s,r,n,i),[V]=nk(p,j,d,u,s,r,n,i);if(!P&&!V&&(_=j+1),P&&V&&(E=j-1),!P&&V){S=U;break}A++}return S||g},rk=t=>{var e=Gt(t)?[]:t.toString().split(NV);return[{words:e,width:void 0}]},dse=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!em.isSsr){var u,d,h=jV({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,d=g}else return rk(r);return use({breakAll:s,children:r,maxLines:l,style:i},u,d,e,!!n)}return rk(r)},IV="#808080",fse={angle:0,breakAll:!1,capHeight:"0.71em",fill:IV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},i0=w.forwardRef((t,e)=>{var n=mn(t,fse),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:h,verticalAnchor:p}=n,g=tk(n,ase),b=w.useMemo(()=>dse({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:_,dy:E,angle:A,className:S,breakAll:j}=g,R=tk(g,sse);if(!qa(r)||!qa(i)||b.length===0)return null;var P=Number(r)+(Pe(_)?_:0),U=Number(i)+(Pe(E)?E:0);if(!Ut(P)||!Ut(U))return null;var V;switch(p){case"start":V=X_("calc(".concat(l,")"));break;case"middle":V=X_("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:V=X_("calc(".concat(b.length-1," * -").concat(s,")"));break}var $=[];if(d){var O=b[0].width,{width:I}=g;$.push("scale(".concat(Pe(I)&&Pe(O)?I/O:1,")"))}return A&&$.push("rotate(".concat(A,", ").concat(P,", ").concat(U,")")),$.length&&(R.transform=$.join(" ")),w.createElement("text",P1({},jr(R),{ref:e,x:P,y:U,className:ht("recharts-text",S),textAnchor:h,fill:u.includes("url")?IV:u}),b.map((D,z)=>{var M=D.words.join(j?"":" ");return w.createElement("tspan",{x:P,dy:z===0?V:s,key:"".concat(M,"-").concat(z)},M)}))});i0.displayName="Text";var hse=["labelRef"],mse=["content"];function ik(t,e){if(t==null)return{};var n,r,i=pse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gse(t,e,n){return(e=yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yse(t){var e=vse(t,"string");return typeof e=="symbol"?e:e+""}function vse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(null,arguments)}var PV=w.createContext(null),bse=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,d=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return w.createElement(PV.Provider,{value:d},u)},RV=()=>{var t=w.useContext(PV),e=kv();return t||X5(e)},xse=w.createContext(null),_se=()=>{var t=w.useContext(xse),e=Ve(w3);return t||e},wse=t=>{var{value:e,formatter:n}=t,r=Gt(t.children)?e:t.children;return typeof n=="function"?n(r):r},OS=t=>t!=null&&typeof t=="function",Ese=(t,e)=>{var n=rr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Ase=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:g,endAngle:b,clockWise:_}=i,E=(h+p)/2,A=Ese(g,b),S=A>=0?1:-1,j,R;switch(e){case"insideStart":j=g+S*s,R=_;break;case"insideEnd":j=b-S*s,R=!_;break;case"end":j=b+S*s,R=_;break;default:throw new Error("Unsupported position ".concat(e))}R=A<=0?R:!R;var P=Dn(u,d,E,j),U=Dn(u,d,E,j+(R?1:-1)*359),V="M".concat(P.x,",").concat(P.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(U.x,",").concat(U.y),$=Gt(t.id)?uh("recharts-radial-line-"):t.id;return w.createElement("text",Ns({},r,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:$,d:V})),w.createElement("textPath",{xlinkHref:"#".concat($)},n))},Sse=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Dn(r,i,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:_,y:E}=Dn(r,i,b,h);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},R1=t=>"cx"in t&&Pe(t.cx),Tse=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!R1(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:h,height:p}=e,g=l,b=l+(d-h)/2,_=(g+b)/2,E=(d+h)/2,A=g+d/2,S=p>=0?1:-1,j=S*r,R=S>0?"end":"start",P=S>0?"start":"end",U=d>=0?1:-1,V=U*r,$=U>0?"end":"start",O=U>0?"start":"end";if(i==="top"){var I={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:R};return vn(vn({},I),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var D={x:b+h/2,y:u+p+j,textAnchor:"middle",verticalAnchor:P};return vn(vn({},D),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var z={x:_-V,y:u+p/2,textAnchor:$,verticalAnchor:"middle"};return vn(vn({},z),s?{width:Math.max(z.x-s.x,0),height:p}:{})}if(i==="right"){var M={x:_+E+V,y:u+p/2,textAnchor:O,verticalAnchor:"middle"};return vn(vn({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:p}:{})}var B=s?{width:E,height:p}:{};return i==="insideLeft"?vn({x:_+V,y:u+p/2,textAnchor:O,verticalAnchor:"middle"},B):i==="insideRight"?vn({x:_+E-V,y:u+p/2,textAnchor:$,verticalAnchor:"middle"},B):i==="insideTop"?vn({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:P},B):i==="insideBottom"?vn({x:b+h/2,y:u+p-j,textAnchor:"middle",verticalAnchor:R},B):i==="insideTopLeft"?vn({x:g+V,y:u+j,textAnchor:O,verticalAnchor:P},B):i==="insideTopRight"?vn({x:g+d-V,y:u+j,textAnchor:$,verticalAnchor:P},B):i==="insideBottomLeft"?vn({x:b+V,y:u+p-j,textAnchor:O,verticalAnchor:R},B):i==="insideBottomRight"?vn({x:b+h-V,y:u+p-j,textAnchor:$,verticalAnchor:R},B):i&&typeof i=="object"&&(Pe(i.x)||Fs(i.x))&&(Pe(i.y)||Fs(i.y))?vn({x:l+Tr(i.x,E),y:u+Tr(i.y,p),textAnchor:"end",verticalAnchor:"end"},B):vn({x:A,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Nse={angle:0,offset:5,zIndex:xn.label,position:"middle",textBreakAll:!1};function As(t){var e=mn(t,Nse),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:h}=e,p=_se(),g=RV(),b=r==="center"?g:p??g,_,E,A;if(n==null?_=b:R1(n)?_=n:_=X5(n),!_||Gt(i)&&Gt(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var S=vn(vn({},e),{},{viewBox:_});if(w.isValidElement(l)){var{labelRef:j}=S,R=ik(S,hse);return w.cloneElement(l,R)}if(typeof l=="function"){var{content:P}=S,U=ik(S,mse);if(E=w.createElement(l,U),w.isValidElement(E))return E}else E=wse(e);var V=jr(e);if(R1(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Ase(e,r,E,V,_);A=Sse(_,e.offset,e.position)}else A=Tse(e,_);return w.createElement(Mr,{zIndex:e.zIndex},w.createElement(i0,Ns({ref:h,className:ht("recharts-label",u)},V,A,{textAnchor:lse(V.textAnchor)?V.textAnchor:A.textAnchor,breakAll:d}),E))}As.displayName="Label";var jse=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(As,Ns({key:"label-implicit"},r)):qa(t)?w.createElement(As,Ns({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===As?w.cloneElement(t,vn({key:"label-implicit"},r)):w.createElement(As,Ns({key:"label-implicit",content:t},r)):OS(t)?w.createElement(As,Ns({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(As,Ns({},t,{key:"label-implicit"},r)):null};function Cse(t){var{label:e,labelRef:n}=t,r=RV();return jse(e,r,n)||null}var Q_={},J_={},sk;function Ose(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(J_)),J_}var Z_={},ok;function Ise(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Z_)),Z_}var lk;function Pse(){return lk||(lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ose(),n=Ise(),r=rA();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(Q_)),Q_}var ew,ck;function Rse(){return ck||(ck=1,ew=Pse().last),ew}var kse=Rse();const Dse=Xs(kse);var Mse=["valueAccessor"],Lse=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(null,arguments)}function uk(t,e){if(t==null)return{};var n,r,i=Vse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Use=t=>Array.isArray(t.value)?Dse(t.value):t.value,kV=w.createContext(void 0),IS=kV.Provider,DV=w.createContext(void 0),zse=DV.Provider;function Bse(){return w.useContext(kV)}function Fse(){return w.useContext(DV)}function Tg(t){var{valueAccessor:e=Use}=t,n=uk(t,Mse),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=uk(n,Lse),h=Bse(),p=Fse(),g=h||p;return!g||!g.length?null:w.createElement(Mr,{zIndex:u??xn.label},w.createElement(hn,{className:"recharts-label-list"},g.map((b,_)=>{var E,A=Gt(r)?e(b,_):_t(b&&b.payload,r),S=Gt(s)?{}:{id:"".concat(s,"-").concat(_)};return w.createElement(As,Ry({key:"label-".concat(_)},jr(b),d,S,{fill:(E=n.fill)!==null&&E!==void 0?E:b.fill,parentViewBox:b.parentViewBox,value:A,textBreakAll:l,viewBox:b.viewBox,index:_,zIndex:0}))})))}Tg.displayName="LabelList";function a0(t){var{label:e}=t;return e?e===!0?w.createElement(Tg,{key:"labelList-implicit"}):w.isValidElement(e)||OS(e)?w.createElement(Tg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(Tg,Ry({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k1.apply(null,arguments)}var MV=t=>{var{cx:e,cy:n,r,className:i}=t,s=ht("recharts-dot",i);return Pe(e)&&Pe(n)&&Pe(r)?w.createElement("circle",k1({},kr(t),nA(t),{className:s,cx:e,cy:n,r})):null},LV=t=>t.graphicalItems.polarItems,$se=re([en,sm],ZA),s0=re([LV,an,$se],eS),qse=re([s0],tS),o0=re([qse,Kv],nS),Hse=re([o0,an,s0],iS);re([o0,an,s0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=_t(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:_t(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var dk=()=>{},Kse=re([o0,an,s0,e0,en],lS),Gse=re([an,sS,oS,dk,Kse,dk,it,en],cS),VV=re([an,it,o0,Hse,am,en,Gse],uS),Yse=re([VV,an,Ad],hS);re([an,VV,Yse,en],pS);var Wse={radiusAxis:{},angleAxis:{}},UV=Wr({name:"polarAxis",initialState:Wse,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ume,removeRadiusAxis:zme,addAngleAxis:Bme,removeAngleAxis:Fme}=UV.actions,Xse=UV.reducer;function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e,n){return(e=Jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Zse(t,"string");return typeof e=="symbol"?e:e+""}function Zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eoe=(t,e)=>e,PS=re([LV,eoe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),toe=[],RS=(t,e,n)=>n?.length===0?toe:n,zV=re([Kv,PS,RS],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>hk(hk({},e.presentationProps),s.props))),i!=null)return i}}),noe=re([zV,PS,RS],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=_t(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:wl(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),roe=re([zV,PS,RS,$n],(t,e,n,r)=>{if(!(e==null||t==null))return ale({offset:r,pieSettings:e,displayedData:t,cells:n})}),tw={exports:{}},It={};var mk;function ioe(){if(mk)return It;mk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var S=A.$$typeof;switch(S){case t:switch(A=A.type,A){case n:case i:case r:case d:case h:case b:return A;default:switch(A=A&&A.$$typeof,A){case l:case u:case g:case p:return A;case s:return A;default:return S}}case e:return S}}}return It.ContextConsumer=s,It.ContextProvider=l,It.Element=t,It.ForwardRef=u,It.Fragment=n,It.Lazy=g,It.Memo=p,It.Portal=e,It.Profiler=i,It.StrictMode=r,It.Suspense=d,It.SuspenseList=h,It.isContextConsumer=function(A){return E(A)===s},It.isContextProvider=function(A){return E(A)===l},It.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},It.isForwardRef=function(A){return E(A)===u},It.isFragment=function(A){return E(A)===n},It.isLazy=function(A){return E(A)===g},It.isMemo=function(A){return E(A)===p},It.isPortal=function(A){return E(A)===e},It.isProfiler=function(A){return E(A)===i},It.isStrictMode=function(A){return E(A)===r},It.isSuspense=function(A){return E(A)===d},It.isSuspenseList=function(A){return E(A)===h},It.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===d||A===h||typeof A=="object"&&A!==null&&(A.$$typeof===g||A.$$typeof===p||A.$$typeof===l||A.$$typeof===s||A.$$typeof===u||A.$$typeof===_||A.getModuleId!==void 0)},It.typeOf=E,It}var pk;function aoe(){return pk||(pk=1,tw.exports=ioe()),tw.exports}var soe=aoe(),gk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",yk=null,nw=null,BV=t=>{if(t===yk&&Array.isArray(nw))return nw;var e=[];return w.Children.forEach(t,n=>{Gt(n)||(soe.isFragment(n)?e=e.concat(BV(n.props.children)):e.push(n))}),nw=e,yk=t,e};function kS(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>gk(i)):r=[gk(e)],BV(t).forEach(i=>{var s=Tc(i,"type.displayName")||Tc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var DS=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,rw={},vk;function ooe(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(rw)),rw}var iw,bk;function loe(){return bk||(bk=1,iw=ooe().isPlainObject),iw}var coe=loe();const uoe=Xs(coe);var xk,_k,wk,Ek,Ak;function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function doe(t,e,n){return(e=foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=hoe(t,"string");return typeof e=="symbol"?e:e+""}function hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ky.apply(null,arguments)}function Uf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Nk=(t,e,n,r,i)=>{var s=n-r,l;return l=cn(xk||(xk=Uf(["M ",",",""])),t,e),l+=cn(_k||(_k=Uf(["L ",",",""])),t+n,e),l+=cn(wk||(wk=Uf(["L ",",",""])),t+n-s/2,e+i),l+=cn(Ek||(Ek=Uf(["L ",",",""])),t+n-s/2-r,e+i),l+=cn(Ak||(Ak=Uf(["L ",","," Z"])),t,e),l},moe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},poe=t=>{var e=mn(t,moe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,b=w.useRef(null),[_,E]=w.useState(-1),A=w.useRef(i),S=w.useRef(s),j=w.useRef(l),R=w.useRef(n),P=w.useRef(r),U=vd(t,"trapezoid-");if(w.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var he=b.current.getTotalLength();he&&E(he)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var V=ht("recharts-trapezoid",u);if(!g)return w.createElement("g",null,w.createElement("path",ky({},jr(e),{className:V,d:Nk(n,r,i,s,l)})));var $=A.current,O=S.current,I=j.current,D=R.current,z=P.current,M="0px ".concat(_===-1?1:_,"px"),B="".concat(_,"px 0px"),k=c6(["strokeDasharray"],h,d);return w.createElement(yd,{animationId:U,key:U,canBegin:_>0,duration:h,easing:d,isActive:g,begin:p},he=>{var Ae=xt($,i,he),X=xt(O,s,he),oe=xt(I,l,he),_e=xt(D,n,he),Z=xt(z,r,he);b.current&&(A.current=Ae,S.current=X,j.current=oe,R.current=_e,P.current=Z);var Se=he>0?{transition:k,strokeDasharray:B}:{strokeDasharray:M};return w.createElement("path",ky({},jr(e),{className:V,d:Nk(_e,Z,Ae,X,oe),ref:b,style:Tk(Tk({},Se),e.style)}))})},goe=["option","shapeType","activeClassName"];function yoe(t,e){if(t==null)return{};var n,r,i=voe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function voe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return(e=xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=_oe(t,"string");return typeof e=="symbol"?e:e+""}function _oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function woe(t,e){return Dy(Dy({},e),t)}function Eoe(t,e){return t==="symbols"}function Ck(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(h6,n);case"trapezoid":return w.createElement(poe,n);case"sector":return w.createElement(y6,n);case"symbols":if(Eoe(e))return w.createElement(tA,n);break;case"curve":return w.createElement(Hu,n);default:return null}}function Aoe(t){return w.isValidElement(t)?t.props:t}function MS(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=yoe(t,goe),s;if(w.isValidElement(e))s=w.cloneElement(e,Dy(Dy({},i),Aoe(e)));else if(typeof e=="function")s=e(i,i.index);else if(uoe(e)&&typeof e!="boolean"){var l=woe(e,i);s=w.createElement(Ck,{shapeType:n,elementProps:l})}else{var u=i;s=w.createElement(Ck,{shapeType:n,elementProps:u})}return i.isActive?w.createElement(hn,{className:r},s):s}var LS=(t,e,n)=>{var r=Ft();return(i,s)=>l=>{t?.(i,s,l),r(Z3({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},VS=t=>{var e=Ft();return(n,r)=>i=>{t?.(n,r,i),e(Pre())}},US=(t,e,n)=>{var r=Ft();return(i,s)=>l=>{t?.(i,s,l),r(Rre({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function l0(t){var{tooltipEntrySettings:e}=t,n=Ft(),r=sr(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(jre(e)):i.current!==e&&n(Cre({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(Ore(i.current)),i.current=null)},[n]),null}function zS(t){var{legendPayload:e}=t,n=Ft(),r=sr(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(a6(e)):i.current!==e&&n(s6({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(o6(i.current)),i.current=null)},[n]),null}function Soe(t){var{legendPayload:e}=t,n=Ft(),r=Ve(it),i=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(a6(e)):i.current!==e&&n(s6({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(o6(i.current)),i.current=null)},[n]),null}var aw,Toe=()=>{var[t]=w.useState(()=>uh("uid-"));return t},Noe=(aw=Az.useId)!==null&&aw!==void 0?aw:Toe;function joe(t,e){var n=Noe();return e||(t?"".concat(t,"-").concat(n):n)}var Coe=w.createContext(void 0),c0=t=>{var{id:e,type:n,children:r}=t,i=joe("recharts-".concat(n),e);return w.createElement(Coe.Provider,{value:i},r(i))},Ooe={cartesianItems:[],polarItems:[]},FV=Wr({name:"graphicalItems",initialState:Ooe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Qt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ua(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Qt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ua(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Qt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Qt()},removePolarGraphicalItem:{reducer(t,e){var n=ua(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Qt()}}}),{addCartesianGraphicalItem:Ioe,replaceCartesianGraphicalItem:Poe,removeCartesianGraphicalItem:Roe,addPolarGraphicalItem:koe,removePolarGraphicalItem:Doe}=FV.actions,Moe=FV.reducer,Loe=t=>{var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Ioe(t)):n.current!==t&&e(Poe({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(Roe(n.current)),n.current=null)},[e]),null},BS=w.memo(Loe);function Voe(t){var e=Ft();return w.useLayoutEffect(()=>(e(koe(t)),()=>{e(Doe(t))}),[e,t]),null}var Uoe=["key"],zoe=["onMouseEnter","onClick","onMouseLeave"],Boe=["id"],Foe=["id"];function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qoe(t){var e=Hoe(t,"string");return typeof e=="symbol"?e:e+""}function Hoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(null,arguments)}function u0(t,e){if(t==null)return{};var n,r,i=Koe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Koe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Goe(t){var e=w.useMemo(()=>kS(t.children,jd),[t.children]),n=Ve(r=>noe(r,t.id,e));return n==null?null:w.createElement(Soe,{legendPayload:n})}var Yoe=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:wl(u,e),hide:d,type:h,color:l,unit:"",graphicalItemId:p}};return w.createElement(l0,{tooltipEntrySettings:g})}),Woe=(t,e)=>t>e?"start":t<e?"end":"middle",Xoe=(t,e,n)=>Tr(typeof e=="function"?e(t):e,n,n*.8),Qoe=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=m6(s,l),d=i+Tr(t.cx,s,s/2),h=r+Tr(t.cy,l,l/2),p=Tr(t.innerRadius,u,0),g=Xoe(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:h,innerRadius:p,outerRadius:g,maxRadius:b}},Joe=(t,e)=>{var n=rr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Zoe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ele=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ht("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=u0(e,Uoe);return w.createElement(Hu,gl({},i,{type:"linear",className:n}))},tle=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var i=ht("recharts-pie-label-text",Zoe(t));return w.createElement(i0,gl({},e,{alignmentBaseline:"middle",className:i}),r)};function nle(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=kr(n),d=Ac(i),h=Ac(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,_)=>{var E=(b.startAngle+b.endAngle)/2,A=Dn(b.cx,b.cy,b.outerRadius+p,E),S=un(un(un(un({},u),b),{},{stroke:"none"},d),{},{index:_,textAnchor:Woe(A.x,b.cx)},A),j=un(un(un(un({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:_,points:[Dn(b.cx,b.cy,b.outerRadius,E),A],key:"line"});return w.createElement(Mr,{zIndex:xn.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},w.createElement(hn,null,s&&ele(s,j),tle(i,S,_t(b,l))))});return w.createElement(hn,{className:"recharts-pie-labels"},g)}function rle(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(a0,{label:i}):w.createElement(nle,{sectors:e,props:n,showLabels:r})}function ile(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=Ve(pl),d=Ve(AS),h=Ve(vie),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,_=u0(i,zoe),E=LS(p,i.dataKey,l),A=VS(b),S=US(g,i.dataKey,l);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((j,R)=>{if(j?.startAngle===0&&j?.endAngle===0&&e.length!==1)return null;var P=h==null||h===l,U=String(R)===u&&(d==null||i.dataKey===d)&&P,V=u?r:null,$=n&&U?n:V,O=un(un({},j),{},{stroke:j.stroke,tabIndex:-1,[H5]:R,[K5]:l});return w.createElement(hn,gl({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(R),tabIndex:-1,className:"recharts-pie-sector"},Yh(_,j,R),{onMouseEnter:E(j,R),onMouseLeave:A(j,R),onClick:S(j,R)}),w.createElement(MS,gl({option:s??$,index:R,shapeType:"sector",isActive:U},O)))}))}function ale(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:h,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),_=Joe(u,d),E=Math.abs(_),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,S=r.filter($=>_t($,h,0)!==0).length,j=(E>=360?S:S-1)*A,R=E-S*b-j,P=r.reduce(($,O)=>{var I=_t(O,h,0);return $+(Pe(I)?I:0)},0),U;if(P>0){var V;U=r.map(($,O)=>{var I=_t($,h,0),D=_t($,p,O),z=Qoe(n,s,$),M=(Pe(I)?I:0)/P,B,k=un(un({},$),i&&i[O]&&i[O].props);O?B=V.endAngle+rr(_)*A*(I!==0?1:0):B=u;var he=B+rr(_)*((I!==0?b:0)+M*R),Ae=(B+he)/2,X=(z.innerRadius+z.outerRadius)/2,oe=[{name:D,value:I,payload:k,dataKey:h,type:g,graphicalItemId:n.id}],_e=Dn(z.cx,z.cy,X,Ae);return V=un(un(un(un({},n.presentationProps),{},{percent:M,cornerRadius:typeof l=="string"?parseFloat(l):l,name:D,tooltipPayload:oe,midAngle:Ae,middleRadius:X,tooltipPosition:_e},k),z),{},{value:I,dataKey:h,startAngle:B,endAngle:he,payload:k,paddingAngle:rr(_)*A}),V})}return U}function sle(t){var{showLabels:e,sectors:n,children:r}=t,i=w.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return w.createElement(zse,{value:e?i:void 0},r)}function ole(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,_=vd(e,"recharts-pie-"),E=n.current,[A,S]=w.useState(!1),j=w.useCallback(()=>{typeof b=="function"&&b(),S(!1)},[b]),R=w.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return w.createElement(sle,{showLabels:!A,sectors:i},w.createElement(yd,{animationId:_,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:R,onAnimationEnd:j,key:_},P=>{var U=[],V=i&&i[0],$=V?.startAngle;return i?.forEach((O,I)=>{var D=E&&E[I],z=I>0?Tc(O,"paddingAngle",0):0;if(D){var M=xt(D.endAngle-D.startAngle,O.endAngle-O.startAngle,P),B=un(un({},O),{},{startAngle:$+z,endAngle:$+M+z});U.push(B),$=B.endAngle}else{var{endAngle:k,startAngle:he}=O,Ae=xt(0,k-he,P),X=un(un({},O),{},{startAngle:$+z,endAngle:$+Ae+z});U.push(X),$=X.endAngle}}),n.current=U,w.createElement(hn,null,w.createElement(ile,{sectors:U,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),w.createElement(rle,{showLabels:!A,sectors:i,props:e}),e.children)}var lle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:xn.area};function cle(t){var{id:e}=t,n=u0(t,Boe),{hide:r,className:i,rootTabIndex:s}=t,l=w.useMemo(()=>kS(t.children,jd),[t.children]),u=Ve(p=>roe(p,e,l)),d=w.useRef(null),h=ht("recharts-pie",i);return r||u==null?(d.current=null,w.createElement(hn,{tabIndex:s,className:h})):w.createElement(Mr,{zIndex:t.zIndex},w.createElement(Yoe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),w.createElement(hn,{tabIndex:s,className:h},w.createElement(ole,{props:un(un({},n),{},{sectors:u}),previousSectorsRef:d,id:e})))}function FS(t){var e=mn(t,lle),{id:n}=e,r=u0(e,Foe),i=kr(r);return w.createElement(c0,{id:n,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(Voe,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),w.createElement(Goe,gl({},r,{id:s})),w.createElement(cle,gl({},r,{id:s}))))}FS.displayName="Pie";var ule=["points"];function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dle(t,e,n){return(e=fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(null,arguments)}function mle(t,e){if(t==null)return{};var n,r,i=ple(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ple(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gle(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=ht(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=mle(s,ule);return w.createElement(MV,My({},u,{className:i}))}function yle(t,e){return t==null?!1:e?!0:t.length===1}function $V(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:h=xn.scatter}=t;if(!yle(e,n))return null;var p=DS(n),g=DG(n),b=e.map((E,A)=>{var S,j,R=sw(sw(sw({r:3},l),g),{},{index:A,cx:(S=E.x)!==null&&S!==void 0?S:void 0,cy:(j=E.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:E.value,payload:E.payload,points:e});return w.createElement(gle,{key:"dot-".concat(A),option:n,dotProps:R,className:i})}),_={};return u&&d!=null&&(_.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),w.createElement(Mr,{zIndex:h},w.createElement(hn,My({className:r},_),b))}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vle(t,e,n){return(e=ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qV=0,_le={xAxis:{},yAxis:{},zAxis:{}},HV=Wr({name:"cartesianAxis",initialState:_le,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Qt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Qt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Qt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Qt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Qt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Qt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Qt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Qt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Qt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=Rk(Rk({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:wle,replaceXAxis:Ele,removeXAxis:Ale,addYAxis:Sle,replaceYAxis:Tle,removeYAxis:Nle,addZAxis:$me,replaceZAxis:qme,removeZAxis:Hme,updateYAxisWidth:jle}=HV.actions,Cle=HV.reducer,Ole=re([$n],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Ile=re([Ole,Js,Zs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),d0=()=>Ve(Ile),Ple=()=>Ve(Eie);function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){Rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rle(t,e,n){return(e=kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t){var e=Dle(t,"string");return typeof e=="symbol"?e:e+""}function Dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mle=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=ow(ow(ow({},u),Ac(i)),nA(i)),h;return w.isValidElement(i)?h=w.cloneElement(i,d):typeof i=="function"?h=i(d):h=w.createElement(MV,d),w.createElement(hn,{className:"recharts-active-dot",clipPath:l},h)};function D1(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=xn.activeDot}=t,u=Ve(pl),d=Ple();if(e==null||d==null)return null;var h=e.find(p=>d.includes(p.payload));return Gt(h)?null:w.createElement(Mr,{zIndex:l},w.createElement(Mle,{point:h,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var Dk=(t,e,n)=>{var r=n??t;if(!Gt(r))return Tr(r,e,0)},Lle=(t,e,n)=>{var r={},i=t.filter(Xv),s=t.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,b=g.map(E=>E.dataKey),_=Dk(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:_}}),d=s.map(h=>{var p=[h.dataKey].filter(b=>b!=null),g=Dk(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]};function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){Vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vle(t,e,n){return(e=Ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ule(t){var e=zle(t,"string");return typeof e=="symbol"?e:e+""}function zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ble(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Tr(t,n,0,!0),u,d=[];if(Ut(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((j,R)=>j+(R.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,_={offset:b-l,size:0};u=r.reduce((j,R)=>{var P,U={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:_.offset+_.size+l,size:h?p:(P=R.barSize)!==null&&P!==void 0?P:0}},V=[...j,U];return _=V[V.length-1].position,V},d)}else{var E=Tr(e,n,0,!0);n-2*E-(s-1)*l<=0&&(l=0);var A=(n-2*E-(s-1)*l)/s;A>1&&(A>>=0);var S=Ut(i)?Math.min(A,i):A;u=r.reduce((j,R,P)=>[...j,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:E+(A+l)*P+(A-S)/2,size:S}}],d)}return u}}var Fle=(t,e,n,r,i,s,l)=>{var u=Gt(l)?e:l,d=Ble(n,r,i!==s?i:s,t,u);return i!==s&&d!=null&&(d=d.map(h=>cg(cg({},h),{},{position:cg(cg({},h.position),{},{offset:h.position.offset-i/2})}))),d},$le=(t,e)=>{var n=Wv(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function qle(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ut(t.zIndex)?t.zIndex:e}var KV=t=>{var{chartData:e}=t,n=Ft(),r=sr();return w.useEffect(()=>r?()=>{}:(n($R(e)),()=>{n($R(void 0))}),[e,n,r]),null},Lk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},GV=Wr({name:"brush",initialState:Lk,reducers:{setBrushSettings(t,e){return e.payload==null?Lk:e.payload}}}),{setBrushSettings:Kme}=GV.actions,Hle=GV.reducer;function Kle(t,e,n){return(e=Gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $S{static create(e){return new $S(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Kle($S,"EPS",1e-4);function Wle(t){return(t%180+180)%180}var Xle=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Wle(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Qle={dots:[],areas:[],lines:[]},YV=Wr({name:"referenceElements",initialState:Qle,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ua(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ua(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ua(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Gme,removeDot:Yme,addArea:Wme,removeArea:Xme,addLine:Qme,removeLine:Jme}=YV.actions,Jle=YV.reducer,Zle=w.createContext(void 0),ece=t=>{var{children:e}=t,[n]=w.useState("".concat(uh("recharts"),"-clip")),r=d0();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return w.createElement(Zle.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function WV(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function tce(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Xle(r,n)}function nce(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function Ah(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function rce(t,e){return WV(t,e+1)}function ice(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,d=0,h=1,p=l,g=function(){var E=r?.[d];if(E===void 0)return{v:WV(r,h)};var A=d,S,j=()=>(S===void 0&&(S=n(E,A)),S),R=E.coordinate,P=d===0||Ah(t,R,j,p,u);P||(d=0,p=l,h+=1),P&&(p=R+t*(j()/2+i),d+=h)},b;h<=s.length;)if(b=g(),b)return b.v;return[]}function ace(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=e,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,b=!0,_=function(){var R=r[E],P=E,U,V=()=>(U===void 0&&(U=n(R,P)),U),$=R.coordinate,O=E===p||Ah(t,$,V,g,d);if(!O)return b=!1,1;O&&(g=$+t*(V()/2+i))},E=p;E<l&&!_();E+=h);if(b){for(var A=[],S=p;S<l;S+=h)A.push(r[S]);return A}}return[]}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return(e=oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oce(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cce(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,h=function(b){var _=s[b],E,A=()=>(E===void 0&&(E=n(_,b)),E);if(b===l-1){var S=t*(_.coordinate+t*A()/2-d);s[b]=_=_r(_r({},_),{},{tickCoord:S>0?_.coordinate-S*t:_.coordinate})}else s[b]=_=_r(_r({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var j=Ah(t,_.tickCoord,A,u,d);j&&(d=_.tickCoord-t*(A()/2+i),s[b]=_r(_r({},_),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function uce(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:h}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-h);if(l[u-1]=p=_r(_r({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var _=Ah(t,p.tickCoord,()=>g,d,h);_&&(h=p.tickCoord-t*(g/2+i),l[u-1]=_r(_r({},p),{},{isShow:!0}))}}for(var E=s?u-1:u,A=function(R){var P=l[R],U,V=()=>(U===void 0&&(U=n(P,R)),U);if(R===0){var $=t*(P.coordinate-t*V()/2-d);l[R]=P=_r(_r({},P),{},{tickCoord:$<0?P.coordinate-$*t:P.coordinate})}else l[R]=P=_r(_r({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var O=Ah(t,P.tickCoord,V,d,h);O&&(d=P.tickCoord+t*(V()/2+i),l[R]=_r(_r({},P),{},{isShow:!0}))}},S=0;S<E;S++)A(S);return l}function qS(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Pe(d)||em.isSsr){var b;return(b=rce(i,Pe(d)?d:0))!==null&&b!==void 0?b:[]}var _=[],E=u==="top"||u==="bottom"?"width":"height",A=p&&E==="width"?Jf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(P,U)=>{var V=typeof h=="function"?h(P.value,U):P.value;return E==="width"?tce(Jf(V,{fontSize:e,letterSpacing:n}),A,g):Jf(V,{fontSize:e,letterSpacing:n})[E]},j=i.length>=2?rr(i[1].coordinate-i[0].coordinate):1,R=nce(s,j,E);return d==="equidistantPreserveStart"?ice(j,R,S,i,l):d==="equidistantPreserveEnd"?ace(j,R,S,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=uce(j,R,S,i,l,d==="preserveStartEnd"):_=cce(j,R,S,i,l),_.filter(P=>P.isShow))}var dce=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,h=l+d+u+(n?r:0);return Math.round(h)}return 0},fce=["axisLine","width","height","className","hide","ticks","axisType"];function hce(t,e){if(t==null)return{};var n,r,i=mce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(null,arguments)}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return(e=gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return typeof e=="symbol"?e:e+""}function yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ms={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:xn.axis};function vce(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var h=In(In(In({},d),kr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=In(In({},h),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=In(In({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return w.createElement("line",Ic({},h,{className:ht("recharts-cartesian-axis-line",Tc(u,"className"))}))}function bce(t,e,n,r,i,s,l,u,d){var h,p,g,b,_,E,A=u?-1:1,S=t.tickSize||l,j=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,b=n+ +!u*i,g=b-A*S,E=g-A*d,_=j;break;case"left":g=b=t.coordinate,p=e+ +!u*r,h=p-A*S,_=h-A*d,E=j;break;case"right":g=b=t.coordinate,p=e+ +u*r,h=p+A*S,_=h+A*d,E=j;break;default:h=p=t.coordinate,b=n+ +u*i,g=b+A*S,E=g+A*d,_=j;break}return{line:{x1:h,y1:g,x2:p,y2:b},tick:{x:_,y:E}}}function xce(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function _ce(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function wce(t){var{option:e,tickProps:n,value:r}=t,i,s=ht(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,In(In({},n),{},{className:s}));else if(typeof e=="function")i=e(In(In({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ht(l,e?.className)),i=w.createElement(i0,Ic({},n,{className:l}),r)}return i}var Ece=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:h,orientation:p,mirror:g,x:b,y:_,width:E,height:A,tickSize:S,tickMargin:j,fontSize:R,letterSpacing:P,getTicksConfig:U,events:V,axisType:$}=t,O=qS(In(In({},U),{},{ticks:n}),R,P),I=xce(p,g),D=_ce(p,g),z=kr(U),M=Ac(r),B={};typeof i=="object"&&(B=i);var k=In(In({},z),{},{fill:"none"},B),he=O.map(oe=>In({entry:oe},bce(oe,b,_,E,A,p,S,g,j))),Ae=he.map(oe=>{var{entry:_e,line:Z}=oe;return w.createElement(hn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(_e.value,"-").concat(_e.coordinate,"-").concat(_e.tickCoord)},i&&w.createElement("line",Ic({},k,Z,{className:ht("recharts-cartesian-axis-tick-line",Tc(i,"className"))})))}),X=he.map((oe,_e)=>{var{entry:Z,tick:Se}=oe,H=In(In(In(In({textAnchor:I,verticalAnchor:D},z),{},{stroke:"none",fill:s},M),Se),{},{index:_e,payload:Z,visibleTicksCount:O.length,tickFormatter:l,padding:d},h);return w.createElement(hn,Ic({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},Yh(V,Z,_e)),r&&w.createElement(wce,{option:r,tickProps:H,value:"".concat(typeof l=="function"?l(Z.value,_e):Z.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},X.length>0&&w.createElement(Mr,{zIndex:xn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:e},X)),Ae.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},Ae))}),Ace=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=t,h=hce(t,fce),[p,g]=w.useState(""),[b,_]=w.useState(""),E=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return dce({ticks:E.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=w.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=j;var R=j[0];if(R){var P=window.getComputedStyle(R),U=P.fontSize,V=P.letterSpacing;(U!==p||V!==b)&&(g(U),_(V))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Mr,{zIndex:t.zIndex},w.createElement(hn,{className:ht("recharts-cartesian-axis",s)},w.createElement(vce,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:kr(t)}),w.createElement(Ece,{ref:A,axisType:d,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(bse,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(Cse,{label:t.label,labelRef:t.labelRef}),t.children)))}),HS=w.forwardRef((t,e)=>{var n=mn(t,Ms);return w.createElement(Ace,Ic({},n,{ref:e}))});HS.displayName="CartesianAxis";var Sce=["x1","y1","x2","y2","key"],Tce=["offset"],Nce=["xAxisId","yAxisId"],jce=["xAxisId","yAxisId"];function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Ice(t,"string");return typeof e=="symbol"?e:e+""}function Ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(null,arguments)}function Ly(t,e){if(t==null)return{};var n,r,i=Pce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return w.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function XV(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:h}=n,p=Ly(n,Sce),g=(i=kr(p))!==null&&i!==void 0?i:{},{offset:b}=g,_=Ly(g,Tce);r=w.createElement("line",dc({},_,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:h}))}return r}function kce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Ly(t,Nce),d=i.map((h,p)=>{var g=Ar(Ar({},u),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(XV,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Dce(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=Ly(t,jce),d=i.map((h,p)=>{var g=Ar(Ar({},u),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(XV,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Mce(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],E=_?i+l-g:h[b+1]-g;if(E<=0)return null;var A=b%e.length;return w.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:E,width:s,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Lce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var _=!h[b+1],E=_?i+l-g:h[b+1]-g;if(E<=0)return null;var A=b%n.length;return w.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:E,height:u,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Vce=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return B5(qS(Ar(Ar(Ar({},Ms),n),{},{ticks:F5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Uce=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return B5(qS(Ar(Ar(Ar({},Ms),n),{},{ticks:F5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},zce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:xn.grid};function QV(t){var e=gA(),n=yA(),r=Q5(),i=Ar(Ar({},mn(t,zce)),{},{x:Pe(t.x)?t.x:r.left,y:Pe(t.y)?t.y:r.top,width:Pe(t.width)?t.width:r.width,height:Pe(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:h,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:_}=i,E=sr(),A=Ve(D=>IR(D,"xAxis",s,E)),S=Ve(D=>IR(D,"yAxis",l,E));if(!Ha(h)||!Ha(p)||!Pe(u)||!Pe(d))return null;var j=i.verticalCoordinatesGenerator||Vce,R=i.horizontalCoordinatesGenerator||Uce,{horizontalPoints:P,verticalPoints:U}=i;if((!P||!P.length)&&typeof R=="function"){var V=b&&b.length,$=R({yAxis:S?Ar(Ar({},S),{},{ticks:V?b:S.ticks}):void 0,width:e??h,height:n??p,offset:r},V?!0:g);uy(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(P=$)}if((!U||!U.length)&&typeof j=="function"){var O=_&&_.length,I=j({xAxis:A?Ar(Ar({},A),{},{ticks:O?_:A.ticks}):void 0,width:e??h,height:n??p,offset:r},O?!0:g);uy(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(U=I)}return w.createElement(Mr,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Rce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(Mce,dc({},i,{horizontalPoints:P})),w.createElement(Lce,dc({},i,{verticalPoints:U})),w.createElement(kce,dc({},i,{offset:r,horizontalPoints:P,xAxis:A,yAxis:S})),w.createElement(Dce,dc({},i,{offset:r,verticalPoints:U,xAxis:A,yAxis:S}))))}QV.displayName="CartesianGrid";var Bce={},JV=Wr({name:"errorBars",initialState:Bce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Zme,replaceErrorBar:epe,removeErrorBar:tpe}=JV.actions,Fce=JV.reducer,$ce=["children"];function qce(t,e){if(t==null)return{};var n,r,i=Hce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Gce=w.createContext(Kce);function ZV(t){var{children:e}=t,n=qce(t,$ce);return w.createElement(Gce.Provider,{value:n},e)}function f0(t,e){var n,r,i=Ve(h=>no(h,t)),s=Ve(h=>ro(h,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Jn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Zn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function KS(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=d0(),{needClipX:s,needClipY:l,needClip:u}=f0(e,n);if(!u||!i)return null;var{x:d,y:h,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?d:d-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var eU=(t,e,n,r)=>Ya(t,"xAxis",e,r),tU=(t,e,n,r)=>Ga(t,"xAxis",e,r),nU=(t,e,n,r)=>Ya(t,"yAxis",n,r),rU=(t,e,n,r)=>Ga(t,"yAxis",n,r),Yce=re([it,eU,nU,tU,rU],(t,e,n,r,i)=>Ja(t,"xAxis")?hl(e,r,!1):hl(n,i,!1)),Wce=(t,e,n,r,i)=>i;function Xce(t){return t.type==="line"}var Qce=re([lm,Wce],(t,e)=>t.filter(Xce).find(n=>n.id===e)),Jce=re([it,eU,nU,tU,rU,Qce,Yce,$A],(t,e,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,_;if(b!=null&&b.length>0?_=b:_=d?.slice(h,p+1),_!=null)return Vue({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:_})}});function iU(t){var e=Ac(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var lw={exports:{}},cw={};var Bk;function Zce(){if(Bk)return cw;Bk=1;var t=sd();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return cw.useSyncExternalStoreWithSelector=function(d,h,p,g,b){var _=i(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function S(V){if(!j){if(j=!0,R=V,V=g(V),b!==void 0&&E.hasValue){var $=E.value;if(b($,V))return P=$}return P=V}if($=P,n(R,V))return $;var O=g(V);return b!==void 0&&b($,O)?(R=V,$):(R=V,P=O)}var j=!1,R,P,U=p===void 0?null:p;return[function(){return S(h())},U===null?void 0:function(){return S(U())}]},[h,p,g,b]);var A=r(d,_[0],_[1]);return s(function(){E.hasValue=!0,E.value=A},[A]),u(A),A},cw}var Fk;function eue(){return Fk||(Fk=1,lw.exports=Zce()),lw.exports}eue();function tue(t){t()}function nue(){let t=null,e=null;return{clear(){t=null,e=null},notify(){tue(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var $k={notify(){},get:()=>[]};function rue(t,e){let n,r=$k,i=0,s=!1;function l(A){p();const S=r.subscribe(A);let j=!1;return()=>{j||(j=!0,S(),g())}}function u(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){i++,n||(n=t.subscribe(d),r=nue())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$k)}function b(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const E={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:b,tryUnsubscribe:_,getListeners:()=>r};return E}var iue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aue=iue(),sue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oue=sue(),lue=()=>aue||oue?w.useLayoutEffect:w.useEffect,cue=lue();function qk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function uue(t,e){if(qk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!qk(t[n[i]],e[n[i]]))return!1;return!0}var due=Symbol.for("react-redux-context"),fue=typeof globalThis<"u"?globalThis:{};function hue(){if(!w.createContext)return{};const t=fue[due]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var mue=hue();function pue(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const d=rue(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);cue(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||mue;return w.createElement(u.Provider,{value:s},e)}var gue=pue,yue=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function vue(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function pm(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(yue.has(r)){if(t[r]==null&&e[r]==null)continue;if(!uue(t[r],e[r]))return!1}else if(!vue(t[r],e[r]))return!1;return!0}var bue=["id"],xue=["type","layout","connectNulls","needClip","shape"],_ue=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(null,arguments)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wue(t,e,n){return(e=Eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=Aue(t,"string");return typeof e=="symbol"?e:e+""}function Aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GS(t,e){if(t==null)return{};var n,r,i=Sue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tue=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:wl(n,e),payload:t}]},Nue=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:wl(l,e),hide:u,type:h,color:r,unit:d,graphicalItemId:p}};return w.createElement(l0,{tooltipEntrySettings:g})}),aU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function jue(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Cue=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return aU(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>s){u=[...n.slice(0,d),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...jue(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function Oue(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=GS(r,bue),h=kr(d);return w.createElement($V,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function Iue(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ka(ka({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(IS,{value:e?i:void 0},n)}function Kk(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:d,needClip:h,shape:p}=s,g=GS(s,xue),b=ka(ka({},jr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(MS,Sh({shapeType:"curve",option:p},b,{pathRef:n})),w.createElement(Oue,{points:r,clipPathId:e,props:s}))}function Pue(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Rue(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:b,width:_,height:E,onAnimationEnd:A,onAnimationStart:S}=n,j=i.current,R=vd(l,"recharts-line-"),P=w.useRef(R),[U,V]=w.useState(!1),$=!U,O=w.useCallback(()=>{typeof A=="function"&&A(),V(!1)},[A]),I=w.useCallback(()=>{typeof S=="function"&&S(),V(!0)},[S]),D=Pue(r.current),z=w.useRef(0);P.current!==R&&(z.current=s.current,P.current=R);var M=z.current;return w.createElement(Iue,{points:l,showLabels:$},n.children,w.createElement(yd,{animationId:R,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:O,onAnimationStart:I,key:R},B=>{var k=xt(M,D+M,B),he=Math.min(k,D),Ae;if(d)if(u){var X="".concat(u).split(/[,\s]+/gim).map(Z=>parseFloat(Z));Ae=Cue(he,D,X)}else Ae=aU(D,he);else Ae=u==null?void 0:String(u);if(B>0&&D>0&&(i.current=l,s.current=Math.max(s.current,he)),j){var oe=j.length/l.length,_e=B===1?l:l.map((Z,Se)=>{var H=Math.floor(Se*oe);if(j[H]){var q=j[H];return ka(ka({},Z),{},{x:xt(q.x,Z.x,B),y:xt(q.y,Z.y,B)})}return b?ka(ka({},Z),{},{x:xt(_*2,Z.x,B),y:xt(E/2,Z.y,B)}):ka(ka({},Z),{},{x:Z.x,y:Z.y})});return i.current=_e,w.createElement(Kk,{props:n,points:_e,clipPathId:e,pathRef:r,strokeDasharray:Ae})}return w.createElement(Kk,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Ae})}),w.createElement(a0,{label:n.label}))}function kue(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(Rue,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Due=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:_t(t.payload,e)}};class Mue extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:h,height:p,id:g,needClip:b,zIndex:_}=this.props;if(e)return null;var E=ht("recharts-line",i),A=g,{r:S,strokeWidth:j}=iU(n),R=DS(n),P=S*2+j,U=b?"url(#clipPath-".concat(R?"":"dots-").concat(A,")"):void 0;return w.createElement(Mr,{zIndex:_},w.createElement(hn,{className:E},b&&w.createElement("defs",null,w.createElement(KS,{clipPathId:A,xAxisId:s,yAxisId:l}),!R&&w.createElement("clipPath",{id:"clipPath-dots-".concat(A)},w.createElement("rect",{x:d-P/2,y:u-P/2,width:h+P,height:p+P}))),w.createElement(ZV,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:Due,errorBarOffset:0},w.createElement(kue,{props:this.props,clipPathId:A}))),w.createElement(D1,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:U}))}}var sU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:xn.line,type:"linear"};function Lue(t){var e=mn(t,sU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:g,legendType:b,xAxisId:_,yAxisId:E,id:A}=e,S=GS(e,_ue),{needClip:j}=f0(_,E),R=d0(),P=El(),U=sr(),V=Ve(z=>Jce(z,_,E,U,A));if(P!=="horizontal"&&P!=="vertical"||V==null||R==null)return null;var{height:$,width:O,x:I,y:D}=R;return w.createElement(Mue,Sh({},S,{id:A,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:b,xAxisId:_,yAxisId:E,points:V,layout:P,height:$,width:O,left:I,top:D,needClip:j}))}function Vue(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((h,p)=>{var g=_t(h,l);if(e==="horizontal"){var b=cy({axis:n,ticks:i,bandSize:u,entry:h,index:p}),_=Gt(g)?null:r.scale(g);return{x:b,y:_,value:g,payload:h}}var E=Gt(g)?null:n.scale(g),A=cy({axis:r,ticks:s,bandSize:u,entry:h,index:p});return E==null||A==null?null:{x:E,y:A,value:g,payload:h}}).filter(Boolean)}function Uue(t){var e=mn(t,sU),n=sr();return w.createElement(c0,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(zS,{legendPayload:Tue(e)}),w.createElement(Nue,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(BS,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(Lue,Sh({},e,{id:r}))))}var oU=w.memo(Uue,pm);oU.displayName="Line";function Za(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:qV}function es(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:qV}var lU=(t,e,n)=>Ya(t,"xAxis",Za(t,e),n),cU=(t,e,n)=>Ga(t,"xAxis",Za(t,e),n),uU=(t,e,n)=>Ya(t,"yAxis",es(t,e),n),dU=(t,e,n)=>Ga(t,"yAxis",es(t,e),n),zue=re([it,lU,uU,cU,dU],(t,e,n,r,i)=>Ja(t,"xAxis")?hl(e,r,!1):hl(n,i,!1)),Bue=(t,e)=>e,fU=re([lm,Bue],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),hU=t=>{var e=it(t),n=Ja(e,"xAxis");return n?"yAxis":"xAxis"},Fue=(t,e)=>{var n=hU(t);return n==="yAxis"?es(t,e):Za(t,e)},$ue=(t,e,n)=>Oy(t,hU(t),Fue(t,e),n),que=re([fU,$ue],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=Wv(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),Hue=re([it,lU,uU,cU,dU,que,Z6,zue,fU,_ne],(t,e,n,r,i,s,l,u,d,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=d,E;if(_&&_.length>0?E=_:E=p?.slice(g,b+1),E!=null)return ude({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:E,chartBaseValue:h,bandSize:u})}}),Kue=["id"],Gue=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(null,arguments)}function mU(t,e){if(t==null)return{};var n,r,i=Yue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wue(t,e,n){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=Que(t,"string");return typeof e=="symbol"?e:e+""}function Que(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vy(t,e){return t&&t!=="none"?t:e}var Jue=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:Vy(r,i),value:wl(n,e),payload:t}]},Zue=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:wl(l,e),hide:u,type:h,color:Vy(r,s),unit:d,graphicalItemId:p}};return w.createElement(l0,{tooltipEntrySettings:g})});function ede(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=kr(r);return w.createElement($V,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function tde(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Uu(Uu({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return w.createElement(IS,{value:e?i:void 0},n)}function Yk(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:d,connectNulls:h,isRange:p}=s,{id:g}=s,b=mU(s,Kue),_=kr(b),E=jr(b);return w.createElement(w.Fragment,null,e?.length>1&&w.createElement(hn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Hu,yc({},E,{id:g,points:e,connectNulls:h,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&w.createElement(Hu,yc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:e})),d!=="none"&&p&&w.createElement(Hu,yc({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:h,fill:"none",points:n}))),w.createElement(ede,{points:e,props:b,clipPathId:i}))}function nde(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,d=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Ut(u)||!Ut(d))return null;var h=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.x||0));return Pe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Pe(p)?w.createElement("rect",{x:0,y:u<d?u:u-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}function rde(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,d=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Ut(u)||!Ut(d))return null;var h=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.y||0));return Pe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Pe(p)?w.createElement("rect",{x:u<d?u:u-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function ide(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?w.createElement(nde,{alpha:e,points:r,baseLine:i,strokeWidth:s}):w.createElement(rde,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function ade(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:_}=r,E=w.useMemo(()=>({points:l,baseLine:u}),[l,u]),A=vd(E,"recharts-area-"),S=VQ(),[j,R]=w.useState(!1),P=!j,U=w.useCallback(()=>{typeof _=="function"&&_(),R(!1)},[_]),V=w.useCallback(()=>{typeof b=="function"&&b(),R(!0)},[b]);if(S==null)return null;var $=i.current,O=s.current;return w.createElement(tde,{showLabels:P,points:l},r.children,w.createElement(yd,{animationId:A,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:U,onAnimationStart:V,key:A},I=>{if($){var D=$.length/l.length,z=I===1?l:l.map((B,k)=>{var he=Math.floor(k*D);if($[he]){var Ae=$[he];return Uu(Uu({},B),{},{x:xt(Ae.x,B.x,I),y:xt(Ae.y,B.y,I)})}return B}),M;return Pe(u)?M=xt(O,u,I):Gt(u)||zi(u)?M=xt(O,0,I):M=u.map((B,k)=>{var he=Math.floor(k*D);if(Array.isArray(O)&&O[he]){var Ae=O[he];return Uu(Uu({},B),{},{x:xt(Ae.x,B.x,I),y:xt(Ae.y,B.y,I)})}return B}),I>0&&(i.current=z,s.current=M),w.createElement(Yk,{points:z,baseLine:M,needClip:e,clipPathId:n,props:r})}return I>0&&(i.current=l,s.current=u),w.createElement(hn,null,d&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(ide,{alpha:I,points:l,baseLine:u,layout:S,strokeWidth:r.strokeWidth}))),w.createElement(hn,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(Yk,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),w.createElement(a0,{label:r.label}))}function sde(t){var{needClip:e,clipPathId:n,props:r}=t,i=w.useRef(null),s=w.useRef();return w.createElement(ade,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class ode extends w.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:d,yAxisId:h,width:p,height:g,id:b,baseLine:_,zIndex:E}=this.props;if(e)return null;var A=ht("recharts-area",i),S=b,{r:j,strokeWidth:R}=iU(n),P=DS(n),U=j*2+R,V=u?"url(#clipPath-".concat(P?"":"dots-").concat(S,")"):void 0;return w.createElement(Mr,{zIndex:E},w.createElement(hn,{className:A},u&&w.createElement("defs",null,w.createElement(KS,{clipPathId:S,xAxisId:d,yAxisId:h}),!P&&w.createElement("clipPath",{id:"clipPath-dots-".concat(S)},w.createElement("rect",{x:l-U/2,y:s-U/2,width:p+U,height:g+U}))),w.createElement(sde,{needClip:u,clipPathId:S,props:this.props})),w.createElement(D1,{points:r,mainColor:Vy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:V}),this.props.isRange&&Array.isArray(_)&&w.createElement(D1,{points:_,mainColor:Vy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:V}))}}var pU={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:xn.area};function lde(t){var e,n=mn(t,pU),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:h,fillOpacity:p,hide:g,isAnimationActive:b,legendType:_,stroke:E,xAxisId:A,yAxisId:S}=n,j=mU(n,Gue),R=El(),P=pV(),{needClip:U}=f0(A,S),V=sr(),{points:$,isRange:O,baseLine:I}=(e=Ve(he=>Hue(he,t.id,V)))!==null&&e!==void 0?e:{},D=d0();if(R!=="horizontal"&&R!=="vertical"||D==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:z,width:M,x:B,y:k}=D;return!$||!$.length?null:w.createElement(ode,yc({},j,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:I,connectNulls:u,dot:d,fill:h,fillOpacity:p,height:z,hide:g,layout:R,isAnimationActive:b==="auto"?!em.isSsr:b,isRange:O,legendType:_,needClip:U,points:$,stroke:E,width:M,left:B,top:k,xAxisId:A,yAxisId:S}))}var cde=(t,e,n,r,i)=>{var s=n??e;if(Pe(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return s==="dataMin"?h:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function ude(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:_}=t,E=i&&i.length,A=cde(s,l,n,u,d),S=s==="horizontal",j=!1,R=h.map((U,V)=>{var $,O,I;if(E)I=i[p+V];else{var D=_t(U,r);Array.isArray(D)?(I=D,j=!0):I=[A,D]}var z=($=(O=I)===null||O===void 0?void 0:O[1])!==null&&$!==void 0?$:null,M=z==null||E&&!e&&_t(U,r)==null;return S?{x:cy({axis:u,ticks:g,bandSize:_,entry:U,index:V}),y:M?null:d.scale(z),value:I,payload:U}:{x:M?null:u.scale(z),y:cy({axis:d,ticks:b,bandSize:_,entry:U,index:V}),value:I,payload:U}}),P;return E||j?P=R.map(U=>{var V=Array.isArray(U.value)?U.value[0]:null;return S?{x:U.x,y:V!=null&&U.y!=null?d.scale(V):null,payload:U.payload}:{x:V!=null?u.scale(V):null,y:U.y,payload:U.payload}}):P=S?d.scale(A):u.scale(A),{points:R,baseLine:P,isRange:j}}function dde(t){var e=mn(t,pU),n=sr();return w.createElement(c0,{id:e.id,type:"area"},r=>w.createElement(w.Fragment,null,w.createElement(zS,{legendPayload:Jue(e)}),w.createElement(Zue,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(BS,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:$5(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),w.createElement(lde,yc({},e,{id:r}))))}var ws=w.memo(dde,pm);ws.displayName="Area";var fde="Invariant failed";function hde(t,e){throw new Error(fde)}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M1.apply(null,arguments)}function Uy(t){return w.createElement(MS,M1({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var mde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(e))return e;var s=Pe(r)||Gt(r);return s?e(r,i):(s||hde(),n)}},pde=(t,e,n)=>n,gde=(t,e)=>e,gm=re([lm,gde],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),yde=re([gm],t=>t?.maxBarSize),vde=(t,e,n,r)=>r,bde=re([it,lm,Za,es,pde],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),xde=(t,e,n)=>{var r=it(t),i=Za(t,e),s=es(t,e);if(!(i==null||s==null))return r==="horizontal"?Oy(t,"yAxis",s,n):Oy(t,"xAxis",i,n)},_de=(t,e)=>{var n=it(t),r=Za(t,e),i=es(t,e);if(!(r==null||i==null))return n==="horizontal"?OR(t,"xAxis",r):OR(t,"yAxis",i)},wde=re([bde,xne,_de],Lle),Ede=(t,e,n)=>{var r,i,s=gm(t,e);if(s!=null){var l=Za(t,e),u=es(t,e);if(!(l==null||u==null)){var d=it(t),h=m3(t),{maxBarSize:p}=s,g=Gt(p)?h:p,b,_;return d==="horizontal"?(b=Ya(t,"xAxis",l,n),_=Ga(t,"xAxis",l,n)):(b=Ya(t,"yAxis",u,n),_=Ga(t,"yAxis",u,n)),(r=(i=hl(b,_,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},gU=(t,e,n)=>{var r=it(t),i=Za(t,e),s=es(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=Ya(t,"xAxis",i,n),u=Ga(t,"xAxis",i,n)):(l=Ya(t,"yAxis",s,n),u=Ga(t,"yAxis",s,n)),hl(l,u)}},Ade=re([wde,m3,bne,p3,Ede,gU,yde],Fle),Sde=(t,e,n)=>{var r=Za(t,e);if(r!=null)return Ya(t,"xAxis",r,n)},Tde=(t,e,n)=>{var r=es(t,e);if(r!=null)return Ya(t,"yAxis",r,n)},Nde=(t,e,n)=>{var r=Za(t,e);if(r!=null)return Ga(t,"xAxis",r,n)},jde=(t,e,n)=>{var r=es(t,e);if(r!=null)return Ga(t,"yAxis",r,n)},Cde=re([Ade,gm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Ode=re([xde,gm],$le),Ide=re([$n,hA,Sde,Tde,Nde,jde,Cde,it,Z6,gU,Ode,gm,vde],(t,e,n,r,i,s,l,u,d,h,p,g,b)=>{var{chartData:_,dataStartIndex:E,dataEndIndex:A}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:S}=g,j;if(S!=null&&S.length>0?j=S:j=_?.slice(E,A+1),j!=null)return sfe({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:j,offset:t,cells:b,dataStartIndex:E})}}),Pde=["index"];function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(null,arguments)}function Rde(t,e){if(t==null)return{};var n,r,i=kde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yU=w.createContext(void 0),Dde=t=>{var e=w.useContext(yU);if(e!=null)return e.stackId;if(t!=null)return $5(t)},Mde=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Lde=t=>{var e=w.useContext(yU);if(e!=null){var{stackId:n}=e;return"url(#".concat(Mde(n,t),")")}},Vde=t=>{var{index:e}=t,n=Rde(t,Pde),r=Lde(e);return w.createElement(hn,L1({className:"recharts-bar-stack-layer",clipPath:r},n))},Ude=["onMouseEnter","onMouseLeave","onClick"],zde=["value","background","tooltipPosition"],Bde=["id"],Fde=["onMouseEnter","onClick","onMouseLeave"];function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(null,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){$de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $de(t,e,n){return(e=qde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=Hde(t,"string");return typeof e=="symbol"?e:e+""}function Hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zy(t,e){if(t==null)return{};var n,r,i=Kde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Gde=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:wl(n,e),payload:t}]},Yde=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:d,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:wl(s,e),hide:l,type:d,color:i,unit:u,graphicalItemId:h}};return w.createElement(l0,{tooltipEntrySettings:p})});function Wde(t){var e=Ve(pl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,h=zy(s,Ude),p=LS(l,r,s.id),g=VS(u),b=US(d,r,s.id);if(!i||n==null)return null;var _=Ac(i);return w.createElement(Mr,{zIndex:qle(i,xn.barBackground)},n.map((E,A)=>{var{value:S,background:j,tooltipPosition:R}=E,P=zy(E,zde);if(!j)return null;var U=p(E,A),V=g(E,A),$=b(E,A),O=Pr(Pr(Pr(Pr(Pr({option:i,isActive:String(A)===e},P),{},{fill:"#eee"},j),_),Yh(h,E,A)),{},{onMouseEnter:U,onMouseLeave:V,onClick:$,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return w.createElement(Uy,Ys({key:"background-bar-".concat(A)},O))}))}function Xde(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Pr(Pr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(IS,{value:e?i:void 0},n)}function Qde(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Ve(pl),d=Ve(AS),h=n&&String(s)===u&&(d==null||l===d),p=h?n:e;return h?w.createElement(Mr,{zIndex:xn.activeBar},w.createElement(Uy,Ys({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))):w.createElement(Uy,Ys({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:l}))}function Jde(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(Uy,Ys({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Zde(t){var e,{data:n,props:r}=t,i=(e=kr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=zy(i,Bde),{shape:u,dataKey:d,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,_=zy(r,Fde),E=LS(p,d,s),A=VS(b),S=US(g,d,s);return n?w.createElement(w.Fragment,null,n.map((j,R)=>w.createElement(Vde,Ys({index:R,key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(R),className:"recharts-bar-rectangle"},Yh(_,j,R),{onMouseEnter:E(j,R),onMouseLeave:A(j,R),onClick:S(j,R)}),h?w.createElement(Qde,{shape:u,activeBar:h,baseProps:l,entry:j,index:R,dataKey:d}):w.createElement(Jde,{shape:u,baseProps:l,entry:j,index:R,dataKey:d})))):null}function efe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,b=vd(e,"recharts-bar-"),[_,E]=w.useState(!1),A=!_,S=w.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),j=w.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return w.createElement(Xde,{showLabels:A,rects:r},w.createElement(yd,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:S,onAnimationStart:j,key:b},R=>{var P=R===1?r:r?.map((U,V)=>{var $=g&&g[V];if($)return Pr(Pr({},U),{},{x:xt($.x,U.x,R),y:xt($.y,U.y,R),width:xt($.width,U.width,R),height:xt($.height,U.height,R)});if(i==="horizontal"){var O=xt(0,U.height,R),I=xt(U.stackedBarStart,U.y,R);return Pr(Pr({},U),{},{y:I,height:O})}var D=xt(0,U.width,R),z=xt(U.stackedBarStart,U.x,R);return Pr(Pr({},U),{},{width:D,x:z})});return R>0&&(n.current=P??null),P==null?null:w.createElement(hn,null,w.createElement(Zde,{props:e,data:P}))}),w.createElement(a0,{label:e.label}),e.children)}function tfe(t){var e=w.useRef(null);return w.createElement(efe,{previousRectanglesRef:e,props:t})}var vU=0,nfe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:_t(t,e)}};class rfe extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:d,id:h}=this.props;if(e||n==null)return null;var p=ht("recharts-bar",i),g=h;return w.createElement(hn,{className:p,id:h},u&&w.createElement("defs",null,w.createElement(KS,{clipPathId:g,xAxisId:s,yAxisId:l})),w.createElement(hn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Wde,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement(tfe,this.props)))}}var ife={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:vU,xAxisId:0,yAxisId:0,zIndex:xn.bar};function afe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=f0(e,n),b=El(),_=sr(),E=kS(t.children,jd),A=Ve(R=>Ide(R,t.id,_,E));if(b!=="vertical"&&b!=="horizontal")return null;var S,j=A?.[0];return j==null||j.height==null||j.width==null?S=0:S=b==="vertical"?j.height/2:j.width/2,w.createElement(ZV,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:nfe,errorBarOffset:S},w.createElement(rfe,Ys({},t,{layout:b,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:h,isAnimationActive:p})))}function sfe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:h,stackedData:p,displayedData:g,offset:b,cells:_,parentViewBox:E,dataStartIndex:A}=t,S=e==="horizontal"?u:l,j=p?S.scale.domain():null,R=nQ({numericAxis:S}),P=S.scale(R);return g.map((U,V)=>{var $,O,I,D,z,M;if(p){var B=p[V+A];if(B==null)return null;$=QX(B,j)}else $=_t(U,n),Array.isArray($)||($=[R,$]);var k=mde(r,vU)($[1],V);if(e==="horizontal"){var he,[Ae,X]=[u.scale($[0]),u.scale($[1])];O=kI({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:U,index:V}),I=(he=X??Ae)!==null&&he!==void 0?he:void 0,D=i.size;var oe=Ae-X;if(z=zi(oe)?0:oe,M={x:O,y:b.top,width:D,height:b.height},Math.abs(k)>0&&Math.abs(z)<Math.abs(k)){var _e=rr(z||k)*(Math.abs(k)-Math.abs(z));I-=_e,z+=_e}}else{var[Z,Se]=[l.scale($[0]),l.scale($[1])];if(O=Z,I=kI({axis:u,ticks:h,bandSize:s,offset:i.offset,entry:U,index:V}),D=Se-Z,z=i.size,M={x:b.left,y:I,width:b.width,height:z},Math.abs(k)>0&&Math.abs(D)<Math.abs(k)){var H=rr(D||k)*(Math.abs(k)-Math.abs(D));D+=H}}if(O==null||I==null||D==null||z==null)return null;var q=Pr(Pr({},U),{},{stackedBarStart:P,x:O,y:I,width:D,height:z,value:p?$:$[1],payload:U,background:M,tooltipPosition:{x:O+D/2,y:I+z/2},parentViewBox:E},_&&_[V]&&_[V].props);return q}).filter(Boolean)}function ofe(t){var e=mn(t,ife),n=Dde(e.stackId),r=sr();return w.createElement(c0,{id:e.id,type:"bar"},i=>w.createElement(w.Fragment,null,w.createElement(zS,{legendPayload:Gde(e)}),w.createElement(Yde,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),w.createElement(BS,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),w.createElement(Mr,{zIndex:e.zIndex},w.createElement(afe,Ys({},e,{id:i})))))}var V1=w.memo(ofe,pm);V1.displayName="Bar";var lfe=["domain","range"],cfe=["domain","range"];function Xk(t,e){if(t==null)return{};var n,r,i=ufe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ufe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qk(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function bU(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Xk(t,lfe),{domain:s,range:l}=e,u=Xk(e,cfe);return!Qk(n,s)||!Qk(r,l)?!1:pm(i,u)}var dfe=["dangerouslySetInnerHTML","ticks","scale"],ffe=["id","scale"];function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(null,arguments)}function Jk(t,e){if(t==null)return{};var n,r,i=hfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mfe(t){var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(wle(t)):n.current!==t&&e(Ele({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Ale(n.current)),n.current=null)},[e]),null}var pfe=t=>{var{xAxisId:e,className:n}=t,r=Ve(hA),i=sr(),s="xAxis",l=Ve(j=>G3(j,s,e,i)),u=Ve(j=>$3(j,e)),d=Ve(j=>vre(j,e)),h=Ve(j=>A3(j,e));if(u==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,_=Jk(t,dfe),{id:E,scale:A}=h,S=Jk(h,ffe);return w.createElement(HS,U1({},_,S,{x:d.x,y:d.y,width:u.width,height:u.height,className:ht("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},gfe={allowDataOverflow:Jn.allowDataOverflow,allowDecimals:Jn.allowDecimals,allowDuplicatedCategory:Jn.allowDuplicatedCategory,angle:Jn.angle,axisLine:Ms.axisLine,height:Jn.height,hide:!1,includeHidden:Jn.includeHidden,interval:Jn.interval,minTickGap:Jn.minTickGap,mirror:Jn.mirror,orientation:Jn.orientation,padding:Jn.padding,reversed:Jn.reversed,scale:Jn.scale,tick:Jn.tick,tickCount:Jn.tickCount,tickLine:Ms.tickLine,tickSize:Ms.tickSize,type:Jn.type,xAxisId:0},yfe=t=>{var e=mn(t,gfe);return w.createElement(w.Fragment,null,w.createElement(mfe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(pfe,e))},xU=w.memo(yfe,bU);xU.displayName="XAxis";var vfe=["dangerouslySetInnerHTML","ticks","scale"],bfe=["id","scale"];function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function Zk(t,e){if(t==null)return{};var n,r,i=xfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _fe(t){var e=Ft(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Sle(t)):n.current!==t&&e(Tle({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Nle(n.current)),n.current=null)},[e]),null}var wfe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),l=w.useRef(null),u=Ve(hA),d=sr(),h=Ft(),p="yAxis",g=Ve($=>q3($,e)),b=Ve($=>xre($,e)),_=Ve($=>G3($,p,e,d)),E=Ve($=>S3($,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!g||OS(i)||w.isValidElement(i)||E==null)){var $=s.current;if($){var O=$.getCalculatedWidth();Math.round(g.width)!==Math.round(O)&&h(jle({id:e,width:O}))}}},[_,g,h,i,e,r,E]),g==null||b==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:S,scale:j}=t,R=Zk(t,vfe),{id:P,scale:U}=E,V=Zk(E,bfe);return w.createElement(HS,z1({},R,V,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:ht("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:_,axisType:p}))},Efe={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:Ms.axisLine,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:Ms.tickLine,tickSize:Ms.tickSize,type:Zn.type,width:Zn.width,yAxisId:0},Afe=t=>{var e=mn(t,Efe);return w.createElement(w.Fragment,null,w.createElement(_fe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(wfe,e))},B1=w.memo(Afe,bU);B1.displayName="YAxis";var Sfe=(t,e)=>e,YS=re([Sfe,it,w3,Hn,cV,io,Die,$n],Fie),WS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},_U=Bi("mouseClick"),wU=Qh();wU.startListening({actionCreator:_U,effect:(t,e)=>{var n=t.payload,r=YS(e.getState(),WS(n));r?.activeIndex!=null&&e.dispatch(kre({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var F1=Bi("mouseMove"),EU=Qh(),ug=null;EU.startListening({actionCreator:F1,effect:(t,e)=>{var n=t.payload;ug!==null&&cancelAnimationFrame(ug);var r=WS(n);ug=requestAnimationFrame(()=>{var i=e.getState(),s=vS(i,i.tooltip.settings.shared);if(s==="axis"){var l=YS(i,r);l?.activeIndex!=null?e.dispatch(tV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(eV())}ug=null})}});function Tfe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var eD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},AU=Wr({name:"rootProps",initialState:eD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:eD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Nfe=AU.reducer,{updateOptions:jfe}=AU.actions,SU=Wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Cfe}=SU.actions,Ofe=SU.reducer,TU=Bi("keyDown"),NU=Bi("focus"),XS=Qh();XS.startListening({actionCreator:TU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=bS(i,Nd(n),um(n),hm(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=io(n);if(s==="Enter"){var h=Py(n,"axis","hover",String(i.index));e.dispatch(C1({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var p=Are(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,_=u+b*g;if(!(d==null||_>=d.length||_<0)){var E=Py(n,"axis","hover",String(_));e.dispatch(C1({active:!0,activeIndex:_.toString(),activeCoordinate:E}))}}}}}});XS.startListening({actionCreator:NU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Py(n,"axis","hover",String(s));e.dispatch(C1({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ri=Bi("externalEvent"),jU=Qh(),uw=new Map;jU.startListening({actionCreator:Ri,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=uw.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:xie(u),activeDataKey:AS(u),activeIndex:pl(u),activeLabel:fV(u),activeTooltipIndex:pl(u),isTooltipActive:_ie(u)};n(d,r)}finally{uw.delete(i)}});uw.set(i,l)}}});var Ife=re([Sd],t=>t.tooltipItemPayloads),Pfe=re([Ife,fm,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),CU=Bi("touchMove"),OU=Qh();OU.startListening({actionCreator:CU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=vS(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=YS(r,WS({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(tV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(H5),g=(u=h.getAttribute(K5))!==null&&u!==void 0?u:void 0,b=Td(r).find(A=>A.id===g);if(p==null||b==null||g==null)return;var{dataKey:_}=b,E=Pfe(r,p,g);e.dispatch(Z3({activeDataKey:_,activeIndex:p,activeCoordinate:E,activeGraphicalItemId:g}))}}}});var Rfe=f5({brush:Hle,cartesianAxis:Cle,chartData:bae,errorBars:Fce,graphicalItems:Moe,layout:HX,legend:ZQ,options:mae,polarAxis:Xse,polarOptions:Ofe,referenceElements:Jle,rootProps:Nfe,tooltip:Dre,zIndex:nae}),kfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gX({reducer:Rfe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([wU.middleware,EU.middleware,XS.middleware,jU.middleware,OU.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(N5({type:"raf"}))},devTools:{serialize:{replacer:Tfe},name:"recharts-".concat(n)}})};function IU(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=sr(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=kfe(e,r));var l=iA;return w.createElement(gue,{context:l,store:s.current},n)}function Dfe(t){var{layout:e,margin:n}=t,r=Ft(),i=sr();return w.useEffect(()=>{i||(r(FX(e)),r(BX(n)))},[r,i,e,n]),null}var PU=w.memo(Dfe,pm);function RU(t){var e=Ft();return w.useEffect(()=>{e(jfe(t))},[e,t]),null}function tD(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Ft();return w.useLayoutEffect(()=>(r.current&&i(eae({zIndex:e,element:r.current,isPanorama:n})),()=>{i(tae({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function nD(t){var{children:e,isPanorama:n}=t,r=Ve(qie);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(tD,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(tD,{key:l,zIndex:l,isPanorama:n})))}var Mfe=["children"];function Lfe(t,e){if(t==null)return{};var n,r,i=Vfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(null,arguments)}var Ufe={width:"100%",height:"100%",display:"block"},zfe=w.forwardRef((t,e)=>{var n=gA(),r=yA(),i=l6();if(!Ha(n)||!Ha(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),w.createElement(YE,By({},l,{title:u,desc:d,role:p,tabIndex:h,width:n,height:r,style:Ufe,ref:e}),s)}),Bfe=t=>{var{children:e}=t,n=Ve(Rv);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(YE,{width:r,height:i,x:l,y:s},e)},rD=w.forwardRef((t,e)=>{var{children:n}=t,r=Lfe(t,Mfe),i=sr();return i?w.createElement(Bfe,null,w.createElement(nD,{isPanorama:!0},n)):w.createElement(zfe,By({ref:e},r),w.createElement(nD,{isPanorama:!1},n))});function Ffe(){var t=Ft(),[e,n]=w.useState(null),r=Ve(lQ);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ut(s)&&s!==r&&t(qX(s))}},[e,t,r]),n}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e,n){return(e=Hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=Kfe(t,"string");return typeof e=="symbol"?e:e+""}function Kfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(null,arguments)}var Gfe=()=>(jae(),null);function Fy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Yfe=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:Fy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Fy((r=t.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((h,p)=>{l(g=>{var b=Math.round(h),_=Math.round(p);return g.containerWidth===b&&g.containerHeight===_?g:{containerWidth:b,containerHeight:_}})},[]),d=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var b=E=>{var{width:A,height:S}=E[0].contentRect;u(A,S)},_=new ResizeObserver(b);_.observe(h),i.current=_}},[e,u]);return w.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(Dv,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",Pc({ref:d},t)))}),Wfe=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:Fy(n),containerHeight:Fy(r)}),l=w.useCallback((d,h)=>{s(p=>{var g=Math.round(d),b=Math.round(h);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();l(h,p)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(Dv,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Pc({ref:u},t)))}),Xfe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(Dv,{width:n,height:r}),w.createElement("div",Pc({ref:e},t)))}),Qfe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Fs(n)||Fs(r)?w.createElement(Wfe,Pc({},t,{ref:e})):w.createElement(Xfe,Pc({},t,{ref:e}))});function Jfe(t){return t===!0?Yfe:Qfe}var Zfe=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:_,onTouchMove:E,onTouchStart:A,style:S,width:j,responsive:R,dispatchTouchEvents:P=!0}=t,U=w.useRef(null),V=Ft(),[$,O]=w.useState(null),[I,D]=w.useState(null),z=Ffe(),M=mA(),B=M?.width>0?M.width:j,k=M?.height>0?M.height:i,he=w.useCallback(te=>{z(te),typeof e=="function"&&e(te),O(te),D(te),te!=null&&(U.current=te)},[z,e,O,D]),Ae=w.useCallback(te=>{V(_U(te)),V(Ri({handler:s,reactEvent:te}))},[V,s]),X=w.useCallback(te=>{V(F1(te)),V(Ri({handler:h,reactEvent:te}))},[V,h]),oe=w.useCallback(te=>{V(eV()),V(Ri({handler:p,reactEvent:te}))},[V,p]),_e=w.useCallback(te=>{V(F1(te)),V(Ri({handler:g,reactEvent:te}))},[V,g]),Z=w.useCallback(()=>{V(NU())},[V]),Se=w.useCallback(te=>{V(TU(te.key))},[V]),H=w.useCallback(te=>{V(Ri({handler:l,reactEvent:te}))},[V,l]),q=w.useCallback(te=>{V(Ri({handler:u,reactEvent:te}))},[V,u]),K=w.useCallback(te=>{V(Ri({handler:d,reactEvent:te}))},[V,d]),J=w.useCallback(te=>{V(Ri({handler:b,reactEvent:te}))},[V,b]),fe=w.useCallback(te=>{V(Ri({handler:A,reactEvent:te}))},[V,A]),xe=w.useCallback(te=>{P&&V(CU(te)),V(Ri({handler:E,reactEvent:te}))},[V,P,E]),we=w.useCallback(te=>{V(Ri({handler:_,reactEvent:te}))},[V,_]),Te=Jfe(R);return w.createElement(xV.Provider,{value:$},w.createElement(jL.Provider,{value:I},w.createElement(Te,{width:B??S?.width,height:k??S?.height,className:ht("recharts-wrapper",r),style:$fe({position:"relative",cursor:"default",width:B,height:k},S),onClick:Ae,onContextMenu:H,onDoubleClick:q,onFocus:Z,onKeyDown:Se,onMouseDown:K,onMouseEnter:X,onMouseLeave:oe,onMouseMove:_e,onMouseUp:J,onTouchEnd:we,onTouchMove:xe,onTouchStart:fe,ref:he},w.createElement(Gfe,null),n)))}),ehe=["width","height","responsive","children","className","style","compact","title","desc"];function the(t,e){if(t==null)return{};var n,r,i=nhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kU=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:h,desc:p}=t,g=the(t,ehe),b=kr(g);return d?w.createElement(w.Fragment,null,w.createElement(Dv,{width:n,height:r}),w.createElement(rD,{otherAttributes:b,title:h,desc:p},s)):w.createElement(Zfe,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(rD,{otherAttributes:b,title:h,desc:p,ref:e},w.createElement(ece,null,s)))});function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}var rhe={top:5,right:5,bottom:5,left:5},ihe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:rhe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ahe=w.forwardRef(function(e,n){var r,i=mn(e.categoricalChartProps,ihe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(IU,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(KV,{chartData:h.data}),w.createElement(PU,{layout:i.layout,margin:i.margin}),w.createElement(RU,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(kU,$1({},i,{ref:n})))});function she(t){var e=Ft();return w.useEffect(()=>{e(Cfe(t))},[e,t]),null}var ohe=["layout"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(null,arguments)}function lhe(t,e){if(t==null)return{};var n,r,i=che(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function che(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uhe={top:5,right:5,bottom:5,left:5},DU={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uhe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},dhe=w.forwardRef(function(e,n){var r,i=mn(e.categoricalChartProps,DU),{layout:s}=i,l=lhe(i,ohe),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(IU,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},w.createElement(KV,{chartData:i.data}),w.createElement(PU,{layout:s,margin:i.margin}),w.createElement(RU,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(she,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(kU,q1({},l,{ref:n})))});function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fhe(t,e,n){return(e=hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hhe(t){var e=mhe(t,"string");return typeof e=="symbol"?e:e+""}function mhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var phe=["item"],ghe=sD(sD({},DU),{},{layout:"centric",startAngle:0,endAngle:360}),MU=w.forwardRef((t,e)=>{var n=mn(t,ghe);return w.createElement(dhe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:phe,tooltipPayloadSearcher:_V,categoricalChartProps:n,ref:e})}),yhe=["axis"],vhe=w.forwardRef((t,e)=>w.createElement(ahe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yhe,tooltipPayloadSearcher:_V,categoricalChartProps:t,ref:e}));const bhe={:"#3B82F6",:"#10B981",:"#F59E0B",:"#6B7280",:"#8B5CF6",:"#FCD34D",:"#EF4444",:"#F472B6",:"#CBD5E1"},oD=["#6366F1","#EC4899","#14B8A6","#64748B"];function xhe(){const{currentUser:t}=gi(),[e,n]=w.useState([]),[r,i]=w.useState(0),[s,l]=w.useState(0),[u,d]=w.useState(0),[h,p]=w.useState(0),[g,b]=w.useState(!1),_=18e6;w.useEffect(()=>{async function S(){if(t)try{const j=fa(Kt(He,"users",t.uid,"portfolios")),R=await Bn(j);let P=0,U=0,V=!1;const $={};R.forEach(M=>{const B=M.data();B.assets&&Array.isArray(B.assets)&&B.assets.forEach(k=>{const he=Number(k.amount)||0,Ae=k.type||"",oe=(k.accountType||"").toLowerCase().includes("nisa");P+=he,oe&&(k.acquisitionCost&&Number(k.acquisitionCost)>0?U+=Number(k.acquisitionCost):(U+=he,V=!0)),$[Ae]?$[Ae]+=he:$[Ae]=he})});const O=Object.keys($).map((M,B)=>({name:M,value:$[M],color:bhe[M]||oD[B%oD.length]})).sort((M,B)=>B.value-M.value),I=fa(Kt(He,"users",t.uid,"loans")),D=await Bn(I);let z=0;D.forEach(M=>{const B=M.data(),k=Number(B.balance)||0;z+=k}),n(O),i(P),l(z),d(P-z),p(U),b(V)}catch(j){console.error("Error fetching data:",j)}}S()},[t]);const E=S=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(S),A=S=>S>=1e8?(S/1e8).toFixed(1)+"":S>=1e4?(S/1e4).toFixed(0)+"":S.toLocaleString();return f.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[f.jsxs("header",{className:"mb-2",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:""}),f.jsx("p",{className:"text-gray-500 text-sm",children:""})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1 uppercase tracking-wider",children:""}),f.jsx("p",{className:"text-2xl font-bold text-blue-600",children:E(r)})]}),f.jsx("div",{className:"p-3 bg-blue-50 rounded-full text-blue-500",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),f.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1 uppercase tracking-wider",children:""}),f.jsx("p",{className:"text-2xl font-bold text-red-500",children:E(-s)})]}),f.jsx("div",{className:"p-3 bg-red-50 rounded-full text-red-500",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]}),f.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1 uppercase tracking-wider",children:""}),f.jsx("p",{className:`text-2xl font-bold ${u>=0?"text-gray-800":"text-red-500"}`,children:E(u)})]}),f.jsx("div",{className:"p-3 bg-gray-50 rounded-full text-gray-500",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[f.jsxs("div",{className:"flex justify-between items-end mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:[f.jsx("span",{className:"bg-blue-600 text-white text-[10px] px-1.5 py-0.5 rounded mr-2 uppercase tracking-tight",children:"New NISA"}),"NISA "]}),f.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:[" 1,800 ",g&&f.jsx("span",{className:"ml-2 text-orange-400 italic",children:""})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"text-xl font-black text-blue-600 font-mono tracking-tight",children:E(h)}),f.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["/ ",A(_)]})]})]}),f.jsx("div",{className:"relative w-full h-4 bg-gray-100 rounded-full overflow-hidden mb-3",children:f.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-600 transition-all duration-1000 ease-out flex items-center justify-end px-2",style:{width:`${Math.min(100,h/_*100)}%`},children:h/_>.1&&f.jsxs("span",{className:"text-[10px] font-bold text-white leading-none",children:[(h/_*100).toFixed(1),"%"]})})}),f.jsxs("div",{className:"flex justify-between items-center text-xs",children:[f.jsxs("div",{className:"text-gray-500 font-medium",children:[": ",f.jsxs("span",{className:"text-blue-600 font-bold",children:[(h/_*100).toFixed(1),"%"]})]}),f.jsxs("div",{className:"text-gray-500",children:[": ",f.jsx("span",{className:"text-gray-800 font-bold",children:E(Math.max(0,_-h))})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs(On,{to:"/assets",className:"group flex flex-col md:flex-row items-center p-6 bg-white border border-gray-200 rounded-xl hover:border-blue-300 hover:shadow-md transition-all duration-200",children:[f.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 mb-3 md:mb-0 md:mr-4 group-hover:scale-110 transition-transform",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:""}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]})]}),f.jsxs(On,{to:"/loans",className:"group flex flex-col md:flex-row items-center p-6 bg-white border border-gray-200 rounded-xl hover:border-red-300 hover:shadow-md transition-all duration-200",children:[f.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center text-red-600 mb-3 md:mb-0 md:mr-4 group-hover:scale-110 transition-transform",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-red-600 transition-colors",children:""}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]})]}),f.jsxs(On,{to:"/cashflow",className:"group flex flex-col md:flex-row items-center p-6 bg-white border border-gray-200 rounded-xl hover:border-green-300 hover:shadow-md transition-all duration-200",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-3 md:mb-0 md:mr-4 group-hover:scale-110 transition-transform",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 36v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-green-600 transition-colors",children:""}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"CF"})]})]}),f.jsxs(On,{to:"/investments",className:"group flex flex-col md:flex-row items-center p-6 bg-white border border-gray-200 rounded-xl hover:border-yellow-300 hover:shadow-md transition-all duration-200",children:[f.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600 mb-3 md:mb-0 md:mr-4 group-hover:scale-110 transition-transform",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-yellow-600 transition-colors",children:""}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"NISA/iDeCo/"})]})]})]})]})]}),f.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-800",children:""}),f.jsx(On,{to:"/assets",className:"text-xs text-blue-600 hover:underline",children:" "})]}),f.jsx("div",{className:"flex-grow min-h-[300px]",children:e.length>0?f.jsx(pA,{width:"100%",height:"100%",children:f.jsxs(MU,{margin:{top:0,left:0,right:0,bottom:0},children:[f.jsxs(FS,{data:e,cx:"50%",cy:"45%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",paddingAngle:3,children:[e.map((S,j)=>f.jsx(jd,{fill:S.color,strokeWidth:0},`cell-${j}`)),f.jsx(As,{value:A(r),position:"center",className:"text-xl font-bold fill-gray-700",style:{fontSize:"18px",fontWeight:"bold"}})]}),f.jsx(CS,{formatter:S=>E(S)}),f.jsx(Uv,{verticalAlign:"bottom",height:80,iconType:"circle",iconSize:12,wrapperStyle:{fontSize:"14px",fontWeight:"500",width:"100%",display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"12px"}})]})}):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[f.jsx("p",{children:""}),f.jsx(On,{to:"/assets",className:"mt-2 text-blue-500 text-sm hover:underline",children:""})]})})]})]})]})}var lD;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(lD||(lD={}));var cD;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(cD||(cD={}));var uD;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(uD||(uD={}));const dD=["user","model","function","system"];var fD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(fD||(fD={}));var hD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(hD||(hD={}));var mD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(mD||(mD={}));var pD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(pD||(pD={}));var Zf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Zf||(Zf={}));var gD;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(gD||(gD={}));var yD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(yD||(yD={}));var vD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vD||(vD={}));class Sr extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ou extends Sr{constructor(e,n){super(e),this.response=n}}class LU extends Sr{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class nl extends Sr{}class VU extends Sr{}const _he="https://generativelanguage.googleapis.com",whe="v1beta",Ehe="0.24.1",Ahe="genai-js";var Rc;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Rc||(Rc={}));class She{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||whe;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||_he}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function The(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${Ahe}/${Ehe}`),e.join(" ")}async function Nhe(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",The(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new nl(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new nl(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new nl(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function jhe(t,e,n,r,i,s){const l=new She(t,e,n,r,s);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},Phe(s)),{method:"POST",headers:await Nhe(l),body:i})}}async function ym(t,e,n,r,i,s={},l=fetch){const{url:u,fetchOptions:d}=await jhe(t,e,n,r,i,s);return Che(u,d,l)}async function Che(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){Ohe(i,t)}return r.ok||await Ihe(r,t),r}function Ohe(t,e){let n=t;throw n.name==="AbortError"?(n=new VU(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof LU||t instanceof nl||(n=new Sr(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Ihe(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new LU(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Phe(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function QS(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ng(t.candidates[0]))throw new Ou(`${$o(t)}`,t);return Rhe(t)}else if(t.promptFeedback)throw new Ou(`Text not available. ${$o(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ng(t.candidates[0]))throw new Ou(`${$o(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),bD(t)[0]}else if(t.promptFeedback)throw new Ou(`Function call not available. ${$o(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ng(t.candidates[0]))throw new Ou(`${$o(t)}`,t);return bD(t)}else if(t.promptFeedback)throw new Ou(`Function call not available. ${$o(t)}`,t)},t}function Rhe(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.text&&s.push(l.text),l.executableCode&&s.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&s.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function bD(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.functionCall&&s.push(l.functionCall);if(s.length>0)return s}const khe=[Zf.RECITATION,Zf.SAFETY,Zf.LANGUAGE];function Ng(t){return!!t.finishReason&&khe.includes(t.finishReason)}function $o(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];Ng(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Th(t){return this instanceof Th?(this.v=t,this):new Th(t)}function Dhe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(b){r[b]&&(i[b]=function(_){return new Promise(function(E,A){s.push([b,_,E,A])>1||u(b,_)})})}function u(b,_){try{d(r[b](_))}catch(E){g(s[0][3],E)}}function d(b){b.value instanceof Th?Promise.resolve(b.value.v).then(h,p):g(s[0][2],b)}function h(b){u("next",b)}function p(b){u("throw",b)}function g(b,_){b(_),s.shift(),s.length&&u(s[0][0],s[0][1])}}const xD=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Mhe(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Uhe(e),[r,i]=n.tee();return{stream:Vhe(r),response:Lhe(i)}}async function Lhe(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return QS(zhe(e));e.push(i)}}function Vhe(t){return Dhe(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Th(n.read());if(i)break;yield yield Th(QS(r))}})}function Uhe(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:l,done:u})=>{if(u){if(i.trim()){r.error(new Sr("Failed to parse stream"));return}r.close();return}i+=l;let d=i.match(xD),h;for(;d;){try{h=JSON.parse(d[1])}catch{r.error(new Sr(`Error parsing JSON response: "${d[1]}"`));return}r.enqueue(h),i=i.substring(d[0].length),d=i.match(xD)}return s()}).catch(l=>{let u=l;throw u.stack=l.stack,u.name==="AbortError"?u=new VU("Request aborted when reading from the stream"):u=new Sr("Error reading from the stream"),u})}}})}function zhe(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const s of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const l={};for(const u of s.content.parts)u.text&&(l.text=u.text),u.functionCall&&(l.functionCall=u.functionCall),u.executableCode&&(l.executableCode=u.executableCode),u.codeExecutionResult&&(l.codeExecutionResult=u.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[i].content.parts.push(l)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function UU(t,e,n,r){const i=await ym(e,Rc.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Mhe(i)}async function zU(t,e,n,r){const s=await(await ym(e,Rc.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:QS(s)}}function BU(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Nh(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Bhe(e)}function Bhe(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new Sr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Sr("No content is provided for sending chat message.");return r?e:n}function Fhe(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new nl("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=Nh(t);r.contents=[s]}return{generateContentRequest:r}}function _D(t){let e;return t.contents?e=t:e={contents:[Nh(t)]},t.systemInstruction&&(e.systemInstruction=BU(t.systemInstruction)),e}function $he(t){return typeof t=="string"||Array.isArray(t)?{content:Nh(t)}:t}const wD=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],qhe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Hhe(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new Sr(`First content should be with role 'user', got ${r}`);if(!dD.includes(r))throw new Sr(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(dD)}`);if(!Array.isArray(i))throw new Sr("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Sr("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of i)for(const d of wD)d in u&&(s[d]+=1);const l=qhe[r];for(const u of wD)if(!l.includes(u)&&s[u]>0)throw new Sr(`Content with role '${r}' can't contain '${u}' part`);e=!0}}function ED(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const AD="SILENT_ERROR";class Khe{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(Hhe(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,l,u,d;await this._sendPromise;const h=Nh(e),p={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,h]},g=Object.assign(Object.assign({},this._requestOptions),n);let b;return this._sendPromise=this._sendPromise.then(()=>zU(this._apiKey,this.model,p,g)).then(_=>{var E;if(ED(_.response)){this._history.push(h);const A=Object.assign({parts:[],role:"model"},(E=_.response.candidates)===null||E===void 0?void 0:E[0].content);this._history.push(A)}else{const A=$o(_.response);A&&console.warn(`sendMessage() was unsuccessful. ${A}. Inspect response object for details.`)}b=_}).catch(_=>{throw this._sendPromise=Promise.resolve(),_}),await this._sendPromise,b}async sendMessageStream(e,n={}){var r,i,s,l,u,d;await this._sendPromise;const h=Nh(e),p={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,h]},g=Object.assign(Object.assign({},this._requestOptions),n),b=UU(this._apiKey,this.model,p,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(_=>{throw new Error(AD)}).then(_=>_.response).then(_=>{if(ED(_)){this._history.push(h);const E=Object.assign({},_.candidates[0].content);E.role||(E.role="model"),this._history.push(E)}else{const E=$o(_);E&&console.warn(`sendMessageStream() was unsuccessful. ${E}. Inspect response object for details.`)}}).catch(_=>{_.message!==AD&&console.error(_)}),b}}async function Ghe(t,e,n,r){return(await ym(e,Rc.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function Yhe(t,e,n,r){return(await ym(e,Rc.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function Whe(t,e,n,r){const i=n.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await ym(e,Rc.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}class SD{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=BU(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=_D(e),s=Object.assign(Object.assign({},this._requestOptions),n);return zU(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=_D(e),s=Object.assign(Object.assign({},this._requestOptions),n);return UU(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new Khe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Fhe(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return Ghe(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=$he(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Yhe(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Whe(this.apiKey,this.model,e,r)}}class Xhe{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Sr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new SD(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new nl("Cached content must contain a `name` field.");if(!e.model)throw new nl("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const l of i)if(n?.[l]&&e[l]&&n?.[l]!==e[l]){if(l==="model"){const u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,d=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(u===d)continue}throw new nl(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${e[l]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new SD(this.apiKey,s,r)}}console.error("Error: API Key is missing.");const H1=new Xhe("DUMMY_KEY"),Qhe=["gemini-1.5-flash","gemini-1.5-flash-latest","gemini-1.5-pro","gemini-2.0-flash","gemini-pro"];async function dw(t,e=null,n=null){let r=null;for(const i of Qhe)try{const s={model:i};n&&(s.systemInstruction=n);const l=H1.getGenerativeModel(s),u=e?[t,e]:[t],h=await(await l.generateContent(u)).response;return console.log(`Successfully used model: ${i}`),h.text()}catch(s){console.warn(`Model ${i} failed:`,s.message),r=s;continue}throw new Error(`AI: (: ${r?.message})`)}const jh={async fileToGenerativePart(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>e({inlineData:{data:r.result.split(",")[1],mimeType:t.type}}),r.onerror=n,r.readAsDataURL(t)})},async analyzeAssetImage(t){const e=await this.fileToGenerativePart(t),r=await dw(`: JSON
        { 
          "brokerName": "",
          "assets": [{ 
            "type": "|||||||", 
            "accountType": "|NISA ()|NISA ()|NISA|iDeCo||",
            "name": "", 
            "code": "", 
            "amount": 
          }] 
        }`,e);return JSON.parse(r.replace(/```json|```/g,"").trim())},async analyzeReceiptImage(t){const e=await this.fileToGenerativePart(t),r=await dw(": (date:YYYY-MM-DD), (name), (amount:), (type:'income'|'expense'), (category) JSON",e);return JSON.parse(r.replace(/```json|```/g,"").trim())},async analyzeCsvText(t){const e=`CSV: JSON: [{ "date": "YYYY-MM-DD", "name": "...", "amount": , "type": "income"|"expense", "category": "..." }] :
${t}
JSON`,n=await dw(e);return JSON.parse(n.replace(/```json|```/g,"").trim())},async chatWithFinancialAdvisor(t,e,n){const r=n?`FP:
${n}`:"FP";try{return(await(await H1.getGenerativeModel({model:"gemini-1.5-flash",systemInstruction:r}).startChat({history:t||[]}).sendMessage(e)).response).text()}catch(i){return console.warn(i),(await(await H1.getGenerativeModel({model:"gemini-pro"}).startChat({history:[]}).sendMessage(e+`
(: ${n})`)).response).text()}}},Jhe="8WYCTQ87ATW50ZR4",Zhe=async t=>{if(!t)return null;const e=/^\d{4}$/.test(t)?`${t}.T`:t;try{const n=`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${e}&apikey=${Jhe}`,i=await(await fetch(n)).json(),s=i["Global Quote"];return s&&s["05. price"]?Number(s["05. price"]):(console.warn(`Price not found for ${t}`,i),null)}catch(n){return console.error("Stock fetch error:",n),null}},FU={USD:150,MYR:34,EUR:160,AUD:100,GBP:190,NZD:90,CAD:110,CHF:170},JS=()=>{const[t,e]=w.useState({}),[n,r]=w.useState(!0),[i,s]=w.useState(null);return w.useEffect(()=>{(async()=>{try{const d=await(await fetch("https://api.exchangerate-api.com/v4/latest/JPY")).json(),h={};Object.keys(d.rates).forEach(p=>{h[p]=1/d.rates[p]}),e(h),s(null)}catch(u){console.error(":",u),e(FU),s("")}finally{r(!1)}})()},[]),{rates:t,loading:n,error:i}},ac=(t,e,n)=>{if(!t||!e)return 0;const r=n[e]||FU[e]||1;return Math.round(Number(t)*r)},K1=["USD","MYR","EUR","AUD","GBP","NZD","CAD","CHF"],eme=["","","","","ETF","","","MMF","","","","","","",""];function tme(){const{currentUser:t}=gi(),[e,n]=w.useState(!1),[r,i]=w.useState(!1),[s,l]=w.useState(null),[u,d]=w.useState("SBI"),[h,p]=w.useState([]),[g,b]=w.useState(null),[_,E]=w.useState(!1),[A,S]=w.useState(["",""]),[j,R]=w.useState(""),{rates:P}=JS(),[U,V]=w.useState("scan"),[$,O]=w.useState([{type:"",name:"",code:"",amount:"",acquisitionCost:"",currency:"JPY",foreignAmount:"",accountType:""}]),[I,D]=w.useState(null),[z,M]=w.useState({brokerName:"",owner:"",assets:[]}),[B,k]=w.useState(!1),he=w.useCallback(async()=>{if(t)try{const W=Kt(He,"users",t.uid,"portfolios"),Ee=fa(W,ul("createdAt","desc")),ue=(await Bn(Ee)).docs.map(Ue=>{const Fe=Ue.data();return{id:Ue.id,isSummary:!!(Fe.assets&&Array.isArray(Fe.assets)),...Fe}});p(ue)}catch(W){console.error("Error fetching history:",W)}},[t]);w.useEffect(()=>{(async()=>{if(t)try{const Ee=Pt(He,"users",t.uid,"settings","general"),be=await dl(Ee);if(be.exists()&&be.data().members&&be.data().members.length>0){const ue=be.data().members;S(ue),R(ue[0])}}catch(Ee){console.error("Error fetching settings:",Ee)}})(),he()},[t,he]);const Ae=async W=>{if(!W||W.length===0)return;const Ee={...livePrices},ue=W.slice(0,5);for(const Ue of ue)if(!Ee[Ue]){const Fe=await Zhe(Ue);Fe!==null&&(Ee[Ue]=Fe),await new Promise(sn=>setTimeout(sn,1500))}setLivePrices(Ee)},X=W=>{const Ee=W.filter(be=>be.code).map(be=>be.code);Ee.length>0?Ae(Ee):alert("")},oe=async W=>{if(!(!W||!W.type.startsWith("image/"))){n(!0);try{const Ee=await jh.analyzeAssetImage(W);Ee&&Ee.assets&&(Ee.assets=Ee.assets.map(be=>({...be,accountType:be.type===""||be.type===""||be.type===""?"":""}))),l(Ee)}catch(Ee){console.error("Analysis failed",Ee),alert("")}finally{n(!1)}}},_e=W=>{const Ee=W.target.files[0];oe(Ee)},Z=w.useCallback(W=>{U==="scan"&&(W.preventDefault(),W.stopPropagation(),W.type==="dragenter"||W.type==="dragover"?E(!0):W.type==="dragleave"&&E(!1))},[U]),Se=w.useCallback(W=>{U==="scan"&&(W.preventDefault(),W.stopPropagation(),E(!1),W.dataTransfer.files&&W.dataTransfer.files[0]&&oe(W.dataTransfer.files[0]))},[U]),H=()=>{O([...$,{type:"",name:"",code:"",amount:"",acquisitionCost:"",currency:"JPY",foreignAmount:"",accountType:""}])},q=W=>{if($.length>1){const Ee=$.filter((be,ue)=>ue!==W);O(Ee)}else O([{type:"",name:"",code:"",amount:"",acquisitionCost:"",currency:"JPY",accountType:""}])},K=(W,Ee,be)=>{const ue=[...$];ue[W][Ee]=be,Ee==="type"&&(be===""||be===""||be==="")&&(ue[W].accountType="");const Ue=["","","ETF","","MMF"].includes(ue[W].type);if(Ee==="type"&&(Ue?ue[W].currency=ue[W].currency||"USD":(ue[W].currency="JPY",ue[W].foreignAmount="")),Ue&&(Ee==="foreignAmount"||Ee==="currency")){const Fe=Ee==="currency"?be:ue[W].currency||"USD",sn=Ee==="foreignAmount"?be:ue[W].foreignAmount||0;ue[W].amount=ac(sn,Fe,P)}O(ue)},J=async()=>{if(!t)return;if(!u.trim()){alert("");return}let W=[],Ee=0;if(U==="scan"){if(!s||!s.assets)return;W=s.assets,Ee=s.total_valuation||s.assets.reduce((be,ue)=>be+(ue.amount||0),0)}else{const be=$.filter(ue=>ue.name.trim()!==""&&Number(ue.amount)>0);if(be.length===0){alert("1");return}W=be.map(ue=>{const Ue=["","","ETF","","MMF"].includes(ue.type),Fe=Number(Ue?ue.foreignAmount||0:ue.amount);return{...ue,amount:Fe,foreignAmount:Ue?Number(ue.foreignAmount||0):0,acquisitionCost:ue.acquisitionCost!==""?Number(ue.acquisitionCost):Fe}}),Ee=W.reduce((ue,Ue)=>{const sn=["","","ETF","","MMF"].includes(Ue.type)?ac(Ue.amount,Ue.currency,P):Ue.amount;return ue+sn},0)}i(!0);try{const be=Kt(He,"users",t.uid,"portfolios"),ue=fa(be,Bw("brokerName","==",u),Bw("owner","==",j)),Ue=await Bn(ue),Fe={brokerName:u,owner:j,accountType,assets:W,total_valuation:Ee,updatedAt:kn(),createdAt:kn()};if(Ue.empty)await fl(be,Fe),alert(`${u} (${j})`);else{const sn=Ue.docs[0].id,tn=Pt(He,"users",t.uid,"portfolios",sn),{createdAt:Yt,...lr}=Fe;await _l(tn,{...lr,updatedAt:kn()},{merge:!0}),alert(`${u} (${j})`)}l(null),O([{type:"",name:"",code:"",amount:"",acquisitionCost:"",currency:"JPY",foreignAmount:"",accountType:""}]),setAccountType(""),he()}catch(be){console.error("Save failed",be),alert("")}finally{i(!1)}},fe=async(W,Ee)=>{if(W.stopPropagation(),!!window.confirm(""))try{await Vc(Pt(He,"users",t.uid,"portfolios",Ee)),he()}catch(be){console.error("Delete failed",be),alert("")}},xe=(W,Ee)=>{W.stopPropagation(),D(Ee.id);const ue=(Ee.assets?JSON.parse(JSON.stringify(Ee.assets)):[]).map(Ue=>({...Ue,accountType:Ue.accountType||"",acquisitionCost:Ue.acquisitionCost??(Ue.amount||0)}));M({brokerName:Ee.brokerName||"",owner:Ee.owner||(A.length>0?A[0]:""),assets:ue}),b(null)},we=()=>{D(null),M({brokerName:"",owner:"",assets:[]})},Te=(W,Ee,be)=>{const ue=[...z.assets];ue[W][Ee]=be,M({...z,assets:ue})},te=W=>{const Ee=z.assets.filter((be,ue)=>ue!==W);M({...z,assets:Ee})},Re=()=>{M({...z,assets:[...z.assets,{type:"",name:"",code:"",amount:0,acquisitionCost:0,currency:"JPY",foreignAmount:"",accountType:""}]})},je=async()=>{if(!t||!I)return;if(!z.brokerName.trim()){alert("");return}const W=z.assets.filter(be=>be.name.trim()!==""),Ee=W.reduce((be,ue)=>{const Fe=["","","ETF","","MMF"].includes(ue.type)?ac(ue.amount,ue.currency,P):Number(ue.amount||0);return be+Fe},0);try{const be=Pt(He,"users",t.uid,"portfolios",I);await gd(be,{brokerName:z.brokerName,owner:z.owner||"",assets:W.map(ue=>({...ue,amount:Number(ue.amount||0),acquisitionCost:Number(ue.acquisitionCost||ue.amount||0)})),total_valuation:Ee,updatedAt:kn()}),alert(""),D(null),he()}catch(be){console.error("Update failed",be),alert("")}},ge=W=>{if(I)return;b(g!==W?W:null)},Ie=(W,Ee="JPY")=>{if(W===""||W===null||W===void 0)return"0";try{const be=Number(String(W).replace(/,/g,""));return isNaN(be)?W:new Intl.NumberFormat("ja-JP",{style:"currency",currency:Ee||"JPY"}).format(be)}catch(be){return console.error(be),W}},Oe=W=>W?W.toDate?W.toDate().toLocaleDateString():new Date(W).toLocaleDateString():"---",dt=W=>{if(!W)return null;const be=W.includes("NISA")||W==="iDeCo"?"bg-orange-50 text-orange-600 border-orange-100":"bg-gray-50 text-gray-500 border-gray-200";return f.jsx("span",{className:`text-[9px] font-black px-1.5 py-0.5 rounded border uppercase tracking-wider ${be} mr-1`,children:W.replace(" ()","").replace(" ()","").replace("","")})};return f.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""}),f.jsxs("button",{onClick:()=>k(!0),className:"flex items-center space-x-2 text-gray-500 hover:text-blue-600 transition-colors bg-white px-3 py-1.5 rounded-full border shadow-sm",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-sm font-bold",children:""})]})]}),f.jsxs("div",{className:"mb-4 flex space-x-2",children:[f.jsx("button",{onClick:()=>V("scan"),className:`px-4 py-2 rounded-t-lg font-medium transition-colors ${U==="scan"?"bg-blue-600 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:" "}),f.jsx("button",{onClick:()=>V("manual"),className:`px-4 py-2 rounded-t-lg font-medium transition-colors ${U==="manual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:" "})]}),f.jsxs("div",{className:`bg-white shadow rounded-b-lg rounded-tr-lg p-6 mb-8 border-2 transition-colors ${_&&U==="scan"?"border-blue-500 bg-blue-50 border-dashed":"border-gray-200"}`,onDragEnter:Z,onDragLeave:Z,onDragOver:Z,onDrop:Se,children:[U==="scan"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),f.jsx("div",{children:f.jsxs("label",{className:`bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer ${e||r?"opacity-50 pointer-events-none":""}`,children:[e?"...":"",f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_e,disabled:e||r})]})})]}),f.jsx("p",{className:"mt-4 text-center text-gray-500 text-sm",children:e?"...":""}),s&&s.assets&&f.jsxs("div",{className:"mt-8 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-center space-x-4 border border-gray-200",children:[f.jsx("label",{className:"font-medium text-gray-700 text-xs",children:""}),f.jsx("select",{value:j,onChange:W=>R(W.target.value),className:"flex-1 text-sm border-gray-300 rounded-md p-2 border",children:A.map(W=>f.jsx("option",{value:W,children:W},W))})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-center space-x-4 border border-gray-200",children:[f.jsx("label",{className:"font-medium text-gray-700 text-xs",children:""}),f.jsx("select",{value:accountType,onChange:W=>setAccountType(W.target.value),className:"flex-1 text-sm border-gray-300 rounded-md p-2 border",children:["","NISA ()","NISA ()","NISA","iDeCo",""].map(W=>f.jsx("option",{value:W,children:W},W))})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-center space-x-4 border border-gray-200",children:[f.jsx("label",{className:"font-medium text-gray-700 text-xs",children:""}),f.jsx("input",{type:"text",value:u,onChange:W=>d(W.target.value),className:"flex-1 text-sm border-gray-300 rounded-md p-2 border",placeholder:": SBI"})]})]}),f.jsx("div",{className:"border rounded-lg overflow-hidden",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:""}),f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:""}),f.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-500 uppercase",children:""}),f.jsx("th",{className:"px-6 py-3 text-right text-xs text-gray-500 uppercase",children:""}),f.jsx("th",{className:"px-6 py-3 text-right text-xs text-gray-500 uppercase",children:""})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.assets.map((W,Ee)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 uppercase",children:W.type}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:W.type===""||W.type===""?f.jsx("span",{className:"text-gray-400 text-xs font-medium",children:""}):f.jsx("select",{value:W.accountType,onChange:be=>{const ue={...s};ue.assets[Ee].accountType=be.target.value,l(ue)},className:"text-xs border-gray-300 rounded-md p-1",children:["","NISA ()","NISA ()","NISA","iDeCo",""].map(be=>f.jsx("option",{value:be,children:be},be))})}),f.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-gray-900",children:[W.name," ",W.code&&f.jsxs("span",{className:"text-gray-400 text-xs",children:["(",W.code,")"]})]}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 text-right font-mono",children:f.jsx("input",{type:"number",value:W.acquisitionCost||"",onChange:be=>{const ue={...s};ue.assets[Ee].acquisitionCost=Number(be.target.value),l(ue)},placeholder:"",className:"w-24 text-right border-gray-200 rounded text-xs p-1"})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-right font-mono",children:Ie(W.amount)})]},Ee))}),f.jsx("tfoot",{children:f.jsxs("tr",{className:"bg-gray-50",children:[f.jsx("td",{colSpan:"3",className:"px-6 py-3 text-right text-sm font-bold text-gray-900",children:""}),f.jsx("td",{className:"px-6 py-3 text-right text-sm font-bold text-gray-900",children:Ie(s.total_valuation||s.assets.reduce((W,Ee)=>W+(Ee.amount||0),0))})]})})]})}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:J,disabled:r,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded shadow-lg disabled:opacity-50",children:r?"...":""})})]})]}),U==="manual"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-center space-x-4 border border-gray-200",children:[f.jsx("label",{className:"font-medium text-gray-700 text-xs",children:""}),f.jsx("select",{value:j,onChange:W=>R(W.target.value),className:"flex-1 text-sm border-gray-300 rounded-md p-2 border",children:A.map(W=>f.jsx("option",{value:W,children:W},W))})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-center space-x-4 border border-gray-200",children:[f.jsx("label",{className:"font-medium text-gray-700 text-xs",children:""}),f.jsx("select",{value:accountType,onChange:W=>setAccountType(W.target.value),className:"flex-1 text-sm border-gray-300 rounded-md p-2 border",children:["","NISA ()","NISA ()","NISA","iDeCo",""].map(W=>f.jsx("option",{value:W,children:W},W))})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-center space-x-4 border border-gray-200",children:[f.jsx("label",{className:"font-medium text-gray-700 text-xs",children:""}),f.jsx("input",{type:"text",value:u,onChange:W=>d(W.target.value),className:"flex-1 text-sm border-gray-300 rounded-md p-2 border",placeholder:": SBI"})]})]}),f.jsx("div",{className:"overflow-x-auto border rounded-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase",children:""}),f.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase",children:""}),f.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase",children:""}),f.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-500 uppercase w-24",children:""}),f.jsx("th",{className:"px-4 py-3 text-right text-xs text-gray-500 uppercase w-32",children:""}),f.jsx("th",{className:"px-4 py-3 text-right text-xs text-gray-500 uppercase w-32",children:""}),f.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-500 uppercase w-12",children:""})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map((W,Ee)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-2",children:f.jsx("select",{value:W.type,onChange:be=>K(Ee,"type",be.target.value),className:"w-full text-sm border-gray-300 rounded-md",children:eme.map(be=>f.jsx("option",{value:be,children:be},be))})}),f.jsx("td",{className:"px-4 py-2",children:W.type===""||W.type===""?f.jsx("span",{className:"text-gray-400 text-xs font-medium p-2 block",children:""}):f.jsx("select",{value:W.accountType,onChange:be=>K(Ee,"accountType",be.target.value),className:"w-full text-sm border-gray-300 rounded-md",children:["","NISA ()","NISA ()","NISA","iDeCo",""].map(be=>f.jsx("option",{value:be,children:be},be))})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"text",value:W.name,onChange:be=>K(Ee,"name",be.target.value),className:"w-full text-sm border-gray-300 rounded-md",placeholder:"..."})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"text",value:W.code,onChange:be=>K(Ee,"code",be.target.value),className:"w-full text-sm border-gray-300 rounded-md",placeholder:"7203"})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"number",value:W.acquisitionCost,onChange:be=>K(Ee,"acquisitionCost",be.target.value),className:"w-full text-sm text-right border-gray-300 rounded-md bg-orange-50/30",placeholder:""})}),f.jsx("td",{className:"px-4 py-2",children:["","","ETF","","MMF"].includes(W.type)?f.jsxs("div",{className:"flex gap-1 items-center",children:[f.jsx("select",{value:W.currency||"USD",onChange:be=>K(Ee,"currency",be.target.value),className:"text-[10px] border border-gray-300 rounded p-1 outline-none font-bold text-indigo-700 w-16",children:K1.map(be=>f.jsx("option",{value:be,children:be},be))}),f.jsx("input",{type:"number",value:W.foreignAmount||"",onChange:be=>K(Ee,"foreignAmount",be.target.value),className:"w-20 text-xs text-right border border-gray-300 rounded p-1 outline-none font-bold font-mono",placeholder:""})]}):f.jsx("span",{className:"text-[10px] text-gray-300 px-1",children:"---"})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"number",value:W.amount,onChange:be=>K(Ee,"amount",be.target.value),className:"w-full text-sm text-right border-gray-300 rounded-md",readOnly:["","","ETF","","MMF"].includes(W.type)})}),f.jsx("td",{className:"px-4 py-2 text-center text-red-500 cursor-pointer",onClick:()=>q(Ee),children:""})]},Ee))}),f.jsx("tfoot",{children:f.jsx("tr",{className:"bg-gray-50",children:f.jsx("td",{colSpan:"6",className:"px-4 py-2",children:f.jsx("button",{onClick:H,className:"text-blue-600 text-sm font-bold",children:"+ "})})})})]})}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:J,disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded shadow-lg",children:""})})]})]}),f.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:" ()"}),h.length>0?f.jsx("div",{className:"flex flex-col space-y-4",children:h.map(W=>{const Ee=g===W.id,be=I===W.id;return f.jsxs("div",{className:`border rounded-lg overflow-hidden transition-shadow ${be?"ring-2 ring-blue-500 shadow-md":"hover:shadow-sm"}`,children:[be?f.jsxs("div",{className:"p-6 bg-blue-50 space-y-4",children:[f.jsxs("div",{className:"flex flex-wrap gap-4 items-end border-b border-blue-100 pb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] text-gray-500 font-bold mb-1 uppercase",children:""}),f.jsx("select",{value:z.owner,onChange:ue=>M({...z,owner:ue.target.value}),className:"p-2 border rounded text-sm bg-white",children:A.map(ue=>f.jsx("option",{value:ue,children:ue},ue))})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-[10px] text-gray-500 font-bold mb-1 uppercase",children:" / "}),f.jsx("input",{type:"text",value:z.brokerName,onChange:ue=>M({...z,brokerName:ue.target.value}),className:"w-full p-2 border rounded text-sm bg-white"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:je,className:"bg-blue-600 text-white px-4 py-2 rounded font-bold text-sm shadow-sm hover:bg-blue-700",children:""}),f.jsx("button",{onClick:we,className:"bg-white text-gray-600 px-4 py-2 rounded text-sm border hover:bg-gray-50",children:""})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-black text-blue-800 mb-2 uppercase tracking-wide",children:""}),f.jsxs("div",{className:"bg-white rounded border border-blue-100 overflow-hidden",children:[f.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[f.jsx("thead",{className:"bg-gray-50 text-[10px] text-gray-400 uppercase font-black",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left w-32",children:""}),f.jsx("th",{className:"px-4 py-2 text-left",children:""}),f.jsx("th",{className:"px-4 py-2 text-left",children:""}),f.jsx("th",{className:"px-4 py-2 text-right",children:""}),f.jsx("th",{className:"px-4 py-2 text-right",children:""}),f.jsx("th",{className:"px-2 py-2"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-50",children:z.assets.map((ue,Ue)=>f.jsxs("tr",{className:"hover:bg-blue-50/20 text-sm",children:[f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"text",value:ue.name,onChange:Fe=>Te(Ue,"name",Fe.target.value),className:"w-full border-none p-1 focus:ring-0 font-bold text-gray-900",placeholder:"..."})}),f.jsx("td",{className:"px-4 py-2",children:ue.type===""||ue.type===""?f.jsx("span",{className:"text-gray-400 text-[10px] font-bold",children:""}):f.jsx("select",{value:ue.accountType,onChange:Fe=>Te(Ue,"accountType",Fe.target.value),className:"text-[11px] border border-gray-200 rounded p-1",children:["","NISA ()","NISA ()","NISA","iDeCo",""].map(Fe=>f.jsx("option",{value:Fe,children:Fe},Fe))})}),f.jsx("td",{className:"px-4 py-2",children:["","","ETF","","MMF"].includes(ue.type)?f.jsxs("div",{className:"flex gap-1 items-center",children:[f.jsx("select",{value:ue.currency||"USD",onChange:Fe=>Te(Ue,"currency",Fe.target.value),className:"text-[10px] border border-gray-200 rounded p-1 text-indigo-700 font-bold",children:K1.map(Fe=>f.jsx("option",{value:Fe,children:Fe},Fe))}),f.jsx("input",{type:"number",value:ue.foreignAmount||"",onChange:Fe=>{const sn=Fe.target.value,tn=[...z.assets];tn[Ue].foreignAmount=sn,tn[Ue].amount=ac(sn,ue.currency||"USD",P),M({...z,assets:tn})},className:"w-16 border-none p-1 focus:ring-0 font-mono text-[10px] bg-indigo-50/30 rounded",placeholder:""})]}):f.jsx("span",{className:"text-[10px] text-gray-300",children:"---"})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"number",value:ue.acquisitionCost,onChange:Fe=>Te(Ue,"acquisitionCost",Fe.target.value),className:"w-full text-right border-none p-1 focus:ring-0 font-mono text-gray-500"})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"number",value:ue.amount,onChange:Fe=>Te(Ue,"amount",Fe.target.value),className:"w-full text-right border-none p-1 focus:ring-0 font-mono font-bold text-blue-600",readOnly:["","","ETF","","MMF"].includes(ue.type)})}),f.jsx("td",{className:"px-2 py-2 text-center text-red-300 hover:text-red-500 cursor-pointer",onClick:()=>te(Ue),children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},Ue))})]}),f.jsx("button",{onClick:Re,className:"w-full py-2 bg-gray-50 text-blue-600 text-xs font-bold hover:bg-blue-50",children:"+ "})]})]})]}):f.jsxs("div",{className:"px-6 py-4 flex items-center justify-between bg-gray-50/50 cursor-pointer",onClick:()=>ge(W.id),children:[f.jsxs("div",{className:"flex items-center space-x-6 flex-1",children:[f.jsx("span",{className:"text-[11px] text-gray-400 w-24 font-mono",children:Oe(W.createdAt)}),f.jsx("span",{className:"text-xs font-bold text-gray-700 px-2 py-1 bg-white border rounded shadow-xs",children:W.owner}),f.jsxs("div",{className:"flex items-center space-x-3 w-48",children:[dt(W.accountType),f.jsx("span",{className:"text-sm font-bold text-gray-900 truncate",children:W.brokerName})]}),f.jsx("span",{className:"text-xs text-gray-400 hidden lg:inline italic",children:W.assets?`${W.assets.length}`:""})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("span",{className:"text-lg font-black text-gray-900",children:Ie(W.total_valuation)}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:ue=>xe(ue,W),className:"text-gray-300 hover:text-blue-600 p-1",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),f.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${Ee?"rotate-180 text-blue-500":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})})]})]})]}),Ee&&!be&&f.jsxs("div",{className:"px-6 py-4 bg-white border-t border-gray-100",children:[W.assets&&W.assets.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-100 mb-4",children:[f.jsx("thead",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left",children:""}),f.jsx("th",{className:"px-6 py-3 text-left",children:""}),f.jsx("th",{className:"px-6 py-3 text-right",children:""}),f.jsx("th",{className:"px-6 py-3 text-right",children:""}),f.jsx("th",{className:"px-6 py-3 text-right",children:""})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:W.assets.map((ue,Ue)=>{const Fe=Number(ue.amount||0)-Number(ue.acquisitionCost||ue.amount||0),sn=Fe>0,tn=Fe<0;return f.jsxs("tr",{className:"hover:bg-gray-50/50",children:[f.jsx("td",{className:"px-6 py-3 text-[10px] font-bold text-gray-400 uppercase",children:ue.type}),f.jsxs("td",{className:"px-6 py-3 text-sm text-gray-900 font-bold flex items-center",children:[dt(ue.accountType),ue.name,ue.code&&f.jsxs("span",{className:"text-gray-300 ml-1 text-[10px] font-mono",children:["(",ue.code,")"]})]}),f.jsx("td",{className:"px-6 py-3 text-sm font-mono text-gray-400 text-right",children:Ie(ue.acquisitionCost||ue.amount)}),f.jsx("td",{className:"px-6 py-3 text-sm font-mono font-bold text-right",children:Ie(ue.amount)}),f.jsxs("td",{className:`px-6 py-3 text-sm font-mono font-black text-right ${sn?"text-green-600":tn?"text-red-500":"text-gray-400"}`,children:[sn?"+":"",Ie(isForeign?ac(Fe,ue.currency,P):Fe)]})]},Ue)})})]})}):f.jsx("p",{className:"text-sm text-gray-400 italic text-center py-4 bg-gray-50 rounded",children:""}),f.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-50",children:[W.assets&&W.assets.some(ue=>ue.code)&&f.jsxs("button",{onClick:()=>X(W.assets),className:"text-[10px] font-black uppercase text-indigo-600 hover:text-indigo-800 flex items-center",children:[f.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (Live)"]}),f.jsxs("button",{onClick:ue=>fe(ue,W.id),className:"text-red-400 hover:text-red-600 text-[10px] font-black uppercase flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),""]})]})]})]},W.id)})}):f.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]}),B&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:""}),f.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 font-bold text-xl",children:""})]}),f.jsxs("div",{className:"p-8 space-y-6 text-sm text-gray-600",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"1. "}),"NISA"]}),f.jsxs("section",{children:[f.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"2. "}),""]}),f.jsxs("section",{children:[f.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"3. "}),""]})]})]})})]})}const nme="modulepreload",rme=function(t){return"/lifescape/"+t},TD={},ime=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var l=h;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");i=h(n.map(p=>{if(p=rme(p),p in TD)return;TD[p]=!0;const g=p.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":nme,g||(_.as="script"),_.crossOrigin="",_.href=p,d&&_.setAttribute("nonce",d),document.head.appendChild(_),g)return new Promise((E,A)=>{_.addEventListener("load",E),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})},ame=["","NISA ()","NISA ()","NISA","iDeCo","","","","()"],sme=["","","","","ETF","","","MMF","","","","","","",""],si={Plus:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Trash:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Edit:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Sync:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),Bank:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 10v8M11 10v8M15 10v8M3 21h18M7 3l4-2 4 2M3 7h18"})}),ChevronDown:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Close:()=>f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Camera:()=>f.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Loading:()=>f.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})};function ome(){const{currentUser:t}=gi(),[e,n]=w.useState([]),[r,i]=w.useState(!0),[s,l]=w.useState(null),[u,d]=w.useState(!1),[h,p]=w.useState(["",""]),[g,b]=w.useState(!1),[_,E]=w.useState(null),[A,S]=w.useState({brokerName:"",owner:"",assets:[]}),[j,R]=w.useState(!1),P=w.useRef(null),{rates:U}=JS(),V=w.useCallback(async()=>{if(t){i(!0);try{const q=fa(Kt(He,"users",t.uid,"portfolios"),ul("createdAt","desc")),J=(await Bn(q)).docs.map(fe=>({id:fe.id,...fe.data()}));n(J)}catch(q){console.error("Fetch error:",q)}finally{i(!1)}}},[t]);w.useEffect(()=>{V()},[V]),w.useEffect(()=>{(async()=>{if(t)try{const{getDoc:K}=await ime(async()=>{const{getDoc:xe}=await Promise.resolve().then(()=>JK);return{getDoc:xe}},[]),J=Pt(He,"users",t.uid,"settings","general"),fe=await K(J);fe.exists()&&fe.data().members?.length>0&&p(fe.data().members)}catch(K){console.error(K)}})()},[t]);const $=async q=>{window.confirm("")&&(await Vc(Pt(He,"users",t.uid,"portfolios",q)),V())},O=q=>{E(q.id),S({brokerName:q.brokerName||"",owner:q.owner||"",assets:q.assets?JSON.parse(JSON.stringify(q.assets)):[]}),b(!0),l(null)},I=()=>{E(null),S({brokerName:"",owner:h[0]||"",assets:[{type:"",name:"",code:"",amount:"",accountType:"",currency:"JPY",foreignAmount:""}]}),b(!0)},D=()=>{b(!1),E(null),S({brokerName:"",owner:"",assets:[]})},z=()=>{S({...A,assets:[...A.assets,{type:"",name:"",code:"",amount:"",accountType:"",currency:"JPY",foreignAmount:""}]})},M=q=>{const K=A.assets.filter((J,fe)=>fe!==q);S({...A,assets:K})},B=(q,K,J)=>{const fe=[...A.assets];fe[q][K]=J;const xe=["","","ETF","","MMF"].includes(fe[q].type);if(xe&&(K==="foreignAmount"||K==="currency")){const we=K==="currency"?J:fe[q].currency||"USD",Te=K==="foreignAmount"?J:fe[q].foreignAmount||0;fe[q].amount=ac(Te,we,U)}K==="type"&&(xe?(fe[q].currency=fe[q].currency||"USD",fe[q].foreignAmount=fe[q].foreignAmount||""):(fe[q].currency="JPY",fe[q].foreignAmount="")),S({...A,assets:fe})},k=async()=>{if(!A.brokerName.trim())return alert("");const q=A.assets.filter(fe=>fe.name.trim()!==""),K=q.reduce((fe,xe)=>fe+Number(xe.amount||0),0),J={brokerName:A.brokerName,owner:A.owner,assets:q.map(fe=>{const xe=["","","ETF","","MMF"].includes(fe.type);return{...fe,amount:Number(xe?fe.foreignAmount||0:fe.amount||0),foreignAmount:Number(fe.foreignAmount||0)}}),total_valuation:K,updatedAt:kn()};try{_?(await gd(Pt(He,"users",t.uid,"portfolios",_),J),alert("")):(await fl(Kt(He,"users",t.uid,"portfolios"),{...J,createdAt:kn()}),alert("")),D(),V()}catch(fe){console.error(fe),alert("")}},he=async q=>{const K=q.target.files?.[0];if(K){R(!0);try{const J=await jh.analyzeAssetImage(K);if(J.assets&&Array.isArray(J.assets)){const fe=A.assets.filter(we=>we.name!==""||we.amount!==""),xe=J.assets.map(we=>({type:we.type||"",accountType:we.accountType||"",name:we.name||"",code:we.code||"",amount:we.amount||0}));S(we=>({...we,brokerName:we.brokerName||J.brokerName||"",assets:[...fe,...xe]})),alert(`${xe.length}`)}}catch(J){console.error(J),alert("")}finally{R(!1),P.current&&(P.current.value="")}}},Ae=async()=>{if(window.confirm("")){d(!0);try{const q=Pt(He,"users",t.uid,"lifePlan","simulationSettings");await _l(q,{syncedAt:kn()},{merge:!0}),alert(`
`)}catch(q){console.error(q),alert("")}finally{d(!1)}}},X=q=>{const K=Number(q);return isNaN(K)?"0":new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(K)},oe=q=>q?q.toDate?q.toDate().toLocaleDateString("ja-JP"):new Date(q).toLocaleDateString("ja-JP"):"---",{chartData:_e,totalAssets:Z,riskAssets:Se}=w.useMemo(()=>{const q={};let K=0,J=0;e.forEach(Te=>{Te.assets&&Array.isArray(Te.assets)&&Te.assets.forEach(te=>{const Re=Number(te.amount||0),je=te.type||"",ge=te.name||"";q[je]||(q[je]=0),q[je]+=Re,K+=Re;const Ie=ge.toLowerCase(),Oe=je.toLowerCase(),dt=["","","","","","cash",""].includes(Oe)||Ie.includes("")||Ie.includes("")||Ie.includes("")||Ie.includes("")||Ie.includes("")||Ie.includes("")||Ie.includes("")||Ie.includes("")||Ie.includes("cash")||Ie.includes("wise"),W=Oe.includes("")||Ie.includes("")||Ie.includes("")||Oe.includes("")||Ie.includes("")||Ie.includes("");if(!dt&&!W){const Ee=["","","ETF","","MMF"].includes(je);J+=Ee?ac(Re,te.currency,U):Re}})});const fe={:"#3B82F6",:"#10B981",:"#059669",:"#F59E0B",ETF:"#D97706",MMF:"#FCD34D",:"#9CA3AF",:"#9CA3AF",:"#6B7280",:"#6366F1",:"#8B5CF6",:"#FBBF24",:"#EF4444",:"#F472B6",:"#EC4899",:"#CBD5E1"},xe=["#6366F1","#EC4899","#14B8A6","#64748B"];return{chartData:Object.keys(q).map((Te,te)=>({name:Te,value:q[Te],color:fe[Te]||xe[te%xe.length]})).filter(Te=>Te.value>0),totalAssets:K,riskAssets:J}},[e]),H=q=>{if(!q)return null;const J=q.includes("NISA")||q==="iDeCo"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600";return f.jsx("span",{className:`text-[9px] font-black px-1.5 py-0.5 rounded uppercase tracking-wider ${J} mr-1`,children:q.replace(" ()","").replace(" ()","").replace("","")})};return f.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6",children:[f.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:""}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:Ae,disabled:u,className:"bg-white text-indigo-600 border border-indigo-200 px-4 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-50 transition-all shadow-sm text-sm",children:[f.jsx(si.Sync,{})," ",u?"...":""]}),f.jsxs("button",{onClick:I,className:"bg-indigo-600 text-white px-5 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 text-sm",children:[f.jsx(si.Plus,{})," "]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-sm border border-gray-100",children:[f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:""}),f.jsx("p",{className:"text-3xl font-black text-gray-900 mt-1",children:X(Z)})]}),f.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-sm border border-gray-100",children:[f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:""}),f.jsx("p",{className:"text-3xl font-black text-indigo-600 mt-1",children:X(Se)}),f.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[": ",Z>0?Math.round(Se/Z*100):0,"%"]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-[24px] shadow-sm border border-gray-100",children:[f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:""}),f.jsxs("p",{className:"text-3xl font-black text-gray-900 mt-1",children:[e.length," ",f.jsx("span",{className:"text-sm font-bold text-gray-400",children:""})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-1 bg-white p-6 rounded-[32px] shadow-sm border border-gray-100 flex flex-col min-h-[400px]",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:""}),_e.length>0?f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(pA,{width:"100%",height:300,children:f.jsxs(MU,{children:[f.jsx(FS,{data:_e,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:_e.map((q,K)=>f.jsx(jd,{fill:q.color},`cell-${K}`))}),f.jsx(CS,{formatter:q=>X(q)}),f.jsx(Uv,{})]})})}):f.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-300 font-bold text-sm",children:""})]}),f.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:""}),r?f.jsx("div",{className:"text-center py-10 text-gray-400",children:"..."}):e.length===0?f.jsxs("div",{className:"bg-white p-12 rounded-[32px] border-2 border-dashed border-gray-100 text-center",children:[f.jsx("div",{className:"bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:f.jsx(si.Bank,{})}),f.jsx("p",{className:"text-gray-400 font-bold",children:""}),f.jsx("p",{className:"text-xs text-gray-300 mt-2",children:""})]}):e.map(q=>{const K=s===q.id,J=q.total_valuation||(q.assets?q.assets.reduce((xe,we)=>xe+Number(we.amount||0),0):0),fe=q.assets?q.assets.length:0;return f.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"p-5 flex items-center justify-between cursor-pointer hover:bg-gray-50/50 transition-colors",onClick:()=>l(K?null:q.id),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-indigo-50 p-3 rounded-xl text-indigo-600",children:f.jsx(si.Bank,{})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-bold text-gray-900",children:q.brokerName||"()"}),q.owner&&f.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",children:q.owner})]}),f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[fe,"  : ",oe(q.updatedAt||q.createdAt)]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:"text-xl font-black text-gray-900",children:X(J)}),f.jsx("div",{className:`transform transition-transform ${K?"rotate-180":""}`,children:f.jsx(si.ChevronDown,{})})]})]}),K&&f.jsxs("div",{className:"border-t border-gray-100 bg-gray-50/30",children:[q.assets&&q.assets.length>0?f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-5 py-3 text-left",children:""}),f.jsx("th",{className:"px-5 py-3 text-left",children:""}),f.jsx("th",{className:"px-5 py-3 text-right",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:q.assets.map((xe,we)=>{const Te=(xe.name||"").toLowerCase(),te=(xe.type||"").toLowerCase(),Re=["","","","","","cash",""].includes(te)||Te.includes("")||Te.includes("")||Te.includes("")||Te.includes("")||Te.includes("")||Te.includes("")||Te.includes("")||Te.includes("")||Te.includes("cash")||Te.includes("wise"),je=te.includes("")||Te.includes("")||Te.includes("")||te.includes("")||Te.includes("")||Te.includes(""),ge=Re?"":je?"":"",Ie=Re?"bg-emerald-50 text-emerald-500":je?"bg-amber-50 text-amber-500":"bg-indigo-50 text-indigo-500";return f.jsxs("tr",{className:"hover:bg-white transition-colors",children:[f.jsx("td",{className:"px-5 py-3 text-[10px] font-bold text-gray-400 uppercase",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{children:xe.type||"---"}),f.jsx("span",{className:`text-[8px] px-1 py-0.5 rounded-sm w-fit ${Ie}`,children:ge})]})}),f.jsxs("td",{className:"px-5 py-3 text-sm text-gray-900 font-bold",children:[H(xe.accountType),xe.name||"()",xe.code&&f.jsxs("span",{className:"text-gray-300 ml-1 text-[10px] font-mono",children:["(",xe.code,")"]})]}),f.jsx("td",{className:"px-5 py-3 text-sm font-mono font-bold text-right",children:X(xe.amount)})]},we)})})]}):f.jsx("p",{className:"text-sm text-gray-400 italic text-center py-6",children:""}),f.jsxs("div",{className:"px-5 py-4 border-t border-gray-100 flex justify-between items-center",children:[f.jsxs("button",{onClick:xe=>{xe.stopPropagation(),O(q)},className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[f.jsx(si.Edit,{})," "]}),f.jsxs("button",{onClick:xe=>{xe.stopPropagation(),$(q.id)},className:"text-xs font-bold text-red-400 hover:text-red-600 flex items-center gap-1",children:[f.jsx(si.Trash,{})," "]})]})]})]},q.id)})]})]}),g&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:D}),f.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-[32px] shadow-2xl relative z-10 overflow-hidden max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-black text-gray-900",children:_?"":""}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]}),f.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(si.Close,{})})]}),f.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:" / "}),f.jsx("input",{type:"text",value:A.brokerName,onChange:q=>S({...A,brokerName:q.target.value}),className:"w-full bg-gray-50 border-none rounded-xl p-4 font-bold text-gray-900 focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:": SBI, , "})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:""}),f.jsx("select",{value:A.owner,onChange:q=>S({...A,owner:q.target.value}),className:"w-full bg-gray-50 border-none rounded-xl p-4 font-bold text-gray-700 focus:ring-2 focus:ring-indigo-500 outline-none cursor-pointer",children:h.map(q=>f.jsx("option",{value:q,children:q},q))})]})]}),!_&&f.jsxs("div",{className:"mb-6 p-4 bg-indigo-50 rounded-2xl border border-indigo-100 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-white p-2.5 rounded-xl shadow-sm border border-indigo-50 text-indigo-600",children:f.jsx(si.Camera,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-black text-indigo-900",children:"AI "}),f.jsx("p",{className:"text-[10px] text-indigo-500 mt-0.5",children:""})]})]}),f.jsxs("button",{type:"button",onClick:()=>P.current?.click(),disabled:j,className:"bg-indigo-600 text-white px-4 py-2 rounded-xl text-[11px] font-black hover:bg-indigo-700 transition-all flex items-center gap-2 disabled:bg-indigo-300",children:[j?f.jsx(si.Loading,{}):f.jsx(si.Camera,{}),j?"...":""]}),f.jsx("input",{type:"file",ref:P,onChange:he,accept:"image/*",className:"hidden"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:""}),f.jsxs("button",{type:"button",onClick:z,className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 flex items-center gap-1",children:[f.jsx(si.Plus,{})," "]})]}),f.jsxs("div",{className:"bg-gray-50 rounded-2xl overflow-hidden border border-gray-100",children:[f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-100 text-[9px] font-black text-gray-400 uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-2 text-left w-28",children:""}),f.jsx("th",{className:"px-3 py-2 text-left w-24",children:""}),f.jsx("th",{className:"px-3 py-2 text-left",children:"/"}),f.jsx("th",{className:"px-3 py-2 text-left w-32",children:""}),f.jsx("th",{className:"px-3 py-2 text-right w-28",children:"()"}),f.jsx("th",{className:"px-2 py-2 w-10"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:A.assets.map((q,K)=>f.jsxs("tr",{className:"bg-white",children:[f.jsx("td",{className:"px-3 py-2",children:f.jsx("select",{value:q.type,onChange:J=>B(K,"type",J.target.value),className:"w-full text-xs border-none bg-transparent p-1 outline-none font-bold",children:sme.map(J=>f.jsx("option",{value:J,children:J},J))})}),f.jsx("td",{className:"px-3 py-2 border-l border-gray-50",children:f.jsx("select",{value:q.accountType,onChange:J=>B(K,"accountType",J.target.value),className:"w-full text-xs border-none bg-transparent p-1 outline-none font-medium text-gray-600",children:ame.map(J=>f.jsx("option",{value:J,children:J},J))})}),f.jsx("td",{className:"px-3 py-2 border-l border-gray-50",children:f.jsx("input",{type:"text",value:q.name,onChange:J=>B(K,"name",J.target.value),className:"w-full text-sm border-none bg-transparent p-1 outline-none font-bold",placeholder:"..."})}),f.jsx("td",{className:"px-2 py-2 border-l border-gray-50",children:["","MMF"].includes(q.type)?f.jsxs("div",{className:"flex gap-1 items-center",children:[f.jsx("select",{value:q.currency||"USD",onChange:J=>B(K,"currency",J.target.value),className:"text-[10px] border-none bg-indigo-50 rounded p-1 outline-none font-bold text-indigo-700 w-14",children:K1.map(J=>f.jsx("option",{value:J,children:J},J))}),f.jsx("input",{type:"number",value:q.foreignAmount||"",onChange:J=>B(K,"foreignAmount",J.target.value),className:"w-16 text-xs text-right border-none bg-transparent p-1 outline-none font-bold font-mono",placeholder:"0"})]}):f.jsx("span",{className:"text-[10px] text-gray-300 px-1",children:"---"})}),f.jsx("td",{className:"px-3 py-2 border-l border-gray-50",children:f.jsx("input",{type:"number",value:q.amount,onChange:J=>B(K,"amount",J.target.value),className:"w-full text-sm text-right border-none bg-transparent p-1 outline-none font-bold font-mono",placeholder:"0",readOnly:["","","ETF","","MMF"].includes(q.type)})}),f.jsx("td",{className:"px-2 py-2 text-center border-l border-gray-50",children:f.jsx("button",{type:"button",onClick:()=>M(K),className:"text-gray-300 hover:text-red-500 transition-colors",children:f.jsx(si.Trash,{})})})]},K))})]}),A.assets.length===0&&f.jsx("div",{className:"p-6 text-center text-gray-300 text-sm",children:""})]})]})]}),f.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-4 bg-gray-50/50",children:[f.jsx("button",{type:"button",onClick:D,className:"flex-1 py-4 rounded-xl font-bold text-gray-500 bg-white border border-gray-200 hover:bg-gray-50 transition-colors",children:""}),f.jsx("button",{onClick:k,className:"flex-[2] py-4 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-100 transition-all font-mono tracking-wider",children:_?"":""})]})]})]})]})}function lme(){const{currentUser:t}=gi(),[e,n]=w.useState([]),[r,i]=w.useState([]),[s,l]=w.useState(!0),[u,d]=w.useState(""),[h,p]=w.useState(""),[g,b]=w.useState(""),[_,E]=w.useState(""),[A,S]=w.useState(new Date().toISOString().split("T")[0]),[j,R]=w.useState(["",""]),[P,U]=w.useState(""),[V,$]=w.useState(null),[O,I]=w.useState(""),[D,z]=w.useState([]),[M,B]=w.useState(!1);w.useEffect(()=>{(async()=>{if(t){l(!0);try{const Se=Pt(He,"users",t.uid,"settings","general"),[H,q]=await Promise.all([dl(Se).catch(Te=>(console.error("Settings fetch error:",Te),null)),Bn(Kt(He,"users",t.uid,"properties")).catch(Te=>(console.error("Props fetch error:",Te),null))]);if(H?.exists()&&H.data().members?.length>0){const Te=H.data().members;R(Te),U(Te[0])}q&&i(q.docs.map(Te=>({id:Te.id,...Te.data()})));const K=Kt(He,"users",t.uid,"loans"),J=fa(K,ul("createdAt","desc")),fe=await Bn(J),xe=new Date,we=await Promise.all(fe.docs.map(async Te=>{const te=Te.data(),Re=Te.id;let je=te.lastAutoUpdateDate?new Date(te.lastAutoUpdateDate):te.startDate?new Date(te.startDate):te.createdAt?.toDate()||new Date;const ge=(xe.getFullYear()-je.getFullYear())*12+(xe.getMonth()-je.getMonth());if(ge>0&&te.balance>0){let Ie=Number(te.balance);const Oe=Number(te.monthlyPayment),dt=(Number(te.interestRate)||0)/100/12;for(let Ee=0;Ee<ge&&!(Ie<=0);Ee++)Ie=Math.max(0,Ie+Ie*dt-Oe);const W={balance:Math.round(Ie),lastAutoUpdateDate:xe.toISOString().split("T")[0],updatedAt:kn()};return await gd(Pt(He,"users",t.uid,"loans",Re),W),{id:Re,...te,...W}}return{id:Re,...te}}));n(we)}catch(Se){console.error("Error fetching all data:",Se)}finally{l(!1)}}})()},[t]);const k=()=>{$(null),d(""),p(""),b(""),E(""),S(new Date().toISOString().split("T")[0]),z([]),I(""),j.length>0&&U(j[0])},he=Z=>{$(Z.id),d(Z.name),p(Z.balance),b(Z.interestRate),E(Z.monthlyPayment),S(Z.startDate||new Date().toISOString().split("T")[0]),z(Z.extraRepayments||[]),I(Z.propertyId||""),U(Z.owner||""),window.scrollTo({top:0,behavior:"smooth"})},Ae=async Z=>{if(Z.preventDefault(),!(!t||!u||!h||!_)){B(!0);try{const Se={name:u,balance:Number(h),interestRate:g?Number(g):0,monthlyPayment:Number(_),startDate:A||new Date().toISOString().split("T")[0],owner:P||"",propertyId:O||null,extraRepayments:D.filter(q=>q.age>0).map(q=>({age:Number(q.age),amount:q.isFullPayoff?0:Number(q.amount),isFullPayoff:!!q.isFullPayoff})),updatedAt:kn()};V?await _l(Pt(He,"users",t.uid,"loans",V),Se,{merge:!0}):(Se.createdAt=kn(),await fl(Kt(He,"users",t.uid,"loans"),Se)),k();const H=await Bn(fa(Kt(He,"users",t.uid,"loans"),ul("createdAt","desc")));n(H.docs.map(q=>({id:q.id,...q.data()})))}catch(Se){console.error("Error saving loan:",Se)}finally{B(!1)}}},X=async Z=>{if(window.confirm(""))try{await Vc(Pt(He,"users",t.uid,"loans",Z)),n(e.filter(Se=>Se.id!==Z)),V===Z&&k()}catch(Se){console.error("Delete failed",Se)}},oe=Z=>{const{balance:Se,monthlyPayment:H,interestRate:q,startDate:K}=Z;if(!Se||!H||H<=0)return"";const J=K?new Date(K):new Date,fe=(q||0)/100/12;let xe=0;if(fe<=0)xe=Math.ceil(Se/H);else{const Te=H/(H-Se*fe);if(Te<=0)return" ()";xe=Math.ceil(Math.log(Te)/Math.log(1+fe))}const we=new Date(J.getFullYear(),J.getMonth()+xe,1);return`${we.getFullYear()}${we.getMonth()+1}${Z.extraRepayments?.length>0?" ()":""}`},_e=Z=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}).format(Z);return f.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 font-sans",children:""}),f.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-8 border border-gray-100 ring-4 ring-transparent transition-all",style:{borderTop:V?"4px solid #4f46e5":"1px solid #f3f4f6"},children:[f.jsxs("h2",{className:"text-xl font-bold mb-6 text-gray-800 flex justify-between items-center",children:[f.jsx("span",{children:V?"":""}),V&&f.jsx("button",{onClick:k,className:"text-xs text-gray-400 font-normal",children:""})]}),f.jsxs("form",{onSubmit:Ae,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-black text-gray-500 uppercase mb-1",children:" ()"}),f.jsx("select",{value:P,onChange:Z=>U(Z.target.value),className:"w-full border border-gray-200 rounded-md p-2.5 focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold",children:j.map(Z=>f.jsx("option",{value:Z,children:Z},Z))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-black text-gray-500 uppercase mb-1",children:""}),f.jsx("input",{type:"text",value:u,onChange:Z=>d(Z.target.value),className:"w-full border border-gray-200 rounded-md p-2.5 focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold",placeholder:"",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-black text-gray-500 uppercase mb-1",children:" ()"}),f.jsx("input",{type:"number",value:h,onChange:Z=>p(Z.target.value),className:"w-full border border-gray-200 rounded-md p-2.5 focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold",placeholder:"35000000",min:"0",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-black text-gray-500 uppercase mb-1",children:" ()"}),f.jsx("input",{type:"number",value:_,onChange:Z=>E(Z.target.value),className:"w-full border border-gray-200 rounded-md p-2.5 focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold",placeholder:"100000",min:"1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-black text-gray-500 uppercase mb-1",children:" (%)"}),f.jsx("input",{type:"number",step:"0.01",value:g,onChange:Z=>b(Z.target.value),className:"w-full border border-gray-200 rounded-md p-2.5 focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold",placeholder:"0.8"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-black text-gray-500 uppercase mb-1",children:" ()"}),f.jsx("input",{type:"date",value:A,onChange:Z=>S(Z.target.value),className:"w-full border border-gray-200 rounded-md p-2.5 focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-black text-gray-500 uppercase mb-1",children:" ()"}),f.jsxs("select",{value:O,onChange:Z=>I(Z.target.value),className:"w-full border border-gray-200 rounded-md p-2.5 focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold",children:[f.jsx("option",{value:"",children:""}),r.map(Z=>f.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("h3",{className:"text-xs font-black text-gray-500 uppercase",children:""}),f.jsx("button",{type:"button",onClick:()=>z([...D,{age:40,amount:1e6,isFullPayoff:!1}]),className:"text-[10px] bg-white border border-blue-500 text-blue-600 px-3 py-1 rounded-full font-black uppercase tracking-widest hover:bg-blue-600 hover:text-white transition-all",children:"+ Add Plan"})]}),D.length>0?f.jsx("div",{className:"space-y-2",children:D.map((Z,Se)=>f.jsxs("div",{className:"flex items-center gap-3 bg-white p-2 rounded border border-gray-100 shadow-sm transition-all hover:border-blue-200",children:[f.jsx("input",{type:"number",value:Z.age,onChange:H=>{const q=[...D];q[Se].age=H.target.value,z(q)},className:"w-16 border-none bg-gray-50 rounded p-1.5 text-xs font-bold",placeholder:""}),f.jsx("span",{className:"text-[10px] font-black text-gray-400",children:""}),Z.isFullPayoff?f.jsx("div",{className:"flex-1 bg-indigo-50 text-indigo-700 text-[10px] font-black p-2 rounded uppercase tracking-widest italic",children:"Payoff Entire Balance"}):f.jsx("input",{type:"number",value:Z.amount,onChange:H=>{const q=[...D];q[Se].amount=H.target.value,z(q)},className:"flex-1 border-none bg-gray-50 rounded p-1.5 text-xs font-bold",placeholder:""}),f.jsxs("div",{className:"flex items-center gap-1.5 px-2 border-l border-gray-100",children:[f.jsx("input",{type:"checkbox",id:`fp-${Se}`,checked:Z.isFullPayoff,onChange:H=>{const q=[...D];q[Se].isFullPayoff=H.target.checked,z(q)},className:"w-3 h-3 text-blue-600 rounded"}),f.jsx("label",{htmlFor:`fp-${Se}`,className:"text-[9px] font-black text-gray-400 uppercase cursor-pointer",children:"Full Payoff"})]}),f.jsx("button",{type:"button",onClick:()=>z(D.filter((H,q)=>q!==Se)),className:"text-red-300 hover:text-red-500 transition-colors p-1",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},Se))}):f.jsx("p",{className:"text-[10px] text-gray-300 font-bold uppercase tracking-widest text-center py-2",children:"No plans registered"})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[V&&f.jsx("button",{type:"button",onClick:k,className:"bg-gray-100 text-gray-500 font-black text-xs py-3 px-8 rounded-lg uppercase tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:M,className:`${V?"bg-indigo-600":"bg-blue-600"} text-white font-black text-xs py-3 px-12 rounded-lg shadow-xl uppercase tracking-widest hover:scale-105 active:scale-95 transition-all disabled:opacity-50`,children:M?"Saving...":V?"Update Loan":"Register Loan"})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800",children:""}),f.jsxs("span",{className:"bg-gray-100 text-gray-500 text-[10px] font-black px-2 py-0.5 rounded-full",children:[e.length,""]})]}),s?f.jsx("div",{className:"py-20 text-center text-gray-400 font-bold italic tracking-widest animate-pulse",children:"Loading financial data..."}):e.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(Z=>f.jsxs("div",{className:`bg-white shadow-xl rounded-2xl p-6 border-t-[6px] ${V===Z.id?"border-indigo-600 ring-4 ring-indigo-50":"border-red-500"} relative transition-all hover:translate-y-[-4px]`,children:[f.jsxs("div",{className:"absolute top-4 right-4 flex gap-1",children:[f.jsx("button",{onClick:()=>he(Z),className:"text-gray-200 hover:text-indigo-600 p-1.5 transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:()=>X(Z.id),className:"text-gray-200 hover:text-red-500 p-1.5 transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),f.jsxs("div",{className:"mb-5 flex flex-col gap-1.5",children:[f.jsxs("span",{className:"text-[9px] font-black bg-gray-50 text-gray-400 py-1 px-2 rounded-md uppercase tracking-widest w-fit border border-gray-100",children:["Owner: ",Z.owner]}),Z.propertyId&&f.jsxs("span",{className:"text-[9px] font-black text-green-600 bg-green-50 px-2 py-1 rounded-md border border-green-100 w-fit uppercase tracking-widest",children:["Linked: ",r.find(Se=>Se.id===Z.propertyId)?.name||"Property"]})]}),f.jsx("h3",{className:"text-xl font-black text-gray-900 mb-6 tracking-tight leading-tight",children:Z.name}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Current Balance"}),f.jsx("p",{className:"text-2xl font-black text-gray-900",children:_e(Z.balance)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 px-1",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Interest Rate"}),f.jsxs("p",{className:"text-sm font-black text-gray-700",children:[Z.interestRate,"%"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"Monthly Pay"}),f.jsx("p",{className:"text-sm font-black text-gray-900",children:_e(Z.monthlyPayment)})]})]}),f.jsxs("div",{className:"pt-4 border-t border-gray-100 mt-2",children:[f.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Finish Projection"}),f.jsx("p",{className:"text-xl font-black text-indigo-600 tracking-tighter",children:oe(Z)})]})]})]},Z.id))}):f.jsxs("div",{className:"bg-white rounded-2xl p-16 text-center border-2 border-dashed border-gray-100",children:[" ",f.jsx("p",{className:"text-gray-300 font-black uppercase tracking-widest",children:"No Active Loans Found"})," "]})]})]})}const _s={Scan:()=>f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Upload:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Trash:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Empty:()=>f.jsx("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),Income:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Expense:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),Lock:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),Edit:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})};function cme(){const{currentUser:t}=gi(),[e,n]=w.useState("income"),[r,i]=w.useState([]),[s,l]=w.useState([]),[u,d]=w.useState([]),[h,p]=w.useState([]),[g,b]=w.useState(["",""]),[_,E]=w.useState(""),[A,S]=w.useState(""),[j,R]=w.useState(!0),[P,U]=w.useState([]),[V,$]=w.useState(!1),[O,I]=w.useState(!1),[D,z]=w.useState(!1),[M,B]=w.useState(""),[k,he]=w.useState(""),[Ae,X]=w.useState(""),[oe,_e]=w.useState("monthly"),[Z,Se]=w.useState("6"),[H,q]=w.useState(""),[K,J]=w.useState(""),[fe,xe]=w.useState(""),[we,Te]=w.useState("monthly"),[te,Re]=w.useState("4"),[je,ge]=w.useState(null),Ie=w.useCallback(async()=>{if(t){R(!0);try{const ne=async so=>{const Gn=fa(Kt(He,"users",t.uid,so),ul("createdAt","desc"));return(await Bn(Gn)).docs.map(yi=>({id:yi.id,...yi.data()}))},[De,Ye,kt,Vr]=await Promise.all([ne("incomes"),ne("expenses"),ne("loans"),ne("investments")]);i(De),l(Ye),d(kt||[]),p(Vr||[])}catch(ne){console.error(ne)}finally{R(!1)}}},[t]);w.useEffect(()=>{(async()=>{if(t){try{const De=await dl(Pt(He,"users",t.uid,"settings","general"));De.exists()&&De.data().members&&(b(De.data().members),E(De.data().members[0]),S(De.data().members[0]))}catch(De){console.error(De)}Ie()}})()},[t,Ie]);const Oe=ne=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}).format(ne),dt=async ne=>{if(ne){$(!0);try{let De=[];ne.type.includes("csv")||ne.name.endsWith(".csv")?De=await jh.analyzeCsvText(await ne.text()):ne.type.startsWith("image/")&&(De=await jh.analyzeReceiptImage(ne)),U(De)}catch(De){alert(`: ${De.message}`)}finally{$(!1)}}},W=ne=>{ne.preventDefault(),ne.stopPropagation(),I(ne.type==="dragenter"||ne.type==="dragover")},Ee=ne=>{W(ne),ne.dataTransfer.files[0]&&dt(ne.dataTransfer.files[0])},be=async()=>{if(!(!t||P.length===0)){z(!0);try{await Promise.all(P.map(async ne=>{let De=new Date(ne.date);isNaN(De)&&(De=new Date);const Ye={date:Lt.fromDate(De),name:ne.name||"",amount:Number(ne.amount)||0,owner:_,frequency:"temporary",createdAt:kn()},kt=ne.type==="income"?"incomes":"expenses",Vr=ne.type==="income"?{...Ye,type:ne.category||""}:{...Ye,category:ne.category||"",isInvestment:!1};return fl(Kt(He,"users",t.uid,kt),Vr)})),U([]),Ie()}catch(ne){console.error(ne),alert("")}finally{z(!1)}}},ue=()=>{ge(null),B(""),X(""),q(""),xe("")},Ue=(ne,De)=>{ge(ne.id),n(De),De==="income"?(B(ne.name),X(ne.amount),he(ne.type||""),_e(ne.frequency||"monthly"),E(ne.owner||""),ne.paymentMonth&&Se(ne.paymentMonth.toString())):(q(ne.name),xe(ne.amount),J(ne.category||""),Te(ne.frequency||"monthly"),S(ne.owner||""),ne.paymentMonth&&Re(ne.paymentMonth.toString())),window.scrollTo({top:0,behavior:"smooth"})},Fe=async(ne,De)=>{if(!De.name||!De.amount)return alert("");z(!0);try{je?(await gd(Pt(He,"users",t.uid,ne,je),{...De,updatedAt:kn()}),alert("")):(await fl(Kt(He,"users",t.uid,ne),{...De,createdAt:kn()}),alert("")),Ie(),ue()}catch(Ye){console.error(Ye),alert(je?"":"")}finally{z(!1)}},sn=async(ne,De)=>{window.confirm("")&&(await Vc(Pt(He,"users",t.uid,ne,De)),Ie())},tn=ne=>ne.reduce((De,Ye)=>De+Number(Ye.amount||0),0),Yt=r.filter(ne=>ne.frequency==="monthly"),lr=s.filter(ne=>ne.frequency==="monthly"),ts=h.reduce((ne,De)=>ne+(Number(De.monthlyAmount)||0),0),Rt=u.reduce((ne,De)=>ne+Number(De.monthlyPayment||0),0),mt=tn(Yt),Lr=tn(lr)+Rt,Cr=ts,yr=mt-(Lr+Cr),qi=[...lr.map(ne=>({...ne,source:"manual"})),...h.map(ne=>({id:`inv-${ne.id}`,name:`${ne.name} ()`,amount:ne.monthlyAmount,owner:"",category:"",source:"investment",isInvestment:!0,investmentType:ne.accountType})),...u.map(ne=>({id:`loan-${ne.id}`,name:`${ne.name} ()`,amount:ne.monthlyPayment,owner:ne.owner,category:"",source:"loan",isInvestment:!1}))],Ln=({text:ne})=>f.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[f.jsx(_s.Empty,{}),f.jsx("p",{className:"text-gray-400 font-medium",children:ne})]});return f.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6",children:[f.jsxs("header",{className:"mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:""}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),f.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8 transition-all duration-300 ${O?"ring-2 ring-indigo-500 bg-indigo-50":""}`,onDragEnter:W,onDragOver:W,onDragLeave:W,onDrop:Ee,children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:["AI ",f.jsx("span",{className:"text-[10px] bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded-full uppercase",children:"Beta"})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"CSV"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("label",{className:`cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:text-indigo-600 shadow-sm ${V&&"opacity-50"}`,children:[f.jsx(_s.Scan,{})," ",f.jsx("span",{children:""}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ne=>dt(ne.target.files[0]),disabled:V})]}),f.jsxs("label",{className:`cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 rounded-lg text-sm font-medium text-white hover:bg-indigo-700 shadow-sm ${V&&"opacity-50"}`,children:[f.jsx(_s.Upload,{})," ",f.jsx("span",{children:"CSV"}),f.jsx("input",{type:"file",className:"hidden",accept:".csv",onChange:ne=>dt(ne.target.files[0]),disabled:V})]})]})]}),V&&f.jsx("div",{className:"text-center py-4 text-indigo-600 font-bold animate-pulse",children:"AI..."}),P.length>0&&f.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsx("tr",{children:["","","","","",""].map(ne=>f.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-gray-500",children:ne},ne))})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:P.map((ne,De)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"date",className:"text-sm bg-transparent border-none",value:ne.date,onChange:Ye=>{const kt=[...P];kt[De].date=Ye.target.value,U(kt)}})}),f.jsx("td",{className:"px-4 py-2",children:f.jsxs("select",{className:"text-xs font-bold bg-transparent border-none",value:ne.type,onChange:Ye=>{const kt=[...P];kt[De].type=Ye.target.value,U(kt)},children:[f.jsx("option",{value:"income",children:""}),f.jsx("option",{value:"expense",children:""})]})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{className:"text-sm w-full bg-transparent border-none",value:ne.name,onChange:Ye=>{const kt=[...P];kt[De].name=Ye.target.value,U(kt)}})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{className:"text-xs w-full bg-transparent border-none",value:ne.category,onChange:Ye=>{const kt=[...P];kt[De].category=Ye.target.value,U(kt)}})}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("input",{type:"number",className:"text-sm w-20 text-right bg-transparent border-none font-bold",value:ne.amount,onChange:Ye=>{const kt=[...P];kt[De].amount=Ye.target.value,U(kt)}})}),f.jsx("td",{className:"px-4 py-2 text-center",children:f.jsx("button",{onClick:()=>U(P.filter((Ye,kt)=>kt!==De)),className:"text-gray-400 hover:text-red-500",children:f.jsx(_s.Trash,{})})})]},De))})]}),f.jsxs("div",{className:"p-4 bg-gray-50 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>U([]),className:"text-xs font-bold text-gray-500",children:""}),f.jsx("button",{onClick:be,disabled:D,className:"bg-gray-900 text-white text-sm font-bold py-2 px-6 rounded-lg hover:bg-black",children:D?"...":""})]})]})]}),f.jsx("div",{className:"flex border-b border-gray-200 mb-6 space-x-8",children:[{id:"income",l:""},{id:"expense",l:""},{id:"analysis",l:""}].map(ne=>f.jsx("button",{onClick:()=>n(ne.id),className:`py-4 px-1 text-sm font-bold border-b-2 transition-colors ${e===ne.id?"border-indigo-600 text-indigo-600":"border-transparent text-gray-400 hover:text-gray-600"}`,children:ne.l},ne.id))}),j?f.jsx("div",{className:"text-center py-20",children:"Loading..."}):f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e!=="analysis"&&f.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[f.jsxs("div",{className:`bg-white p-6 rounded-xl border-2 ${je?"border-indigo-400 ring-2 ring-indigo-50":"border-gray-100"} shadow-sm transition-all shadow-sm`,children:[f.jsxs("h3",{className:"text-base font-bold text-gray-800 mb-4 flex items-center justify-between",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[e==="income"?f.jsx(_s.Income,{}):f.jsx(_s.Expense,{}),je?"":e==="income"?"":""]}),je&&f.jsx("button",{onClick:ue,className:"text-xs text-gray-400 hover:text-gray-600 font-normal",children:""})]}),f.jsxs("form",{onSubmit:ne=>{ne.preventDefault();const De=e==="income",Ye=De?{name:M,type:k,amount:Number(Ae),frequency:oe,owner:_}:{name:H,category:K,amount:Number(fe),frequency:we,owner:A};((De?oe:we)==="temporary"||!De&&we==="yearly")&&(Ye.paymentMonth=Number(De?Z:te)),Fe(De?"incomes":"expenses",Ye)},className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"label-xs",children:""}),f.jsx("select",{className:"input-sm",value:e==="income"?_:A,onChange:ne=>e==="income"?E(ne.target.value):S(ne.target.value),children:g.map(ne=>f.jsx("option",{children:ne},ne))})]}),f.jsxs("div",{className:"col-span-2 md:col-span-3",children:[f.jsx("label",{className:"label-xs",children:""}),f.jsx("input",{className:"input-sm",placeholder:": ",value:e==="income"?M:H,onChange:ne=>e==="income"?B(ne.target.value):q(ne.target.value)})]}),f.jsxs("div",{className:"col-span-1 md:col-span-2",children:[f.jsx("label",{className:"label-xs",children:""}),f.jsx("select",{className:"input-sm",value:e==="income"?k:K,onChange:ne=>{e==="income"?he(ne.target.value):J(ne.target.value)},children:(e==="income"?["","","",""]:["","",""]).map(ne=>f.jsx("option",{children:ne},ne))})]}),f.jsxs("div",{className:"col-span-1 md:col-span-2",children:[f.jsx("label",{className:"label-xs",children:""}),f.jsx("input",{type:"number",className:"input-sm font-mono",placeholder:"0",value:e==="income"?Ae:fe,onChange:ne=>e==="income"?X(ne.target.value):xe(ne.target.value)})]})]}),f.jsxs("div",{className:"flex gap-3 mt-2",children:[je&&f.jsx("button",{type:"button",onClick:ue,className:"flex-1 py-2.5 rounded-lg text-sm font-bold text-gray-600 bg-gray-100 hover:bg-gray-200 shadow-sm",children:""}),f.jsx("button",{disabled:D,className:`${je?"flex-[2]":"w-full"} py-2.5 rounded-lg text-sm font-bold text-white shadow-sm ${e==="income"?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-800 hover:bg-gray-900"}`,children:D?"...":je?"":""})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-3",children:" ()"}),(e==="income"?Yt:qi).length===0?f.jsx(Ln,{text:""}):f.jsx("div",{className:"space-y-3",children:(e==="income"?Yt:qi).map(ne=>f.jsxs("div",{className:`group bg-white p-4 rounded-xl shadow-sm border ${ne.source==="loan"?"bg-gray-50/50 border-dashed border-gray-200":"border-gray-100"} flex justify-between items-center ${e!=="income"&&ne.isInvestment?"border-l-4 border-l-green-500":""}`,children:[f.jsxs("div",{className:"flex gap-4 items-center",children:[ne.source==="loan"&&f.jsx("div",{className:"text-indigo-400 bg-indigo-50 p-1.5 rounded-lg",children:f.jsx(_s.Lock,{})}),f.jsxs("div",{children:[f.jsxs("div",{className:"font-bold text-gray-800",children:[ne.name," ",f.jsx("span",{className:"text-[10px] bg-gray-100 px-1.5 py-0.5 rounded text-gray-500",children:ne.owner})]}),f.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-2",children:[e==="income"?ne.type:ne.category,ne.investmentType&&f.jsx("span",{className:"text-[10px] text-green-600 font-bold bg-green-50 px-1.5 py-0.5 rounded border border-green-100 uppercase",children:ne.investmentType==="taxable"?"":ne.investmentType==="nisa_tsumitate"?"NISA()":ne.investmentType==="nisa_growth"?"NISA()":ne.investmentType==="ideco"?"iDeCo":ne.investmentType==="investment"?"":ne.investmentType}),ne.source==="loan"&&f.jsx("span",{className:"text-[10px] text-indigo-500 font-bold bg-indigo-50 px-1.5 py-0.5 rounded",children:""}),ne.source==="investment"&&f.jsx("span",{className:"text-[10px] text-green-500 font-bold bg-green-50 px-1.5 py-0.5 rounded",children:""})]})]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[f.jsx("div",{className:`font-bold font-mono text-lg ${e==="income"?"text-indigo-600":ne.isInvestment||ne.category===""?"text-green-600":"text-gray-900"}`,children:Oe(ne.amount)}),f.jsx("div",{className:"flex gap-2",children:ne.source==="manual"?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>Ue(ne,e),className:"text-xs text-gray-300 hover:text-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(_s.Edit,{})}),f.jsx("button",{onClick:()=>sn(e==="income"?"incomes":"expenses",ne.id),className:"text-xs text-red-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(_s.Trash,{})})]}):f.jsx("span",{className:"text-[10px] text-gray-300 italic",children:""})})]})]},ne.id))})]})]}),f.jsx("div",{className:e==="analysis"?"col-span-3":"lg:col-span-1",children:f.jsx("div",{className:`space-y-6 ${e==="analysis"&&"grid md:grid-cols-2 gap-6 space-y-0"}`,children:f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 relative overflow-hidden",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-6",children:""}),f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-gray-500",children:""}),f.jsx("span",{className:"text-base font-bold text-indigo-600",children:Oe(mt)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-gray-500",children:"()"}),f.jsxs("span",{className:"text-base font-bold text-gray-800",children:["- ",Oe(Lr)]})]}),f.jsxs("div",{className:"flex justify-between border-b border-gray-100 pb-4",children:[f.jsx("span",{className:"text-sm font-medium text-green-600",children:"()"}),f.jsxs("span",{className:"text-base font-bold text-green-600",children:["- ",Oe(Cr)]})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-gray-400 mb-1",children:" (Cash Flow)"}),f.jsx("p",{className:`text-4xl font-extrabold tracking-tight ${yr>=0?"text-gray-900":"text-red-500"}`,children:Oe(yr)})]})]})})})]}),f.jsx("style",{children:".label-xs { display:block; font-size:10px; font-weight:700; color:#9ca3af; text-transform:uppercase; margin-bottom:4px; } .input-sm { width:100%; background-color:#f9fafb; border:1px solid #e5e7eb; border-radius:0.5rem; font-size:0.875rem; padding:0.5rem 0.75rem; } .input-sm:focus { outline:none; border-color:#6366f1; ring:2px; ring-color:#e0e7ff; }"})]})}const ume=({settings:t,setSettings:e,readOnlyInvestment:n})=>{const r=s=>{const{name:l,value:u}=s.target;e(d=>({...d,[l]:Number(u)}))},i=s=>{const l=Number(s||0);return new Intl.NumberFormat("ja-JP").format(l)};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:""}),f.jsx("input",{type:"number",name:"currentAge",value:t.currentAge,onChange:r,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-sm font-bold"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 flex justify-between",children:["",f.jsxs("span",{className:"text-indigo-600 text-[10px]",children:[t.targetAge,""]})]}),f.jsx("input",{type:"number",name:"targetAge",value:t.targetAge,onChange:r,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-sm font-bold"})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1",children:""}),f.jsx("input",{type:"number",name:"initialNisa",value:t.initialNisa,onChange:r,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-[11px] font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1",children:""}),f.jsx("input",{type:"number",name:"initialTaxable",value:t.initialTaxable,onChange:r,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-[11px] font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1",children:""}),f.jsx("input",{type:"number",name:"initialCash",value:t.initialCash||0,onChange:r,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-[11px] font-bold"})]})]}),(t.initialFx||0)>0&&f.jsxs("div",{className:"bg-indigo-50/50 p-3 rounded-lg border border-indigo-100",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("label",{className:"text-[10px] font-black text-indigo-600 uppercase",children:" ()"}),f.jsxs("span",{className:"text-sm font-black text-indigo-700",children:["",i(t.initialFx)]})]}),f.jsxs("div",{className:"text-[9px] text-indigo-400 mt-2 flex items-center gap-1",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("span",{children:["",f.jsx("a",{href:"/assets",className:"text-indigo-600 underline ml-1 font-bold hover:text-indigo-800",children:""})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-gray-100",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 flex justify-between",children:["NISA ",f.jsxs("span",{className:"text-blue-600 font-bold",children:["",i(t.nisaLifetimeLimit)]})]}),f.jsx("input",{type:"number",name:"nisaLifetimeLimit",value:t.nisaLifetimeLimit,onChange:r,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-sm font-bold text-right",step:"100000"})]}),f.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",id:"nisaOverflowToTaxable",checked:t.nisaOverflowToTaxable,onChange:s=>e(l=>({...l,nisaOverflowToTaxable:s.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),f.jsx("label",{htmlFor:"nisaOverflowToTaxable",className:"text-xs font-bold text-gray-600 cursor-pointer",children:"NISA"})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:"()"}),f.jsx("input",{type:"number",name:"monthlyNisa",value:t.monthlyNisa,onChange:r,readOnly:n,className:`w-full border rounded p-2 text-sm ${n?"bg-gray-100 text-gray-500 cursor-not-allowed border-gray-100":"bg-gray-50 border-gray-200"}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:"(iDeCo)"}),f.jsx("input",{type:"number",name:"monthlyIdeco",value:t.monthlyIdeco,onChange:r,readOnly:n,className:`w-full border rounded p-2 text-sm ${n?"bg-gray-100 text-gray-500 cursor-not-allowed border-gray-100":"bg-gray-50 border-gray-200"}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:"()"}),f.jsx("input",{type:"number",name:"monthlyTaxable",value:t.monthlyTaxable,onChange:r,readOnly:n,className:`w-full border rounded p-2 text-sm ${n?"bg-gray-100 text-gray-500 cursor-not-allowed border-gray-100":"bg-gray-50 border-gray-200"}`})]}),n&&f.jsxs("div",{className:"col-span-2 text-[10px] text-gray-400 bg-blue-50 p-2 rounded border border-blue-100 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("span",{children:["",f.jsx("a",{href:"/investments",className:"text-blue-600 underline ml-1 font-bold hover:text-blue-800",children:""})]})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 flex justify-between",children:[" ()",f.jsxs("span",{className:"text-blue-600 font-bold",children:[t.returnRate,"%"]})]}),f.jsx("input",{type:"range",name:"returnRate",min:"0",max:"15",step:"0.1",value:t.returnRate,onChange:r,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]})},dme=({settings:t,setSettings:e})=>{const n=r=>{const{name:i,value:s}=r.target;e(l=>({...l,[i]:Number(s)}))};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:""}),f.jsx("input",{type:"number",name:"retirementAge",value:t.retirementAge,onChange:n,className:"w-full bg-gray-50 border border-gray-200 rounded p-2"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:" ()"}),f.jsx("input",{type:"number",name:"retirementBonus",value:t.retirementBonus,onChange:n,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 font-bold text-indigo-700",placeholder:""}),f.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:""})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:"()"}),f.jsx("input",{type:"number",name:"monthlySpendingPostRetire",value:t.monthlySpendingPostRetire,onChange:n,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:"()"}),f.jsx("input",{type:"number",name:"pensionAmount",value:t.pensionAmount,onChange:n,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-sm"})]})]})]})},qo={ALL_PUBLIC:{id:"ALL_PUBLIC",name:"",description:"",costs:{elem:45e4,middle:48e4,high:45e4,uni:65e4}},PRIVATE_HIGH_UNI:{id:"PRIVATE_HIGH_UNI",name:"",description:"()",costs:{elem:45e4,middle:48e4,high:1e6,uni:11e5}},PRIVATE_SECONDARY:{id:"PRIVATE_SECONDARY",name:"",description:"",costs:{elem:45e4,middle:14e5,high:1e6,uni:65e4}},PRIVATE_UNI_SCIENCE:{id:"PRIVATE_UNI_SCIENCE",name:"",description:"",costs:{elem:45e4,middle:48e4,high:45e4,uni:16e5}},ALL_PRIVATE:{id:"ALL_PRIVATE",name:"",description:"()",costs:{elem:16e5,middle:14e5,high:1e6,uni:11e5}}},fme=(t,e)=>{const n=qo[t]||qo.ALL_PUBLIC;return e>=7&&e<=12?n.costs.elem:e>=13&&e<=15?n.costs.middle:e>=16&&e<=18?n.costs.high:e>=19&&e<=22?n.costs.uni:0},hme=({settings:t,setSettings:e})=>{const[n,r]=w.useState(null),i=()=>{const d={id:Date.now(),age:0,name:`${t.children.length+1}`,educationCourse:"ALL_PUBLIC",studyAbroad:!1};e(h=>({...h,children:[...h.children,d]}))},s=d=>{e(h=>({...h,children:h.children.filter(p=>p.id!==d)}))},l=(d,h,p)=>{e(g=>({...g,children:g.children.map(b=>b.id===d?{...b,[h]:p}:b)}))},u=t.children.find(d=>d.id===n);return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:""}),f.jsx("button",{onClick:i,className:"text-xs text-blue-600 font-bold hover:underline",children:"+ "})]}),f.jsx("div",{className:"space-y-3",children:t.children.map(d=>f.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-gray-50 rounded-lg border border-gray-100",children:[f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx("input",{value:d.name,onChange:h=>l(d.id,"name",h.target.value),className:"text-sm bg-transparent w-full font-bold focus:outline-none"}),f.jsx("button",{onClick:()=>s(d.id),className:"text-gray-400 hover:text-red-500",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-1 12a2 2 0 01-2 2H8a2 2 0 01-2-2L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-xs text-gray-500",children:""}),f.jsx("input",{type:"number",value:d.age,onChange:h=>l(d.id,"age",Number(h.target.value)),className:"w-12 text-center text-sm border rounded p-1 bg-white"}),f.jsx("span",{className:"text-xs text-gray-500",children:""})]}),f.jsx("button",{onClick:()=>r(d.id),className:"text-xs bg-indigo-600 text-white px-3 py-1.5 rounded font-bold hover:bg-indigo-700 transition-colors shadow-sm",children:""})]}),f.jsxs("div",{className:"text-[10px] text-gray-400 flex justify-between items-center",children:[f.jsxs("span",{children:[": ",qo[d.educationCourse||"ALL_PUBLIC"].name]}),d.studyAbroad&&f.jsx("span",{className:"text-blue-500 font-bold",children:" "})]})]},d.id))}),t.children.length===0&&f.jsx("div",{className:"text-center py-4 border-2 border-dashed border-gray-100 rounded-lg",children:f.jsx("p",{className:"text-xs text-gray-400",children:""})}),n&&u&&f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[f.jsxs("div",{className:"p-4 border-b border-gray-100 flex-shrink-0 flex justify-between items-center bg-white",children:[f.jsxs("h3",{className:"font-bold text-lg text-gray-800 tracking-tight",children:[": ",u.name]}),f.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-600",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"p-5 overflow-y-auto flex-1 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3",children:""}),f.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.values(qo).map(d=>f.jsxs("button",{onClick:()=>l(n,"educationCourse",d.id),className:`text-left p-3 rounded-xl border-2 transition-all ${u.educationCourse===d.id?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-gray-100 hover:border-indigo-200 text-gray-600"}`,children:[f.jsx("div",{className:"font-bold text-sm",children:d.name}),f.jsx("div",{className:"text-[10px] opacity-70 leading-relaxed",children:d.description})]},d.id))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3",children:" ( / )"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-xl border border-gray-100",children:[[{key:"kinder",label:"",placeholder:"300,000"},{key:"elem",label:"",placeholder:qo[u.educationCourse].costs.elem.toLocaleString()},{key:"middle",label:"",placeholder:qo[u.educationCourse].costs.middle.toLocaleString()},{key:"high",label:"",placeholder:qo[u.educationCourse].costs.high.toLocaleString()},{key:"uni",label:"",placeholder:qo[u.educationCourse].costs.uni.toLocaleString()}].map(d=>f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:d.label}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"number",value:u.customCosts?.[d.key]||"",placeholder:d.placeholder,onChange:h=>{const p=h.target.value===""?void 0:Number(h.target.value),g={...u.customCosts,[d.key]:p};l(n,"customCosts",g)},className:"w-full text-right text-sm border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none bg-white"}),f.jsx("span",{className:"text-[10px] text-gray-400",children:""})]})]},d.key)),f.jsx("div",{className:"sm:col-span-2",children:f.jsx("p",{className:"text-[10px] text-gray-400",children:""})})]})]}),f.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-blue-800 text-sm",children:""}),f.jsx("div",{className:"text-[10px] text-blue-600",children:"4200"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:u.studyAbroad||!1,onChange:d=>l(n,"studyAbroad",d.target.checked),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),f.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex-shrink-0",children:f.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-800 text-white font-bold py-3 rounded-xl hover:bg-gray-900 transition-colors shadow-lg",children:""})})]})})]})},mme=({settings:t,setSettings:e,incomes:n=[]})=>{const r=s=>{const{name:l,value:u}=s.target;e(d=>({...d,[l]:Number(u)}))},i=s=>{const{name:l,value:u}=s.target;e(d=>({...d,[l]:u}))};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:[f.jsx("h3",{className:"text-[10px] font-black text-blue-600 uppercase mb-2 tracking-wider",children:""}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("label",{className:"text-[10px] font-bold text-gray-500",children:" (%)"}),f.jsxs("span",{className:"text-xs font-bold text-blue-600",children:[t.residenceRatio||100,"%"]})]}),f.jsx("input",{type:"range",name:"residenceRatio",min:"0",max:"100",step:"5",value:t.residenceRatio||100,onChange:r,className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),f.jsxs("div",{className:"flex justify-between text-[8px] text-gray-400 mt-1 font-bold",children:[f.jsx("span",{children:" 100%"}),f.jsx("span",{children:" 100%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1",children:""}),f.jsxs("select",{name:"linkedIncomeId",value:t.linkedIncomeId||"",onChange:i,className:"w-full bg-white border border-blue-200 rounded p-1.5 text-xs font-bold",children:[f.jsx("option",{value:"",children:" ()"}),n.map(s=>f.jsxs("option",{value:s.id,children:[s.name," (",Math.round(s.amount).toLocaleString(),"/)"]},s.id))]}),f.jsx("p",{className:"text-[9px] text-gray-400 mt-1 font-medium",children:""})]})]})]}),f.jsxs("div",{className:"pt-2",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:" (0=)"}),f.jsx("input",{type:"number",name:"buyHomeAge",value:t.buyHomeAge,onChange:r,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 text-sm font-bold"})]}),t.buyHomeAge>0&&f.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-100 space-y-3",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:""}),f.jsx("input",{type:"number",name:"homePrice",value:t.homePrice||4e7,onChange:r,className:"w-full bg-white border border-yellow-200 rounded p-2 text-sm font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:""}),f.jsx("input",{type:"number",name:"downPayment",value:t.downPayment||5e6,onChange:r,className:"w-full bg-white border border-yellow-200 rounded p-2 text-sm font-bold"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:"(%)"}),f.jsx("input",{type:"number",name:"loanRate",value:t.loanRate||1,onChange:r,step:"0.1",className:"w-full bg-white border border-yellow-200 rounded p-2 text-sm font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:"()"}),f.jsx("input",{type:"number",name:"loanDuration",value:t.loanDuration||35,onChange:r,className:"w-full bg-white border border-yellow-200 rounded p-2 text-sm font-bold"})]})]})]}),f.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:" (0=)"}),f.jsx("input",{type:"number",name:"sellHomeAge",value:t.sellHomeAge||0,onChange:r,className:"w-full bg-gray-50 border border-gray-200 rounded p-2 mb-4 text-sm font-bold"}),t.sellHomeAge>0&&f.jsxs("div",{className:"space-y-4 p-3 bg-red-50 rounded-lg border border-red-100",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:"()"}),f.jsx("input",{type:"number",name:"sellHomePrice",value:t.sellHomePrice||3e7,onChange:r,className:"w-full bg-white border border-red-200 rounded p-2 text-sm font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase mb-1",children:""}),f.jsxs("select",{name:"saleTarget",value:t.saleTarget||"all",onChange:i,className:"w-full bg-white border border-red-200 rounded p-2 text-sm font-bold",children:[f.jsx("option",{value:"all",children:" ( & )"}),f.jsx("option",{value:"residence",children:""}),f.jsx("option",{value:"business",children:""})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-white/50 p-2 rounded",children:[f.jsx("input",{type:"checkbox",id:"repayLoanOnSale",checked:t.repayLoanOnSale,onChange:s=>e(l=>({...l,repayLoanOnSale:s.target.checked})),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),f.jsx("label",{htmlFor:"repayLoanOnSale",className:"text-xs font-bold text-gray-600 cursor-pointer",children:""})]}),f.jsx("p",{className:"text-[9px] text-gray-400 font-medium",children:""})]})]})]})},pme=({totalAsset:t})=>{const e=n=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(n);return f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[f.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase mb-1",children:" "}),f.jsx("p",{className:"text-2xl font-extrabold text-blue-600",children:e(t)})]}),f.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[f.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:`text-2xl font-extrabold ${t>0?"text-green-600":"text-red-500"}`,children:t>0?"":""})]})]})},gme=({data:t,onPointClick:e})=>{const n=s=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(s),r=s=>{e&&s&&e(s)},i={cash:"#10b981",nisa:"#4f46e5",taxable:"#3b82f6",ideco:"#8b5cf6",realEstate:"#f59e0b",metals:"#94a3b8",crypto:"#f97316",fx:"#06b6d4",total:"#1e293b",income:"#10b981",expense:"#f43f5e"};return f.jsx("div",{className:"w-full h-full",children:f.jsx(pA,{width:"100%",height:"100%",children:f.jsxs(vhe,{data:t,margin:{top:20,right:30,left:20,bottom:20},onClick:s=>{s&&s.activePayload&&s.activePayload.length>0&&e&&e(s.activePayload[0].payload)},children:[f.jsx(QV,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),f.jsx(xU,{dataKey:"age",unit:"",tick:{fontSize:11,fontWeight:"bold"},axisLine:{stroke:"#e2e8f0"}}),f.jsx(B1,{yAxisId:"left",tickFormatter:s=>`${s/1e4}`,width:80,tick:{fontSize:11,fontWeight:"bold"},axisLine:{stroke:"#e2e8f0"}}),f.jsx(B1,{yAxisId:"right",orientation:"right",tickFormatter:s=>`${s/1e4}`,width:80,tick:{fontSize:11,fontWeight:"bold"},axisLine:{stroke:"#e2e8f0"}}),f.jsx(CS,{formatter:(s,l)=>[n(s),l],contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",backgroundColor:"rgba(255, 255, 255, 0.96)",padding:"12px"},itemStyle:{fontSize:"12px",padding:"2px 0"}}),f.jsx(Uv,{verticalAlign:"top",height:48,iconType:"circle",wrapperStyle:{fontSize:"10px",fontWeight:"bold"}}),f.jsx(ws,{yAxisId:"left",type:"monotone",dataKey:"cash",stackId:"1",stroke:i.cash,fill:i.cash,fillOpacity:.6,name:""}),f.jsx(ws,{yAxisId:"left",type:"monotone",dataKey:"nisa",stackId:"1",stroke:i.nisa,fill:i.nisa,fillOpacity:.6,name:""}),f.jsx(ws,{yAxisId:"left",type:"monotone",dataKey:"taxable",stackId:"1",stroke:i.taxable,fill:i.taxable,fillOpacity:.6,name:""}),f.jsx(ws,{yAxisId:"left",type:"monotone",dataKey:"ideco",stackId:"1",stroke:i.ideco,fill:i.ideco,fillOpacity:.6,name:"iDeCo/"}),f.jsx(ws,{yAxisId:"left",type:"monotone",dataKey:"fx",stackId:"1",stroke:i.fx,fill:i.fx,fillOpacity:.6,name:""}),f.jsx(ws,{yAxisId:"left",type:"monotone",dataKey:"metals",stackId:"1",stroke:i.metals,fill:i.metals,fillOpacity:.6,name:""}),f.jsx(ws,{yAxisId:"left",type:"monotone",dataKey:"crypto",stackId:"1",stroke:i.crypto,fill:i.crypto,fillOpacity:.6,name:""}),f.jsx(ws,{yAxisId:"left",type:"monotone",dataKey:"realEstate",stackId:"1",stroke:i.realEstate,fill:i.realEstate,fillOpacity:.6,name:""}),f.jsx(oU,{yAxisId:"left",type:"monotone",dataKey:"total",stroke:i.total,strokeWidth:3,dot:!1,name:"",activeDot:{r:6}}),f.jsx(V1,{yAxisId:"right",dataKey:"income",fill:i.income,name:"",barSize:12,opacity:.3,cursor:"pointer",onClick:s=>r(s)}),f.jsx(V1,{yAxisId:"right",dataKey:"expense",fill:i.expense,name:"",barSize:12,opacity:.3,cursor:"pointer",onClick:s=>r(s)})]})})})},xr=t=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(t),zo=({label:t,amount:e,colorClass:n})=>f.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-50 last:border-0",children:[f.jsx("span",{className:"text-sm text-gray-600",children:t}),f.jsx("span",{className:`font-mono font-bold ${n||"text-gray-900"}`,children:xr(e)})]}),fw=({label:t,total:e,basis:n,annualContribution:r,colorBase:i})=>{const s=e-n,l=n>0?s/n*100:0;return f.jsxs("div",{className:"py-2 border-t first:border-0 border-gray-100",children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:`text-xs font-bold text-${i}-700`,children:t}),f.jsx("span",{className:`text-sm font-black text-${i}-700`,children:xr(e)})]}),r>0&&f.jsxs("div",{className:"flex justify-between items-center px-2 mb-0.5",children:[f.jsx("span",{className:`text-[10px] text-${i}-500 font-bold`,children:" "}),f.jsx("span",{className:`text-xs text-${i}-600 font-bold`,children:xr(r)})]}),f.jsxs("div",{className:"flex justify-between items-center px-2",children:[f.jsx("span",{className:`text-[10px] text-${i}-400`,children:" ()"}),f.jsx("span",{className:`text-xs text-${i}-500`,children:xr(n)})]}),f.jsxs("div",{className:"flex justify-between items-center px-2",children:[f.jsx("span",{className:`text-[10px] text-${i}-400`,children:" ()"}),f.jsxs("span",{className:`text-xs font-bold ${s>=0?"text-emerald-500":"text-red-500"}`,children:[s>=0?"+":"",xr(s)," (",l.toFixed(1),"%)"]})]})]})},yme=({data:t,onClose:e})=>{if(!t)return null;const n=t.details||{},r=n.incomeBreakdown||{},i=n.expenseBreakdown||{},s=n.loanBreakdown||[],l=n.nisaBreakdown||{},u=n.idecoBreakdown||{},d=n.taxableBreakdown||{},h=n.cashBreakdown||{},p=n.realEstate||0,g=n.metals||0,b=n.crypto||0,_=n.fx||0;return Ky.createPortal(f.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in duration-300 relative z-10",children:[f.jsxs("div",{className:"p-4 border-b border-gray-100 flex-shrink-0 bg-blue-600 text-white rounded-t-xl flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black",children:[t.age,""]}),f.jsxs("p",{className:"text-blue-100 text-[10px] mt-0.5",children:[": ",xr(t.total)]})]}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"p-5 overflow-y-auto flex-1 space-y-8",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-4 bg-emerald-500 rounded-full"})," (Total: ",xr(t.income),")"]}),f.jsxs("div",{className:"bg-emerald-50/50 rounded-2xl p-4 border border-emerald-100/50",children:[r.salary>0&&f.jsx(zo,{label:"",amount:r.salary,colorClass:"text-emerald-700"}),r.pension>0&&f.jsx(zo,{label:"",amount:r.pension,colorClass:"text-emerald-700"}),r.retirementBonus>0&&f.jsx(zo,{label:"",amount:r.retirementBonus,colorClass:"text-emerald-700"})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-black text-rose-600 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-4 bg-rose-500 rounded-full"})," (Total: ",xr(t.expense),")"]}),f.jsxs("div",{className:"bg-rose-50/50 rounded-2xl p-4 border border-rose-100/50",children:[f.jsx(zo,{label:"",amount:i.livingCost||0,colorClass:"text-rose-700"}),i.education>0&&f.jsx(zo,{label:" ()",amount:i.education,colorClass:"text-rose-700"}),s.length>0?s.map((E,A)=>f.jsx(zo,{label:E.name,amount:E.amount,colorClass:"text-rose-700"},A)):null,i.housingLoan>0&&s.length===0&&f.jsx(zo,{label:"",amount:i.housingLoan,colorClass:"text-rose-700"}),i.eventCost>0&&f.jsx(zo,{label:"",amount:i.eventCost,colorClass:"text-rose-700"})]})]}),f.jsxs("div",{className:"pt-6 border-t border-gray-100 space-y-4",children:[f.jsx("h3",{className:"text-sm font-black text-gray-500 uppercase tracking-widest",children:""}),(p>0||g>0||b>0)&&f.jsxs("div",{className:"bg-gray-100 p-4 rounded-2xl border border-gray-200",children:[f.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase mb-2",children:""}),p>0&&f.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"font-black",children:xr(p)})]}),g>0&&f.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"font-black",children:xr(g)})]}),b>0&&f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"font-black",children:xr(b)})]})]}),f.jsxs("div",{className:"bg-emerald-50/50 p-4 rounded-2xl border border-emerald-100/50",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-[10px] text-emerald-400 font-bold uppercase tracking-wider",children:""}),f.jsx("span",{className:"text-lg font-black text-emerald-600",children:xr(t.cash||0)})]}),f.jsxs("div",{className:"text-xs text-emerald-500 flex justify-between",children:[f.jsx("span",{children:" ()"}),f.jsxs("span",{children:[h.annualSavings>=0?"+":"",xr(h.annualSavings||0)]})]})]}),_>0&&f.jsxs("div",{className:"bg-orange-50/50 p-4 rounded-2xl border border-orange-100/50",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-[10px] text-orange-400 font-bold uppercase tracking-wider",children:" (FX)"}),f.jsx("span",{className:"text-lg font-black text-orange-600",children:xr(_)})]}),f.jsx("div",{className:"text-[10px] text-orange-400",children:""})]}),f.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-2xl border border-indigo-100/50",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("span",{className:"text-[10px] text-indigo-400 font-bold uppercase tracking-wider",children:" ()"}),f.jsx("span",{className:"text-lg font-black text-indigo-600",children:xr((t.nisa||0)+(t.ideco||0))})]}),f.jsx(fw,{label:"NISA ()",total:l.total||0,basis:l.basis||0,annualContribution:l.annualContribution||0,colorBase:"indigo"}),f.jsx("div",{className:"my-2 border-t border-indigo-100 border-dashed"}),f.jsx(fw,{label:"iDeCo (60)",total:u.total||0,basis:u.basis||0,annualContribution:u.annualContribution||0,colorBase:"indigo"})]}),f.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-2xl border border-blue-100/50",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("span",{className:"text-[10px] text-blue-400 font-bold uppercase tracking-wider",children:" ()"}),f.jsx("span",{className:"text-lg font-black text-blue-600",children:xr(t.taxable||0)})]}),f.jsx(fw,{label:"",total:d.total||0,basis:d.basis||0,annualContribution:d.annualContribution||0,colorBase:"blue"})]})]})]}),f.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex-shrink-0 rounded-b-xl",children:f.jsx("button",{onClick:e,className:"w-full bg-gray-900 text-white font-bold py-3 rounded-xl hover:bg-gray-800 transition-all shadow-lg active:scale-95",children:""})})]})]}),document.body)},vme=()=>{const{currentUser:t}=gi(),[e,n]=w.useState(null),[r,i]=w.useState(!1),[s,l]=w.useState(null),{rates:u}=JS(),[d,h]=w.useState({currentAge:35,targetAge:85,initialNisa:0,initialTaxable:0,initialCash:0,initialRealEstate:0,initialMetals:0,initialCrypto:0,initialFx:0,fxReturnRate:3,minCashBuffer:1e6,monthlyNisa:0,monthlyIdeco:0,monthlyTaxable:0,returnRate:5,retirementAge:65,retirementBonus:0,monthlySpendingPostRetire:25e4,pensionAmount:15e4,children:[],educationCostPerChild:5e6,buyHomeAge:0,homePrice:4e7,downPayment:5e6,loanRate:1,loanDuration:35,initialUsedNisaQuota:0,nisaLifetimeLimit:18e6,nisaOverflowToTaxable:!0,sellHomeAge:0,sellHomePrice:3e7,repayLoanOnSale:!0}),[p]=w.useState(!1),[g,b]=w.useState([]),[_,E]=w.useState([]),[A,S]=w.useState([]);w.useEffect(()=>{(async()=>{if(!(!t||Object.keys(u).length===0))try{const V=Pt(He,"users",t.uid,"lifePlan","simulationSettings"),$=await dl(V),O=$.exists()?$.data():{},[I,D,z,M,B]=await Promise.all([Bn(Kt(He,"users",t.uid,"loans")),Bn(Kt(He,"users",t.uid,"incomes")),Bn(Kt(He,"users",t.uid,"properties")),Bn(Kt(He,"users",t.uid,"investments")),Bn(Kt(He,"users",t.uid,"portfolios"))]);b(I.docs.map(we=>({id:we.id,...we.data()}))),E(D.docs.map(we=>({id:we.id,...we.data()}))),S(z.docs.map(we=>({id:we.id,...we.data()})));let k=0,he=0,Ae=0;M.forEach(we=>{const Te=we.data();if(Te.type==="spot")return;const te=Number(Te.monthlyAmount||0)+Number(Te.bonusAmount||0)*2/12,Re=(Te.accountType||"").toLowerCase(),je=(Te.name||"").toLowerCase();Re.includes("nisa")||je.includes("nisa")?k+=te:Re.includes("ideco")||je.includes("")?he+=te:Ae+=te});let X=0,oe=0,_e=0,Z=0,Se=0,H=0,q=0,K=0,J=0;B.docs.forEach(we=>{const Te=we.data();Te.assets&&Te.assets.forEach(te=>{const Re=Number(te.amount||0),je=te.currency||"JPY",ge=Number(te.acquisitionCost||Re);let Ie=je!=="JPY"&&u[je]?Re*u[je]:Re;const Oe=(te.type||"").toLowerCase(),dt=(te.accountType||"").toLowerCase(),W=(te.name||"").toLowerCase();dt.includes("ideco")||W.includes("")?oe+=Ie:dt.includes("nisa")?(X+=Ie,J+=ge):["","","cash"].some(Ee=>Oe.includes(Ee))?Z+=Ie:Oe.includes("")?Se+=Ie:Oe.includes("")?H+=Ie:Oe.includes("")?q+=Ie:je!=="JPY"?K+=Ie:_e+=Ie})}),h(we=>({...we,...O,monthlyNisa:Math.round(k),monthlyIdeco:Math.round(he),monthlyTaxable:Math.round(Ae),initialNisa:Math.round(X),initialIdeco:Math.round(oe),initialUsedNisaQuota:Math.round(J),initialTaxable:Math.round(_e),initialCash:Math.round(Z),initialRealEstate:Math.round(Se),initialMetals:Math.round(H),initialCrypto:Math.round(q),initialFx:Math.round(K)}));const fe=Pt(He,"users",t.uid,"lifePlan","advancedSettings"),xe=await dl(fe);xe.exists()&&l(xe.data())}catch(V){console.error("Data Fetch Error:",V)}})()},[t,u]);const j=async()=>{if(t)try{await _l(Pt(He,"users",t.uid,"lifePlan","simulationSettings"),{...d,updatedAt:kn()}),alert("")}catch(U){alert(": "+U.message)}},R=()=>window.location.reload(),P=w.useMemo(()=>{const{currentAge:U=35,targetAge:V=85,initialNisa:$=0,initialIdeco:O=0,initialTaxable:I=0,initialCash:D=0,initialRealEstate:z=0,initialMetals:M=0,initialCrypto:B=0,initialFx:k=0,monthlyNisa:he=0,monthlyIdeco:Ae=0,monthlyTaxable:X=0,returnRate:oe=5,fxReturnRate:_e=3,retirementAge:Z=65,retirementBonus:Se=0,monthlySpendingPostRetire:H=25e4,pensionAmount:q=15e4,children:K=[],buyHomeAge:J=0,homePrice:fe=4e7,downPayment:xe=5e6,loanRate:we=1,loanDuration:Te=35,initialUsedNisaQuota:te=0,nisaLifetimeLimit:Re=18e6}=d;let je=Number($),ge=Number(O),Ie=Number(I),Oe=Number(D),W=A.length>0?A.reduce((Rt,mt)=>Rt+Number(mt.value||0),0):Number(z),Ee=Number(M),be=Number(B),ue=Number(k),Ue=Number(te);const Fe=g.reduce((Rt,mt)=>(mt.propertyId&&(Rt[mt.propertyId]=(Rt[mt.propertyId]||[]).concat(mt.id)),Rt),{}),sn=g.map(Rt=>({id:Rt.id,name:Rt.name,currentBalance:Number(Rt.balance),monthlyPayment:Number(Rt.monthlyPayment),monthlyRate:(Number(Rt.interestRate)||0)/100/12,extraRepayments:Rt.extraRepayments||[]}));let tn=0,Yt=0;if(J>0){const Rt=fe-xe,mt=we/100/12,Lr=Te*12;mt>0&&Lr>0?Yt=Rt*mt*Math.pow(1+mt,Lr)/(Math.pow(1+mt,Lr)-1)*12:Lr>0&&(Yt=Rt/Te)}const lr=[],ts=Number(V)-Number(U);for(let Rt=0;Rt<=ts;Rt++){const mt=Number(U)+Rt,Lr=mt>=Number(Z);let Cr=0,yr=0,qi=0;const Ln=[];if(A.forEach(We=>{if(We.saleAge&&mt===Number(We.saleAge)){const Dt=Number(We.salePrice||0);if(Oe+=Dt,W-=Number(We.value||0),We.repayLinkedLoanOnSale){const Vn=Fe[We.id]||[];sn.forEach(_n=>{if(Vn.includes(_n.id)&&_n.currentBalance>0){const Xr=Math.min(Oe,_n.currentBalance);Oe-=Xr,yr+=Xr,_n.currentBalance=0,Ln.push({name:`${_n.name} ()`,amount:Math.round(Xr)})}})}}}),J>0&&mt===Number(J)&&(Oe-=Number(xe),W+=Number(fe),tn=Number(fe)-Number(xe)),tn>0){let We=0;for(let Dt=0;Dt<12&&!(tn<=0);Dt++){let Vn=tn*(we/100/12),_n=Math.min(tn+Vn,Yt/12);tn=tn+Vn-_n,We+=_n}yr+=We,qi+=We,Ln.push({name:"()",amount:Math.round(We)})}sn.forEach(We=>{if(We.currentBalance>0){let Dt=0;We.extraRepayments.filter(_n=>Number(_n.age)===mt).forEach(_n=>{const Xr=_n.isFullPayoff?We.currentBalance:Number(_n.amount),Yn=Math.min(Oe,Xr);Oe-=Yn,We.currentBalance-=Yn,Dt+=Yn,Ln.push({name:`${We.name} ()`,amount:Math.round(Yn)})});for(let _n=0;_n<12&&!(We.currentBalance<=0);_n++){const Xr=We.currentBalance*We.monthlyRate,Yn=Math.min(We.currentBalance+Xr,We.monthlyPayment);We.currentBalance=We.currentBalance+Xr-Yn,Dt+=Yn}yr+=Dt,qi+=Dt,Dt>0&&Ln.push({name:We.name,amount:Math.round(Dt)})}});const ne=A.filter(We=>We.saleAge&&mt>Number(We.saleAge)).map(We=>We.id);Lr?Cr=Number(q)*12:Cr=_.filter(Dt=>!(Dt.propertyId&&ne.includes(Dt.propertyId))).reduce((Dt,Vn)=>Dt+Number(Vn.amount||0),0)*12,mt===Number(Z)&&(Cr+=Number(Se));let De=0;K.forEach(We=>{De+=fme(mt,Number(We.birthYear),Number(U),We.plan)}),yr+=De;const Ye=Lr?Number(H)*12:Cr*.7;yr+=Ye;const kt=Cr-yr;Oe+=kt;const Vr=Math.min(Oe>0?Oe:0,Number(he)*12),so=Math.max(0,Re-Ue),Gn=Math.min(Vr,so);Oe-=Gn,je=(je+Gn)*(1+Number(oe)/100),Ue+=Gn;const yi=Number(X)*12+(Vr-Gn>0?Vr-Gn:0),nn=Math.min(Oe>0?Oe:0,yi);Oe-=nn,Ie=(Ie+nn)*(1+Number(oe)/100),ge=(ge+Number(Ae)*12)*(1+Number(oe)/100),Ee*=1+Number(oe)/100,be*=1+Number(oe)/100,ue*=1+Number(_e)/100,lr.push({age:mt,total:Math.round(je+ge+Ie+Oe+W+Ee+be+ue),cash:Math.round(Oe),nisa:Math.round(je),taxable:Math.round(Ie),ideco:Math.round(ge),realEstate:Math.round(W),metals:Math.round(Ee),crypto:Math.round(be),fx:Math.round(ue),income:Math.round(Cr),expense:Math.round(yr),details:{income:Math.round(Cr),expense:Math.round(yr),loan:Math.round(qi),edCost:Math.round(De)},loanBreakdown:Ln})}return{chartData:lr,finalAsset:lr[lr.length-1]?.total||0}},[d,g,_,A]);return f.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans",children:[f.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 mb-6 flex justify-between items-center",children:[f.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Life Plan Simulation"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:R,className:"text-xs bg-indigo-50 text-indigo-700 px-3 py-1.5 rounded border border-indigo-100 font-bold hover:bg-indigo-100",children:""}),f.jsx("button",{onClick:j,className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded font-bold hover:bg-blue-700",children:""})]})]}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 pb-12 flex flex-col lg:flex-row gap-8",children:[f.jsxs("div",{className:"w-full lg:w-[35%] flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4 border-b pb-2 text-blue-500",children:""}),f.jsx(ume,{settings:d,setSettings:h,readOnlyInvestment:!0})]}),f.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4 border-b pb-2 text-green-500",children:""}),f.jsx(dme,{settings:d,setSettings:h})]}),f.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4 border-b pb-2 text-pink-500",children:""}),f.jsx(hme,{settings:d,setSettings:h})]}),f.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4 border-b pb-2 text-yellow-500",children:""}),f.jsx("div",{className:"mb-4 bg-blue-50 p-2 rounded text-[11px] text-blue-700 font-bold border border-blue-100 italic",children:""}),f.jsx(mme,{settings:d,setSettings:h,incomes:_})]})]}),f.jsxs("div",{className:"w-full lg:flex-1 sticky top-6",children:[f.jsx(pme,{totalAsset:P.finalAsset,retirementAge:d.retirementAge}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-100 h-[600px] mt-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:""}),f.jsx("div",{className:"w-full h-full pb-12",children:f.jsx(gme,{data:P.chartData,onPointClick:U=>n(U)})})]})]})]}),e&&f.jsx(yme,{data:e,onClose:()=>n(null)})]})};function bme(){const{currentUser:t}=gi(),[e,n]=w.useState(["","","",""]),[r,i]=w.useState(""),[s,l]=w.useState(!0),[u,d]=w.useState(!1),h=w.useCallback(async()=>{if(t)try{const _=Pt(He,"users",t.uid,"settings","general"),E=await dl(_);E.exists()&&E.data().members&&n(E.data().members)}catch(_){console.error("Error fetching settings:",_)}finally{l(!1)}},[t]);w.useEffect(()=>{h()},[h]);const p=async _=>{if(t){d(!0);try{const E=Pt(He,"users",t.uid,"settings","general");await _l(E,{members:_,updatedAt:kn()},{merge:!0}),n(_),alert("")}catch(E){console.error("Error saving settings:",E),alert("")}finally{d(!1)}}},g=()=>{if(!r.trim())return;if(e.includes(r.trim())){alert("");return}const _=[...e,r.trim()];p(_),i("")},b=_=>{if(e.length<=1){alert("1");return}if(!window.confirm(`${e[_]}`))return;const E=e.filter((A,S)=>S!==_);p(E)};return s?f.jsx("div",{className:"p-8 text-center",children:"..."}):f.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:""}),f.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),f.jsx("p",{className:"text-sm text-gray-500 mb-6",children:""}),f.jsx("div",{className:"space-y-3 mb-6",children:e.map((_,E)=>f.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded border border-gray-200",children:[f.jsx("span",{className:"font-medium text-gray-700",children:_}),f.jsx("button",{onClick:()=>b(E),className:"text-red-500 hover:text-red-700 text-sm font-medium",children:""})]},E))}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:r,onChange:_=>i(_.target.value),className:"flex-1 border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""}),f.jsx("button",{onClick:g,disabled:u||!r.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 disabled:opacity-50",children:""})]})]})]})}function xme(){const{currentUser:t}=gi(),[e,n]=w.useState(()=>{try{const g=localStorage.getItem("chatHistory");return g?JSON.parse(g):[]}catch(g){return console.error("Failed to load chat history:",g),[]}}),[r,i]=w.useState(""),[s,l]=w.useState(!1),[u,d]=w.useState("");w.useEffect(()=>{try{localStorage.setItem("chatHistory",JSON.stringify(e))}catch(g){console.error("Failed to save chat history:",g)}},[e]);const h=()=>{window.confirm(`
`)&&(n([]),localStorage.removeItem("chatHistory"))};w.useEffect(()=>{(async()=>{if(t)try{const b=Kt(He,"users",t.uid,"portfolios"),_=await Bn(b);let E=` (Assets)
`,A=0;_.forEach(U=>{const V=U.data();let $=0;V.assets&&Array.isArray(V.assets)?($=V.total_valuation||V.assets.reduce((O,I)=>O+(Number(I.amount)||0),0),E+=`- ${V.brokerName||""}: ${Math.round($).toLocaleString()}
`,V.assets.forEach(O=>{E+=`  ${O.name} (${O.type}): ${Number(O.amount).toLocaleString()}
`})):V.amount&&($=Number(V.amount),E+=`- ${V.name} (${V.type}): ${Math.round($).toLocaleString()}
`),A+=$}),E+=`>> : ${Math.round(A).toLocaleString()}

`;const S=Kt(He,"users",t.uid,"loans"),j=await Bn(S);E+=` (Liabilities)
`;let R=0;j.forEach(U=>{const V=U.data(),$=Number(V.balance)||0;E+=`- ${V.name}:  ${$.toLocaleString()} ( ${V.interestRate}%,  ${Number(V.monthlyPayment).toLocaleString()})
`,R+=$}),E+=`>> : ${R.toLocaleString()}

`;const P=A-R;E+=` (Net Worth): ${Math.round(P).toLocaleString()}
`,console.log("Generated Financial Context for AI:",E),d(E)}catch(b){console.error("Error fetching financial data:",b)}})()},[t]);const p=async g=>{if(g.preventDefault(),!r.trim())return;const b=r;i("");const _=[...e,{role:"user",text:b}];n(_),l(!0);try{const E=e.map(S=>({role:S.role==="user"?"user":"model",parts:[{text:S.text}]})),A=await jh.chatWithFinancialAdvisor(E,b,u);n(S=>[...S,{role:"model",text:A}])}catch(E){console.error("Chat error",E),n(A=>[...A,{role:"model",text:": AI"}])}finally{l(!1)}};return f.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 h-[calc(100vh-64px)] flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[f.jsx("svg",{className:"w-8 h-8 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"AI"]}),e.length>0&&f.jsxs("button",{onClick:h,className:"text-sm text-red-500 hover:text-red-700 hover:bg-red-50 px-3 py-1.5 rounded-lg border border-red-200 transition-colors flex items-center",children:[f.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),""]})]}),f.jsxs("div",{className:"bg-white shadow-xl rounded-lg flex-1 flex flex-col overflow-hidden border border-gray-200",children:[f.jsxs("div",{className:"flex-1 p-6 overflow-y-auto space-y-4 bg-gray-50",children:[e.length===0&&f.jsxs("div",{className:"text-center text-gray-500 mt-10",children:[f.jsx("p",{className:"mb-2",children:"AI"}),f.jsx("p",{className:"text-sm",children:""}),f.jsx("p",{className:"text-sm",children:""}),f.jsx("p",{className:"mt-4 text-xs text-gray-400",children:"AI"})]}),e.map((g,b)=>f.jsx("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:f.jsx("div",{className:`max-w-[85%] rounded-2xl px-5 py-3 shadow-sm ${g.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white text-gray-800 border border-gray-100 rounded-bl-none"}`,children:f.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:g.text})})},b)),s&&f.jsx("div",{className:"flex justify-start",children:f.jsxs("div",{className:"bg-white text-gray-500 rounded-2xl px-5 py-3 shadow-sm border border-gray-100 rounded-bl-none flex items-center space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),f.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})]}),f.jsxs("div",{className:"p-4 bg-white border-t",children:[f.jsxs("form",{onSubmit:p,className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:r,onChange:g=>i(g.target.value),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow",placeholder:"...",disabled:s}),f.jsx("button",{type:"submit",disabled:s||!r.trim(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors shadow-sm",children:""})]}),f.jsx("p",{className:"text-xs text-center text-gray-400 mt-2",children:"AI"})]})]})]})}function _me(){const{loginWithGoogle:t}=gi(),e=qy(),n=async()=>{try{await t(),e("/")}catch(r){console.error("Login failed",r)}};return f.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[f.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:""}),f.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:""})]}),f.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:f.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:f.jsx("button",{onClick:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Google"})})})]})}const wme=()=>{const[t,e]=w.useState("overview"),n=[{id:"overview",title:"",icon:""},{id:"dashboard",title:"",icon:""},{id:"portfolio",title:"",icon:""},{id:"loans",title:"",icon:""},{id:"cashflow",title:"",icon:""},{id:"lifeplan",title:"",icon:""},{id:"ai",title:"AI",icon:""},{id:"glossary",title:"",icon:""},{id:"faq",title:"",icon:""}],r=()=>{switch(t){case"overview":return f.jsx(ND,{});case"dashboard":return f.jsx(Eme,{});case"portfolio":return f.jsx(Ame,{});case"loans":return f.jsx(Sme,{});case"cashflow":return f.jsx(Tme,{});case"lifeplan":return f.jsx(Nme,{});case"ai":return f.jsx(jme,{});case"glossary":return f.jsx(Cme,{});case"faq":return f.jsx(Ome,{});default:return f.jsx(ND,{})}};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:f.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-3",children:" "}),f.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"FinanceManager"})]}),f.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[f.jsx("nav",{className:"lg:w-64 flex-shrink-0",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sticky top-6",children:[f.jsx("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-3",children:""}),f.jsx("ul",{className:"space-y-1",children:n.map(i=>f.jsx("li",{children:f.jsxs("button",{onClick:()=>e(i.id),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-medium transition-all ${t===i.id?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[f.jsx("span",{className:"mr-2",children:i.icon}),i.title]})},i.id))})]})}),f.jsx("main",{className:"flex-1",children:f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:r()})})]})]})})},ao=({icon:t,children:e})=>f.jsxs("h2",{className:"text-2xl font-black text-gray-900 mb-6 flex items-center gap-3",children:[f.jsx("span",{className:"text-3xl",children:t}),e]}),fn=({title:t,children:e})=>f.jsxs("div",{className:"mb-8",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3 border-l-4 border-blue-500 pl-3",children:t}),f.jsx("div",{className:"text-gray-600 leading-relaxed space-y-3",children:e})]}),Ws=({type:t="info",children:e})=>{const n={info:"bg-blue-50 border-blue-200 text-blue-800",warning:"bg-amber-50 border-amber-200 text-amber-800",success:"bg-emerald-50 border-emerald-200 text-emerald-800",tip:"bg-purple-50 border-purple-200 text-purple-800"},r={info:"",warning:"",success:"",tip:""};return f.jsxs("div",{className:`p-4 rounded-xl border ${n[t]} my-4`,children:[f.jsx("span",{className:"mr-2",children:r[t]}),e]})},ND=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:""}),f.jsxs(fn,{title:"FinanceManager",children:[f.jsx("p",{children:"FinanceManager "}),f.jsx("p",{children:"AI  "})]}),f.jsx(fn,{title:"",children:f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:"AI"})," - "]})]})}),f.jsxs(fn,{title:"",children:[f.jsx(Ws,{type:"info",children:"Firebase "}),f.jsx(Ws,{type:"warning",children:" "})]}),f.jsx(fn,{title:"",children:f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[f.jsx("li",{children:"Google Chrome"}),f.jsx("li",{children:"Safari"}),f.jsx("li",{children:"Firefox"}),f.jsx("li",{children:": 1280px"})]})})]}),Eme=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:""}),f.jsx(fn,{title:"",children:f.jsx("p",{children:" "})}),f.jsx(fn,{title:"",children:f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]})]})}),f.jsx(Ws,{type:"tip",children:" "})]}),Ame=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:""}),f.jsx(fn,{title:"",children:f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[f.jsx("li",{children:""}),f.jsx("li",{children:"AI"}),f.jsx("li",{children:"NISAiDeCo"}),f.jsx("li",{children:""})]})}),f.jsxs(fn,{title:"",children:[f.jsx("p",{children:f.jsx("strong",{children:"1: AI"})}),f.jsx("p",{className:"ml-4 text-sm",children:" AI"}),f.jsx("p",{className:"mt-4",children:f.jsx("strong",{children:"2: "})}),f.jsx("p",{className:"ml-4 text-sm",children:""})]}),f.jsx(fn,{title:"",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm border rounded-lg overflow-hidden",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-bold",children:""}),f.jsx("th",{className:"px-4 py-2 text-left font-bold",children:""}),f.jsx("th",{className:"px-4 py-2 text-left font-bold",children:""})]})}),f.jsxs("tbody",{className:"divide-y",children:[f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-2 font-medium",children:""}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("span",{className:"text-red-600 font-bold",children:""})}),f.jsx("td",{className:"px-4 py-2",children:"20%"})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-2 font-medium",children:""}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("span",{className:"text-red-600 font-bold",children:""})}),f.jsx("td",{className:"px-4 py-2",children:""})]}),f.jsxs("tr",{className:"bg-indigo-50",children:[f.jsx("td",{className:"px-4 py-2 font-medium",children:"NISA"}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("span",{className:"text-indigo-600 font-bold",children:""})}),f.jsx("td",{className:"px-4 py-2",children:"120"})]}),f.jsxs("tr",{className:"bg-indigo-50",children:[f.jsx("td",{className:"px-4 py-2 font-medium",children:"NISA"}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("span",{className:"text-indigo-600 font-bold",children:""})}),f.jsx("td",{className:"px-4 py-2",children:"240"})]}),f.jsxs("tr",{className:"bg-indigo-50",children:[f.jsx("td",{className:"px-4 py-2 font-medium",children:"NISA"}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("span",{className:"text-indigo-600 font-bold",children:""})}),f.jsx("td",{className:"px-4 py-2",children:"2023NISA"})]}),f.jsxs("tr",{className:"bg-indigo-50",children:[f.jsx("td",{className:"px-4 py-2 font-medium",children:"iDeCo"}),f.jsx("td",{className:"px-4 py-2",children:f.jsx("span",{className:"text-indigo-600 font-bold",children:""})}),f.jsx("td",{className:"px-4 py-2",children:"60"})]})]})]})})}),f.jsxs(Ws,{type:"info",children:[f.jsx("strong",{children:" vs :"}),f.jsx("br",{}),"20% NISAiDeCo"]})]}),Sme=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:""}),f.jsx(fn,{title:"",children:f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""})]})}),f.jsx(fn,{title:"",children:f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - %"]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]})]})}),f.jsxs(fn,{title:"",children:[f.jsx("p",{children:" "}),f.jsx(Ws,{type:"warning",children:" "})]})]}),Tme=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:""}),f.jsx(fn,{title:"",children:f.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[f.jsx("li",{children:""}),f.jsx("li",{children:"AI"}),f.jsx("li",{children:""}),f.jsx("li",{children:""})]})}),f.jsxs(fn,{title:"",children:[f.jsx("p",{children:""}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2 mt-2",children:[f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""})]})]}),f.jsxs(fn,{title:"",children:[f.jsx("p",{children:""}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2 mt-2",children:[f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""})]})]}),f.jsx(Ws,{type:"tip",children:" "})]}),Nme=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:""}),f.jsx(fn,{title:"",children:f.jsx("p",{children:": 85 "})}),f.jsxs(fn,{title:"",children:[f.jsx("p",{children:f.jsx("strong",{children:" "})}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mt-2 text-sm",children:[f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:"NISA"})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:"NISA"})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - %"]})]}),f.jsx("p",{className:"mt-4",children:f.jsx("strong",{children:" "})}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mt-2 text-sm",children:[f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]})]})]}),f.jsx(fn,{title:"",children:f.jsxs("div",{className:"space-y-3 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-3 p-2 bg-indigo-50 rounded-lg",children:[f.jsx("div",{className:"w-4 h-4 bg-indigo-500 rounded"}),f.jsxs("span",{children:[f.jsx("strong",{children:""})," - NISAiDeCo"]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-2 bg-blue-50 rounded-lg",children:[f.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),f.jsxs("span",{children:[f.jsx("strong",{children:""})," - "]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[f.jsx("div",{className:"w-4 h-4 bg-gray-700 rounded"}),f.jsxs("span",{children:[f.jsx("strong",{children:""})," -  + "]})]})]})}),f.jsxs(fn,{title:"",children:[f.jsx("p",{children:""}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2 mt-2 text-sm",children:[f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," - "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," -   /"]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," -  / "]}),f.jsxs("li",{children:[f.jsx("strong",{children:""})," -  / "]})]})]}),f.jsxs(Ws,{type:"info",children:[f.jsx("strong",{children:":"}),f.jsx("br",{})," 20%80%"]}),f.jsx(Ws,{type:"warning",children:""})]}),jme=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:"AI"}),f.jsx(fn,{title:"AI",children:f.jsx("p",{children:" AI"})}),f.jsx(fn,{title:"",children:f.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[f.jsx("li",{children:"AI"}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:"AI"})]})}),f.jsx(fn,{title:"",children:f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:"NISA"}),f.jsx("li",{children:""})]})}),f.jsx(Ws,{type:"warning",children:"AI "})]}),Cme=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:""}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Pi,{term:"",reading:"",description:"20%"}),f.jsx(Pi,{term:"",reading:"",description:"NISAiDeCo"}),f.jsx(Pi,{term:"NISA",reading:"",description:"2024NISA120240360"}),f.jsx(Pi,{term:"iDeCo",reading:"",description:"60"}),f.jsx(Pi,{term:"",reading:"",description:""}),f.jsx(Pi,{term:"",reading:"",description:""}),f.jsx(Pi,{term:"",reading:"",description:""}),f.jsx(Pi,{term:"",reading:"",description:"100155%"}),f.jsx(Pi,{term:"",reading:"",description:""}),f.jsx(Pi,{term:"",reading:"",description:""}),f.jsx(Pi,{term:"",reading:"",description:""}),f.jsx(Pi,{term:"",reading:"",description:""})]})]}),Pi=({term:t,reading:e,description:n})=>f.jsxs("div",{className:"border-b border-gray-100 pb-4",children:[f.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[f.jsx("span",{className:"font-bold text-gray-900",children:t}),f.jsxs("span",{className:"text-xs text-gray-400",children:["",e,""]})]}),f.jsx("p",{className:"text-sm text-gray-600",children:n})]}),Ome=()=>f.jsxs("div",{children:[f.jsx(ao,{icon:"",children:""}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(Zl,{question:"",answer:"Google FirebaseGoogle"}),f.jsx(Zl,{question:"",answer:"Google"}),f.jsx(Zl,{question:"AI",answer:""}),f.jsx(Zl,{question:"",answer:""}),f.jsx(Zl,{question:"",answer:"NISA"}),f.jsx(Zl,{question:"",answer:""}),f.jsx(Zl,{question:"",answer:""})]})]}),Zl=({question:t,answer:e})=>{const[n,r]=w.useState(!1);return f.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[f.jsxs("button",{onClick:()=>r(!n),className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 transition-colors flex justify-between items-center",children:[f.jsx("span",{className:"font-medium text-gray-900",children:t}),f.jsx("span",{className:`text-xl transition-transform ${n?"rotate-180":""}`,children:""})]}),n&&f.jsx("div",{className:"p-4 text-gray-600 text-sm leading-relaxed bg-white",children:e})]})},Bo={Plus:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Trash:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Edit:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Bank:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 10v8M11 10v8M15 10v8M3 21h18M7 3l4-2 4 2M3 7h18"})}),Chart:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),Spot:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},jD={" ()":68e3," (DCDB)":23e3," (DC)":2e4," (DB)":12e3,:12e3,"/ ()":23e3},ec={nisa_tsumitate:{label:"NISA ()",color:"bg-indigo-600",textColor:"text-indigo-600",limit:12e5},nisa_growth:{label:"NISA ()",color:"bg-indigo-400",textColor:"text-indigo-400",limit:24e5},ideco:{label:"iDeCo",color:"bg-emerald-600",textColor:"text-emerald-600",limit:null},taxable:{label:" ()",color:"bg-slate-600",textColor:"text-slate-600",limit:null}};function Ime(){const{currentUser:t}=gi(),[e,n]=w.useState([]),[r,i]=w.useState(null),[s,l]=w.useState(!1),[u,d]=w.useState(" (DCDB)"),[h,p]=w.useState("recurring"),[g,b]=w.useState(""),[_,E]=w.useState(""),[A,S]=w.useState("nisa_tsumitate"),[j,R]=w.useState(""),[P,U]=w.useState("0"),[V,$]=w.useState(""),[O,I]=w.useState(new Date().toISOString().split("T")[0]),D=w.useCallback(async()=>{if(t)try{const K=fa(Kt(He,"users",t.uid,"investments"),ul("createdAt","desc")),J=await Bn(K);n(J.docs.map(we=>({id:we.id,...we.data()})));const fe=Pt(He,"users",t.uid,"settings","general"),xe=await dl(fe);xe.exists()&&xe.data().occupation&&d(xe.data().occupation)}catch(K){console.error(":",K)}},[t]);w.useEffect(()=>{let K=!0;return(async()=>K&&await D())(),()=>{K=!1}},[D]);const z=async K=>{d(K),t&&await _l(Pt(He,"users",t.uid,"settings","general"),{occupation:K},{merge:!0})},M=()=>{i(null),p("recurring"),b(""),E(""),S("nisa_tsumitate"),R(""),U("0"),$(""),I(new Date().toISOString().split("T")[0]),l(!1)},B=K=>{i(K.id),p(K.type||"recurring"),b(K.name),E(K.institution||""),S(K.accountType),K.type==="spot"?($(K.amount),I(K.date)):(R(K.monthlyAmount),U(K.bonusAmount||"0")),l(!0)},k=async K=>{K.preventDefault();let J={name:g,institution:_,accountType:A.toLowerCase(),type:h,updatedAt:kn()};if(h==="spot"){if(!g||!V||!O)return alert("");J={...J,amount:Number(V),date:O}}else{if(!g||!j)return alert("");J={...J,monthlyAmount:Number(j),bonusAmount:Number(P)}}try{r?await gd(Pt(He,"users",t.uid,"investments",r),J):await fl(Kt(He,"users",t.uid,"investments"),{...J,createdAt:kn()}),M(),D()}catch(fe){console.error(":",fe),alert("")}},he=async K=>{window.confirm("")&&(await Vc(Pt(He,"users",t.uid,"investments",K)),D())},Ae=K=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(K),X=new Date().getFullYear(),oe=K=>e.reduce((J,fe)=>{if(fe.accountType!==K)return J;if(fe.type==="spot")return new Date(fe.date).getFullYear()===X?J+(fe.amount||0):J;{const xe=fe.monthlyAmount||0,we=fe.bonusAmount||0;return J+xe*12+we*2}},0),Z=(jD[u]||23e3)*12,Se=e.filter(K=>(K.type||"recurring")==="recurring"),H=e.filter(K=>K.type==="spot"),q=oe("nisa_tsumitate")+oe("nisa_growth")+oe("ideco")+oe("taxable");return f.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6",children:[f.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:" & "}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"NISAiDeCo"})]}),f.jsxs("button",{onClick:()=>{M(),l(!0)},className:"bg-indigo-600 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-100 hover:scale-[1.02] active:scale-95",children:[f.jsx(Bo.Plus,{})," ",f.jsx("span",{children:""})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-3xl p-8 mb-10 text-white shadow-lg relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-16 -mt-16 blur-3xl"}),f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 font-bold uppercase text-xs tracking-widest mb-1",children:" ()"}),f.jsxs("p",{className:"text-4xl font-black",children:[Ae(q),f.jsx("span",{className:"text-lg text-gray-400 font-bold ml-2",children:"/ "})]})]}),f.jsxs("div",{className:"bg-white/10 px-6 py-4 rounded-2xl backdrop-blur-sm border border-white/10",children:[f.jsx("p",{className:"text-gray-300 font-bold text-xs uppercase tracking-widest mb-1",children:""}),f.jsx("p",{className:"text-2xl font-black",children:Ae(q/12)})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 mb-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-amber-50 p-3 rounded-2xl text-amber-600",children:f.jsx(Bo.Bank,{})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-black text-gray-800",children:"iDeCo ()"}),f.jsxs("p",{className:"text-xs text-gray-400",children:[": ",u]})]})]}),f.jsx("select",{value:u,onChange:K=>z(K.target.value),className:"w-full md:w-72 bg-gray-50 border-none rounded-2xl p-3 text-sm font-bold text-gray-700 outline-none cursor-pointer",children:Object.keys(jD).map(K=>f.jsx("option",{value:K,children:K},K))})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[{label:"NISA ()",val:oe("nisa_tsumitate"),limit:ec.nisa_tsumitate.limit,color:"indigo",icon:""},{label:"NISA ()",val:oe("nisa_growth"),limit:ec.nisa_growth.limit,color:"blue",icon:""},{label:"iDeCo ()",val:oe("ideco"),limit:Z,color:"emerald",icon:""},{label:" ()",val:oe("taxable"),limit:null,color:"slate",icon:""}].map(K=>f.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 relative overflow-hidden group hover:shadow-md transition-all",children:[f.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 -mr-6 -mt-6 bg-${K.color}-50 rounded-full opacity-50 group-hover:scale-110 transition-transform`}),f.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:[K.icon," ",K.label]}),f.jsx("span",{className:"text-xl font-black text-gray-900",children:Ae(K.val)}),f.jsx("p",{className:"text-[10px] text-gray-400 mt-1 font-bold",children:K.limit?` ${Ae(Math.max(0,K.limit-K.val))}`:" ()"})]}),K.limit?f.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${K.val>K.limit?"bg-red-500":`bg-${K.color}-500`}`,style:{width:`${Math.min(100,K.val/K.limit*100)}%`}})}):f.jsx("div",{className:"w-full h-1 bg-slate-100 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-slate-400 w-1/3 rounded-full"})}),K.limit&&K.val>K.limit&&f.jsx("p",{className:"text-[9px] text-red-500 font-bold mt-2",children:" "})]})]},K.label))}),f.jsxs("div",{className:"mb-12",children:[f.jsxs("h2",{className:"text-xl font-black text-gray-800 mb-6 flex items-center gap-2",children:[f.jsx(Bo.Chart,{}),"  ()"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Se.length===0?f.jsx("p",{className:"text-gray-400 text-sm",children:""}):Se.map(K=>{const J=ec[K.accountType]||ec.taxable;return f.jsxs("div",{className:"relative group bg-white p-6 rounded-[24px] shadow-sm border border-gray-100 hover:shadow-lg transition-all",children:[f.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>B(K),className:"p-2 text-gray-400 hover:text-indigo-600",children:f.jsx(Bo.Edit,{})}),f.jsx("button",{onClick:()=>he(K.id),className:"p-2 text-gray-400 hover:text-red-600",children:f.jsx(Bo.Trash,{})})]}),f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:`w-2 h-10 rounded-full ${J.color}`}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg text-gray-900",children:K.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-black uppercase px-2 py-0.5 rounded bg-gray-100 text-gray-500",children:J.label}),K.institution&&f.jsxs("span",{className:"text-[10px] text-gray-400 font-bold",children:["@ ",K.institution]})]})]})]}),f.jsxs("div",{className:"flex justify-between items-end border-t border-gray-50 pt-3",children:[f.jsxs("div",{className:"text-2xl font-black text-gray-900 font-mono",children:[Ae(K.monthlyAmount),f.jsx("span",{className:"text-xs text-gray-400 font-bold ml-1",children:"/"})]}),K.bonusAmount>0&&f.jsxs("div",{className:"text-xs font-bold text-indigo-500 bg-indigo-50 px-2 py-1 rounded-lg",children:[" +",Ae(K.bonusAmount)]})]})]},K.id)})})]}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-black text-gray-800 mb-6 flex items-center gap-2",children:[f.jsx(Bo.Spot,{}),"  ()"]}),f.jsx("div",{className:"bg-white rounded-[32px] shadow-sm border border-gray-100 overflow-hidden",children:H.length===0?f.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:""}):f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-wider",children:""}),f.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-wider",children:""}),f.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-wider",children:""}),f.jsx("th",{className:"p-4 text-xs font-black text-gray-400 uppercase tracking-wider text-right",children:""}),f.jsx("th",{className:"p-4 w-20"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-50",children:H.map(K=>{const J=ec[K.accountType]||ec.taxable;return f.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[f.jsx("td",{className:"p-4 text-sm font-bold text-gray-500",children:K.date}),f.jsx("td",{className:"p-4 text-sm font-bold text-gray-900",children:K.name}),f.jsx("td",{className:"p-4",children:f.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-1 rounded ${J.color} text-white`,children:J.label})}),f.jsx("td",{className:"p-4 text-sm font-black text-gray-900 font-mono text-right",children:Ae(K.amount)}),f.jsx("td",{className:"p-4 text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>B(K),className:"text-gray-400 hover:text-indigo-600",children:f.jsx(Bo.Edit,{})}),f.jsx("button",{onClick:()=>he(K.id),className:"text-gray-400 hover:text-red-600",children:f.jsx(Bo.Trash,{})})]})})]},K.id)})})]})})]}),s&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm animate-in fade-in",onClick:M}),f.jsx("div",{className:"bg-white w-full max-w-2xl rounded-[40px] shadow-2xl relative z-10 overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-8",children:[f.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-8",children:r?"":""}),f.jsxs("form",{onSubmit:k,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4 p-1 bg-gray-100 rounded-2xl",children:[f.jsx("button",{type:"button",onClick:()=>p("recurring"),className:`py-3 rounded-xl text-sm font-bold transition-all ${h==="recurring"?"bg-white shadow-sm text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:""}),f.jsx("button",{type:"button",onClick:()=>p("spot"),className:`py-3 rounded-xl text-sm font-bold transition-all ${h==="spot"?"bg-white shadow-sm text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:" ()"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"col-span-1 md:col-span-2",children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:""}),f.jsx("input",{className:"input-field w-full bg-gray-50 p-4 rounded-xl font-bold",value:g,onChange:K=>b(K.target.value),placeholder:": , "})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:""}),f.jsx("input",{className:"input-field w-full bg-gray-50 p-4 rounded-xl font-bold",value:_,onChange:K=>E(K.target.value),placeholder:": SBI"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:""}),f.jsx("select",{className:"input-field w-full bg-gray-50 p-4 rounded-xl font-bold cursor-pointer",value:A,onChange:K=>S(K.target.value),children:Object.entries(ec).map(([K,J])=>f.jsx("option",{value:K,children:J.label},K))})]}),h==="recurring"?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:""}),f.jsx("input",{type:"number",className:"input-field w-full bg-gray-50 p-4 rounded-xl font-bold font-mono text-lg",value:j,onChange:K=>R(K.target.value),placeholder:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:" (2)"}),f.jsx("input",{type:"number",className:"input-field w-full bg-gray-50 p-4 rounded-xl font-bold font-mono text-lg",value:P,onChange:K=>U(K.target.value),placeholder:"0"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:""}),f.jsx("input",{type:"date",className:"input-field w-full bg-gray-50 p-4 rounded-xl font-bold",value:O,onChange:K=>I(K.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:""}),f.jsx("input",{type:"number",className:"input-field w-full bg-gray-50 p-4 rounded-xl font-bold font-mono text-lg",value:V,onChange:K=>$(K.target.value),placeholder:"0"})]})]})]}),f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:M,className:"flex-1 py-4 rounded-xl font-bold text-gray-500 bg-gray-50 hover:bg-gray-100",children:""}),f.jsx("button",{className:"flex-[2] py-4 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-xl shadow-indigo-100",children:""})]})]})]})})]})]})}function Pme(){const{currentUser:t}=gi(),[e,n]=w.useState([]),[r,i]=w.useState(!0),[s,l]=w.useState(!1),[u,d]=w.useState(null),[h,p]=w.useState(""),[g,b]=w.useState("residence"),[_,E]=w.useState(""),[A,S]=w.useState(""),[j,R]=w.useState(""),[P,U]=w.useState(""),[V,$]=w.useState(!0),O=w.useCallback(async()=>{if(t)try{const k=Kt(He,"users",t.uid,"properties"),he=fa(k,ul("createdAt","desc")),X=(await Bn(he)).docs.map(oe=>({id:oe.id,...oe.data()}));n(X)}catch(k){console.error("Error fetching properties:",k)}finally{i(!1)}},[t]);w.useEffect(()=>{O()},[O]);const I=()=>{d(null),p(""),b("residence"),E(""),S(""),R(""),U(""),$(!0)},D=k=>{d(k.id),p(k.name),b(k.type||"residence"),E(k.value||""),S(k.purchaseAge||""),R(k.saleAge||""),U(k.salePrice||""),$(k.repayLinkedLoanOnSale!==!1),window.scrollTo({top:0,behavior:"smooth"})},z=async k=>{if(k.preventDefault(),!!t){if(!h||!_){alert("");return}l(!0);try{const he={name:h,type:g,value:Number(_),purchaseAge:A?Number(A):null,saleAge:j?Number(j):null,salePrice:P?Number(P):null,repayLinkedLoanOnSale:V,updatedAt:kn()};u?(await _l(Pt(He,"users",t.uid,"properties",u),he,{merge:!0}),alert("")):(he.createdAt=kn(),await fl(Kt(He,"users",t.uid,"properties"),he),alert("")),I(),O()}catch(he){console.error("Error saving property:",he),alert("")}finally{l(!1)}}},M=async k=>{if(window.confirm(""))try{await Vc(Pt(He,"users",t.uid,"properties",k)),O()}catch(he){console.error("Delete failed",he),alert("")}},B=k=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}).format(k);return f.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:""}),f.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-8 border-t-4 border-blue-500",children:[f.jsxs("h2",{className:"text-xl font-semibold mb-6 flex justify-between items-center",children:[f.jsx("span",{children:u?"":""}),u&&f.jsx("button",{onClick:I,className:"text-xs text-gray-400 hover:text-gray-600",children:""})]}),f.jsxs("form",{onSubmit:z,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),f.jsx("input",{type:"text",value:h,onChange:k=>p(k.target.value),className:"w-full border border-gray-300 rounded-md p-2.5 focus:ring-blue-500",placeholder:": , A",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),f.jsxs("select",{value:g,onChange:k=>b(k.target.value),className:"w-full border border-gray-300 rounded-md p-2.5 focus:ring-blue-500 bg-white",children:[f.jsx("option",{value:"residence",children:""}),f.jsx("option",{value:"business",children:" ()"}),f.jsx("option",{value:"other",children:""})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"}),f.jsx("input",{type:"number",value:_,onChange:k=>E(k.target.value),className:"w-full border border-gray-300 rounded-md p-2.5 focus:ring-blue-500",placeholder:"30000000",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"/  ()"}),f.jsx("input",{type:"number",value:A,onChange:k=>S(k.target.value),className:"w-full border border-gray-300 rounded-md p-2.5 focus:ring-blue-500",placeholder:"35"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  ()"}),f.jsx("input",{type:"number",value:j,onChange:k=>R(k.target.value),className:"w-full border border-gray-300 rounded-md p-2.5 focus:ring-blue-500",placeholder:"60"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"}),f.jsx("input",{type:"number",value:P,onChange:k=>U(k.target.value),className:"w-full border border-gray-300 rounded-md p-2.5 focus:ring-blue-500",placeholder:"25000000"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 p-3 rounded-md",children:[f.jsx("input",{type:"checkbox",id:"repayLoanOnSaleForm",checked:V,onChange:k=>$(k.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),f.jsx("label",{htmlFor:"repayLoanOnSaleForm",className:"text-sm font-bold text-blue-800 cursor-pointer",children:" ()"})]}),f.jsx("div",{className:"flex justify-end pt-2",children:f.jsx("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white font-bold py-3 px-10 rounded-lg shadow hover:bg-blue-700 disabled:opacity-50 transition-all",children:s?"...":u?"":""})})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?f.jsx("div",{className:"col-span-full py-10 text-center text-gray-400",children:"..."}):e.length>0?e.map(k=>f.jsxs("div",{className:`bg-white shadow rounded-xl p-5 border-l-8 ${k.type==="residence"?"border-green-500":"border-blue-500"} hover:shadow-lg transition-all relative`,children:[f.jsxs("div",{className:"absolute top-3 right-3 flex gap-1",children:[f.jsx("button",{onClick:()=>D(k),className:"text-gray-300 hover:text-blue-600 p-1",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:()=>M(k.id),className:"text-gray-300 hover:text-red-500 p-1",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),f.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter ${k.type==="residence"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:k.type==="residence"?"":k.type==="business"?"":""}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 mt-2 mb-4",children:k.name}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsx("span",{className:"font-bold",children:B(k.value)})]}),k.saleAge&&f.jsxs("div",{className:"flex justify-between items-center text-sm border-t pt-2",children:[f.jsx("span",{className:"text-gray-500",children:""}),f.jsxs("span",{className:"font-bold text-red-600",children:[k.saleAge," / ",B(k.salePrice)]})]}),k.repayLinkedLoanOnSale&&f.jsx("div",{className:"text-[10px] text-gray-400 font-bold bg-gray-50 p-1 rounded",children:""})]})]},k.id)):f.jsx("div",{className:"col-span-full bg-gray-50 rounded-xl p-12 text-center border-2 border-dashed border-gray-200",children:f.jsx("p",{className:"text-gray-400",children:""})})})]})}function ta({children:t}){const{currentUser:e}=gi();return e?t:f.jsx(TB,{to:"/login"})}function Rme(){return f.jsxs(f.Fragment,{children:[f.jsx(OG,{}),f.jsx("div",{className:"pb-24 md:pb-0 min-h-screen bg-gray-50",children:f.jsxs(jB,{children:[f.jsx(oi,{path:"/login",element:f.jsx(_me,{})}),f.jsx(oi,{path:"/",element:f.jsx(ta,{children:f.jsx(xhe,{})})}),f.jsx(oi,{path:"/portfolio",element:f.jsx(ta,{children:f.jsx(tme,{})})}),f.jsx(oi,{path:"/assets",element:f.jsx(ta,{children:f.jsx(ome,{})})}),f.jsx(oi,{path:"/properties",element:f.jsx(ta,{children:f.jsx(Pme,{})})}),f.jsx(oi,{path:"/loans",element:f.jsx(ta,{children:f.jsx(lme,{})})}),f.jsx(oi,{path:"/cashflow",element:f.jsx(ta,{children:f.jsx(cme,{})})}),f.jsx(oi,{path:"/investments",element:f.jsx(ta,{children:f.jsx(Ime,{})})}),f.jsx(oi,{path:"/life-plan",element:f.jsx(ta,{children:f.jsx(vme,{})})}),f.jsx(oi,{path:"/chat",element:f.jsx(ta,{children:f.jsx(xme,{})})}),f.jsx(oi,{path:"/settings",element:f.jsx(ta,{children:f.jsx(bme,{})})}),f.jsx(oi,{path:"/help",element:f.jsx(ta,{children:f.jsx(wme,{})})})]})}),f.jsx(IG,{})]})}function kme(){return f.jsx(JB,{basename:"/lifescape/",children:f.jsx(CG,{children:f.jsx(Rme,{})})})}Oz.createRoot(document.getElementById("root")).render(f.jsx(w.StrictMode,{children:f.jsx(kme,{})}));
